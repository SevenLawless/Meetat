var e,t,n;import{r,a as i,u as o,L as a,b as s,c as l,g as c,R as u,d,e as h,O as m,f as p,h as f,N as g,B as v}from"./vendor-CbMxbDiR.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var b={exports:{}},y={};!function(){var e=r,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),f=Symbol.iterator;var g=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];!function(e,t,n){var r=g.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var i=n.map(function(e){return String(e)});i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}("error",e,n)}var b;function x(e){return e.displayName||"Context"}function w(e){if(null==e)return null;if("number"==typeof e.tag&&v("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case i:return"Fragment";case n:return"Portal";case a:return"Profiler";case o:return"StrictMode";case u:return"Suspense";case d:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case l:return x(e)+".Consumer";case s:return x(e._context)+".Provider";case c:return function(e,t,n){var r=e.displayName;if(r)return r;var i=t.displayName||t.name||"";return""!==i?n+"("+i+")":n}(e,e.render,"ForwardRef");case h:var t=e.displayName||null;return null!==t?t:w(e.type)||"Memo";case m:var r=e,p=r._payload,f=r._init;try{return w(f(p))}catch(g){return null}}return null}b=Symbol.for("react.module.reference");var C,N,M,D,S,j,E,k=Object.assign,P=0;function W(){}W.__reactDisabledLog=!0;var R,A=g.ReactCurrentDispatcher;function O(e,t,n){if(void 0===R)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);R=r&&r[1]||""}return"\n"+R+e}var T,V=!1,F="function"==typeof WeakMap?WeakMap:Map;function I(e,t){if(!e||V)return"";var n,r=T.get(e);if(void 0!==r)return r;V=!0;var i,o=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=A.current,A.current=null,function(){if(0===P){C=console.log,N=console.info,M=console.warn,D=console.error,S=console.group,j=console.groupCollapsed,E=console.groupEnd;var e={configurable:!0,enumerable:!0,value:W,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}P++}();try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(p){n=p}Reflect.construct(e,[],a)}else{try{a.call()}catch(p){n=p}e.call(a.prototype)}}else{try{throw Error()}catch(p){n=p}e()}}catch(f){if(f&&n&&"string"==typeof f.stack){for(var s=f.stack.split("\n"),l=n.stack.split("\n"),c=s.length-1,u=l.length-1;c>=1&&u>=0&&s[c]!==l[u];)u--;for(;c>=1&&u>=0;c--,u--)if(s[c]!==l[u]){if(1!==c||1!==u)do{if(c--,--u<0||s[c]!==l[u]){var d="\n"+s[c].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),"function"==typeof e&&T.set(e,d),d}}while(c>=1&&u>=0);break}}}finally{V=!1,A.current=i,function(){if(0===--P){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:k({},e,{value:C}),info:k({},e,{value:N}),warn:k({},e,{value:M}),error:k({},e,{value:D}),group:k({},e,{value:S}),groupCollapsed:k({},e,{value:j}),groupEnd:k({},e,{value:E})})}P<0&&v("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=o}var h=e?e.displayName||e.name:"",m=h?O(h):"";return"function"==typeof e&&T.set(e,m),m}function L(e,t,n){if(null==e)return"";if("function"==typeof e)return I(e,!(!(r=e.prototype)||!r.isReactComponent));var r;if("string"==typeof e)return O(e);switch(e){case u:return O("Suspense");case d:return O("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case c:return I(e.render,!1);case h:return L(e.type,t,n);case m:var i=e,o=i._payload,a=i._init;try{return L(a(o),t,n)}catch(s){}}return""}T=new F;var B=Object.prototype.hasOwnProperty,H={},_=g.ReactDebugCurrentFrame;function G(e){if(e){var t=e._owner,n=L(e.type,e._source,t?t.type:null);_.setExtraStackFrame(n)}else _.setExtraStackFrame(null)}var z=Array.isArray;function $(e){return z(e)}function U(e){return""+e}function K(e){if(function(e){try{return U(e),!1}catch(t){return!0}}(e))return v("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),U(e)}var q,X,Y,Z=g.ReactCurrentOwner,J={key:!0,ref:!0,__self:!0,__source:!0};Y={};function Q(e,n,r,i,o){var a,s={},l=null,c=null;for(a in void 0!==r&&(K(r),l=""+r),function(e){if(B.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(n)&&(K(n.key),l=""+n.key),function(e){if(B.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(n)&&(c=n.ref,function(e,t){if("string"==typeof e.ref&&Z.current&&t&&Z.current.stateNode!==t){var n=w(Z.current.type);Y[n]||(v('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',w(Z.current.type),e.ref),Y[n]=!0)}}(n,o)),n)B.call(n,a)&&!J.hasOwnProperty(a)&&(s[a]=n[a]);if(e&&e.defaultProps){var u=e.defaultProps;for(a in u)void 0===s[a]&&(s[a]=u[a])}if(l||c){var d="function"==typeof e?e.displayName||e.name||"Unknown":e;l&&function(e,t){var n=function(){q||(q=!0,v("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}(s,d),c&&function(e,t){var n=function(){X||(X=!0,v("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}(s,d)}return function(e,n,r,i,o,a,s){var l={$$typeof:t,type:e,key:n,ref:r,props:s,_owner:a,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l}(e,l,c,o,i,Z.current,s)}var ee,te=g.ReactCurrentOwner,ne=g.ReactDebugCurrentFrame;function re(e){if(e){var t=e._owner,n=L(e.type,e._source,t?t.type:null);ne.setExtraStackFrame(n)}else ne.setExtraStackFrame(null)}function ie(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function oe(){if(te.current){var e=w(te.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}ee=!1;var ae={};function se(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=oe();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!ae[n]){ae[n]=!0;var r="";e&&e._owner&&e._owner!==te.current&&(r=" It was passed a child from "+w(e._owner.type)+"."),re(e),v('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,r),re(null)}}}function le(e,t){if("object"==typeof e)if($(e))for(var n=0;n<e.length;n++){var r=e[n];ie(r)&&se(r,t)}else if(ie(e))e._store&&(e._store.validated=!0);else if(e){var i=function(e){if(null===e||"object"!=typeof e)return null;var t=f&&e[f]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof i&&i!==e.entries)for(var o,a=i.call(e);!(o=a.next()).done;)ie(o.value)&&se(o.value,t)}}function ce(e){var t,n=e.type;if(null!=n&&"string"!=typeof n){if("function"==typeof n)t=n.propTypes;else{if("object"!=typeof n||n.$$typeof!==c&&n.$$typeof!==h)return;t=n.propTypes}if(t){var r=w(n);!function(e,t,n,r,i){var o=Function.call.bind(B);for(var a in e)if(o(e,a)){var s=void 0;try{if("function"!=typeof e[a]){var l=Error((r||"React class")+": "+n+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}s=e[a](t,a,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(c){s=c}!s||s instanceof Error||(G(i),v("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,a,typeof s),G(null)),s instanceof Error&&!(s.message in H)&&(H[s.message]=!0,G(i),v("Failed %s type: %s",n,s.message),G(null))}}(t,e.props,"prop",r,e)}else if(void 0!==n.PropTypes&&!ee){ee=!0,v("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",w(n)||"Unknown")}"function"!=typeof n.getDefaultProps||n.getDefaultProps.isReactClassApproved||v("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var ue={};var de=function(e,n,r,f,g,y){var x=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===a||e===o||e===u||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===s||e.$$typeof===l||e.$$typeof===c||e.$$typeof===b||void 0!==e.getModuleId)}(e);if(!x){var C="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(C+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var N,M=function(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(g);C+=M||oe(),null===e?N="null":$(e)?N="array":void 0!==e&&e.$$typeof===t?(N="<"+(w(e.type)||"Unknown")+" />",C=" Did you accidentally export a JSX literal instead of a component?"):N=typeof e,v("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",N,C)}var D=Q(e,n,r,g,y);if(null==D)return D;if(x){var S=n.children;if(void 0!==S)if(f)if($(S)){for(var j=0;j<S.length;j++)le(S[j],e);Object.freeze&&Object.freeze(S)}else v("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else le(S,e)}if(B.call(n,"key")){var E=w(e),k=Object.keys(n).filter(function(e){return"key"!==e}),P=k.length>0?"{key: someKey, "+k.join(": ..., ")+": ...}":"{key: someKey}";if(!ue[E+P])v('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',P,E,k.length>0?"{"+k.join(": ..., ")+": ...}":"{}",E),ue[E+P]=!0}return e===i?function(e){for(var t=Object.keys(e.props),n=0;n<t.length;n++){var r=t[n];if("children"!==r&&"key"!==r){re(e),v("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",r),re(null);break}}null!==e.ref&&(re(e),v("Invalid attribute `ref` supplied to `React.Fragment`."),re(null))}(D):ce(D),D};y.Fragment=i,y.jsxDEV=de}(),b.exports=y;var x=b.exports,w={},C=i,N=C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;w.createRoot=function(e,t){N.usingClientEntryPoint=!0;try{return C.createRoot(e,t)}finally{N.usingClientEntryPoint=!1}},w.hydrateRoot=function(e,t,n){N.usingClientEntryPoint=!0;try{return C.hydrateRoot(e,t,n)}finally{N.usingClientEntryPoint=!1}};const M="http://localhost:3001/api";const D=new class{constructor(){this.token=localStorage.getItem("token")}setToken(e){this.token=e,e?localStorage.setItem("token",e):localStorage.removeItem("token")}getToken(){return this.token||localStorage.getItem("token")}async request(e,t={}){const n=`${M}${e}`,r={"Content-Type":"application/json",...t.headers};this.getToken()&&(r.Authorization=`Bearer ${this.getToken()}`);const i=await fetch(n,{...t,headers:r});if(!i.ok&&0===i.status)throw new Error("Unable to connect to server. Please ensure the backend is running.");let o;const a=i.headers.get("content-type");if(!a||!a.includes("application/json")){const e=await i.text();if(e.trim().startsWith("<!DOCTYPE html>")||e.trim().startsWith("<html")){throw new Error(`API configuration error: Received HTML instead of JSON from ${n}. This usually means the API request hit the static file server instead of the backend. Please verify that VITE_API_URL is set correctly (currently: ${"http://localhost:3001"}).`)}throw new Error(`Server error: ${i.status} ${i.statusText} - ${e.substring(0,100)}`)}try{o=await i.json()}catch(s){throw new Error(`Failed to parse JSON response: ${i.status} ${i.statusText}`)}if(!i.ok){const e=(null==o?void 0:o.error)||(null==o?void 0:o.message)||`Request failed with status ${i.status}`;throw new Error(e)}return o}async register(e,t,n){const r=await this.request("/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t,name:n})});return this.setToken(r.token),r}async login(e,t){const n=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return this.setToken(n.token),n}async getMe(){return this.request("/auth/me")}logout(){this.setToken(null)}async getUsers(e=""){const t=e?`?search=${encodeURIComponent(e)}`:"";return this.request(`/users${t}`)}async getUser(e){return this.request(`/users/${e}`)}async getProjects(){return this.request("/projects")}async getProject(e){return this.request(`/projects/${e}`)}async createProject(e,t){return this.request("/projects",{method:"POST",body:JSON.stringify({name:e,description:t})})}async updateProject(e,t){return this.request(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteProject(e){return this.request(`/projects/${e}`,{method:"DELETE"})}async addProjectMember(e,t,n="member"){return this.request(`/projects/${e}/members`,{method:"POST",body:JSON.stringify({user_id:t,role:n})})}async removeProjectMember(e,t){return this.request(`/projects/${e}/members/${t}`,{method:"DELETE"})}async getProjectMembers(e){return this.request(`/projects/${e}/members`)}async getMissions(e){return this.request(`/missions/project/${e}`)}async getMission(e){return this.request(`/missions/${e}`)}async createMission(e,t,n){return this.request("/missions",{method:"POST",body:JSON.stringify({project_id:e,name:t,description:n})})}async updateMission(e,t){return this.request(`/missions/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteMission(e){return this.request(`/missions/${e}`,{method:"DELETE"})}async reorderMissions(e,t){return this.request(`/missions/reorder/${e}`,{method:"PUT",body:JSON.stringify({order:t})})}async getTasks(e){return this.request(`/tasks/mission/${e}`)}async getTask(e){return this.request(`/tasks/${e}`)}async createTask(e){return this.request("/tasks",{method:"POST",body:JSON.stringify(e)})}async updateTask(e,t){return this.request(`/tasks/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteTask(e){return this.request(`/tasks/${e}`,{method:"DELETE"})}async uploadAttachment(e,t){const n=new FormData;n.append("file",t);const r=await fetch(`${M}/tasks/${e}/attachments`,{method:"POST",headers:{Authorization:`Bearer ${this.getToken()}`},body:n}),i=await r.json();if(!r.ok)throw new Error(i.error||"Upload failed");return i}async deleteAttachment(e,t){return this.request(`/tasks/${e}/attachments/${t}`,{method:"DELETE"})}async getComments(e){return this.request(`/comments/task/${e}`)}async addComment(e,t){return this.request(`/comments/task/${e}`,{method:"POST",body:JSON.stringify({content:t})})}async updateComment(e,t){return this.request(`/comments/${e}`,{method:"PUT",body:JSON.stringify({content:t})})}async deleteComment(e){return this.request(`/comments/${e}`,{method:"DELETE"})}async getNotifications(e=!1){const t=e?"?unread_only=true":"";return this.request(`/notifications${t}`)}async markNotificationRead(e){return this.request(`/notifications/${e}/read`,{method:"PUT"})}async markAllNotificationsRead(){return this.request("/notifications/read-all",{method:"PUT"})}async deleteNotification(e){return this.request(`/notifications/${e}`,{method:"DELETE"})}async dismissNotifications(e){return this.request("/notifications/dismiss",{method:"POST",body:JSON.stringify({notification_ids:e})})}async getTodos(){return this.request("/todos")}async createTodo(e,t,n){return this.request("/todos",{method:"POST",body:JSON.stringify({title:e,notes:t,reminder_at:n})})}async updateTodo(e,t){return this.request(`/todos/${e}`,{method:"PUT",body:JSON.stringify(t)})}async toggleTodo(e){return this.request(`/todos/${e}/toggle`,{method:"PUT"})}async reorderTodos(e){return this.request("/todos/reorder",{method:"PUT",body:JSON.stringify({order:e})})}async deleteTodo(e){return this.request(`/todos/${e}`,{method:"DELETE"})}async getCampaigns(e){return this.request(`/campaigns/project/${e}`)}async getCampaign(e){return this.request(`/campaigns/${e}`)}async createCampaign(e){return this.request("/campaigns",{method:"POST",body:JSON.stringify(e)})}async updateCampaign(e,t){return this.request(`/campaigns/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteCampaign(e){return this.request(`/campaigns/${e}`,{method:"DELETE"})}async ingestMetrics(e,t){return this.request(`/campaigns/${e}/metrics`,{method:"POST",body:JSON.stringify({metrics:t})})}async getAggregatedMetrics(e,t={}){const n=new URLSearchParams;return t.startDate&&n.append("start_date",t.startDate),t.endDate&&n.append("end_date",t.endDate),t.groupBy&&n.append("group_by",t.groupBy),this.request(`/campaigns/project/${e}/aggregate?${n}`)}async getMarketingOverview(){return this.request("/marketing/overview")}async createMarketingCard(e){return this.request("/marketing/cards",{method:"POST",body:JSON.stringify(e)})}async updateMarketingCard(e,t){return this.request(`/marketing/cards/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteMarketingCard(e){return this.request(`/marketing/cards/${e}`,{method:"DELETE"})}async getMarketingCardTransactions(e){return this.request(`/marketing/cards/${e}/transactions`)}async deleteMarketingTransaction(e){return this.request(`/marketing/transactions/${e}`,{method:"DELETE"})}async createMarketingRevenueColdToReal(e){return this.request("/marketing/transactions/revenue/cold-to-real",{method:"POST",body:JSON.stringify(e)})}async createMarketingRevenueFromOtherCardCold(e){return this.request("/marketing/transactions/revenue/from-card-cold",{method:"POST",body:JSON.stringify(e)})}async createMarketingExpenseSpend(e){return this.request("/marketing/transactions/expense/spend",{method:"POST",body:JSON.stringify(e)})}async createMarketingExpenseRealToCold(e){return this.request("/marketing/transactions/expense/real-to-cold",{method:"POST",body:JSON.stringify(e)})}async createMarketingAdAccount(e){return this.request("/marketing/ad-accounts",{method:"POST",body:JSON.stringify(e)})}async updateMarketingAdAccount(e,t){return this.request(`/marketing/ad-accounts/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteMarketingAdAccount(e){return this.request(`/marketing/ad-accounts/${e}`,{method:"DELETE"})}async getAuditLogs(e={}){const t=new URLSearchParams;return e.userId&&t.append("user_id",e.userId),e.objectType&&t.append("object_type",e.objectType),e.action&&t.append("action",e.action),e.startDate&&t.append("start_date",e.startDate),e.endDate&&t.append("end_date",e.endDate),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),this.request(`/audit?${t}`)}async getAuditStats(){return this.request("/audit/stats")}},S=r.createContext(null),j=()=>{const e=r.useContext(S);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},E=({children:e})=>{const[t,n]=r.useState(null),[i,o]=r.useState(!0);r.useEffect(()=>{a()},[]);const a=async()=>{if(D.getToken())try{const e=await D.getMe();n(e.user)}catch(e){console.error("Auth check failed:",e),D.logout()}finally{o(!1)}else o(!1)},s="admin"===(null==t?void 0:t.role);return x.jsxDEV(S.Provider,{value:{user:t,loading:i,login:async(e,t)=>{const r=await D.login(e,t);return n(r.user),r},register:async(e,t,r)=>{const i=await D.register(e,t,r);return n(i.user),i},logout:()=>{D.logout(),n(null)},isAdmin:s},children:e},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/context/AuthContext.jsx",lineNumber:60,columnNumber:5},void 0)};
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var k={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=(e,t)=>{const n=r.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...c},u)=>{return r.createElement("svg",{ref:u,...k,width:i,height:i,stroke:n,strokeWidth:a?24*Number(o)/Number(i):o,className:["lucide",`lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,s].join(" "),...c},[...t.map(([e,t])=>r.createElement(e,t)),...Array.isArray(l)?l:[l]]);var d});return n.displayName=`${e}`,n},W=P("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),R=P("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),A=P("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),O=P("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),T=P("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),V=P("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),F=P("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),I=P("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),L=P("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),B=P("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),H=P("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),_=P("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),G=P("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),z=P("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$=P("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),U=P("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),K=P("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),q=P("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),X=P("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Y=P("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Z=P("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),J=P("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Q=P("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]),ee=P("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),te=P("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ne=P("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),re=P("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ie=P("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),oe=P("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ae=P("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),se=P("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),le=P("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),ce=P("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]),ue=P("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),de=P("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),he=P("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),me=P("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),pe=P("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),fe=P("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ge=P("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ve=P("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),be=P("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),ye=P("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),xe=P("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),we=P("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Ce=P("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ne=P("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Me=P("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),De=P("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Se=P("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),je=()=>{const[e,t]=r.useState(""),[n,i]=r.useState(""),[s,l]=r.useState(""),[c,u]=r.useState(!1),{login:d}=j(),h=o();return x.jsxDEV("div",{className:"min-h-screen bg-surface-50 flex items-center justify-center p-4",children:x.jsxDEV("div",{className:"w-full max-w-md",children:[x.jsxDEV("div",{className:"text-center mb-8 animate-fade-in",children:[x.jsxDEV("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-primary-800 mb-4 shadow-soft",children:x.jsxDEV(Q,{className:"w-7 h-7 text-white"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:35,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:34,columnNumber:11},void 0),x.jsxDEV("h1",{className:"text-2xl font-bold text-surface-900",children:"Meetat"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:37,columnNumber:11},void 0),x.jsxDEV("p",{className:"text-surface-500 mt-1",children:"Project Management for Startups"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:38,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:33,columnNumber:9},void 0),x.jsxDEV("div",{className:"card p-8 animate-slide-up",children:[x.jsxDEV("h2",{className:"text-xl font-semibold text-surface-900 mb-6",children:"Welcome back"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:43,columnNumber:11},void 0),s&&x.jsxDEV("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[x.jsxDEV(R,{className:"w-5 h-5 flex-shrink-0"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:47,columnNumber:15},void 0),x.jsxDEV("span",{className:"text-sm",children:s},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:48,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:46,columnNumber:13},void 0),x.jsxDEV("form",{onSubmit:async t=>{t.preventDefault(),l(""),u(!0);try{await d(e,n),h("/")}catch(r){l(r.message)}finally{u(!1)}},className:"space-y-5",children:[x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Email"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:54,columnNumber:15},void 0),x.jsxDEV("div",{className:"relative",children:[x.jsxDEV(oe,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:56,columnNumber:17},void 0),x.jsxDEV("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"input pl-11",placeholder:"you@example.com",required:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:57,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:55,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:53,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Password"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:69,columnNumber:15},void 0),x.jsxDEV("div",{className:"relative",children:[x.jsxDEV(re,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:71,columnNumber:17},void 0),x.jsxDEV("input",{type:"password",value:n,onChange:e=>i(e.target.value),className:"input pl-11",placeholder:"••••••••",required:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:72,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:70,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:68,columnNumber:13},void 0),x.jsxDEV("button",{type:"submit",disabled:c,className:"w-full btn-primary btn-lg",children:c?x.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:89,columnNumber:17},void 0):x.jsxDEV(x.Fragment,{children:["Sign in",x.jsxDEV(O,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:93,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:91,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:83,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:52,columnNumber:11},void 0),x.jsxDEV("p",{className:"mt-6 text-center text-surface-600 text-sm",children:["Don't have an account?"," ",x.jsxDEV(a,{to:"/register",className:"text-primary-700 hover:text-primary-800 font-medium",children:"Sign up"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:101,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:99,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:42,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:31,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Login.jsx",lineNumber:30,columnNumber:5},void 0)},Ee=()=>{const[e,t]=r.useState(""),[n,i]=r.useState(""),[s,l]=r.useState(""),[c,u]=r.useState(""),[d,h]=r.useState(""),[m,p]=r.useState(!1),{register:f}=j(),g=o();return x.jsxDEV("div",{className:"min-h-screen bg-surface-50 flex items-center justify-center p-4",children:x.jsxDEV("div",{className:"w-full max-w-md",children:[x.jsxDEV("div",{className:"text-center mb-8 animate-fade-in",children:[x.jsxDEV("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-primary-800 mb-4 shadow-soft",children:x.jsxDEV(Q,{className:"w-7 h-7 text-white"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:48,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:47,columnNumber:11},void 0),x.jsxDEV("h1",{className:"text-2xl font-bold text-surface-900",children:"Meetat"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:50,columnNumber:11},void 0),x.jsxDEV("p",{className:"text-surface-500 mt-1",children:"Create your account"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:51,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:46,columnNumber:9},void 0),x.jsxDEV("div",{className:"card p-8 animate-slide-up",children:[x.jsxDEV("h2",{className:"text-xl font-semibold text-surface-900 mb-6",children:"Get started"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:56,columnNumber:11},void 0),d&&x.jsxDEV("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[x.jsxDEV(R,{className:"w-5 h-5 flex-shrink-0"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:60,columnNumber:15},void 0),x.jsxDEV("span",{className:"text-sm",children:d},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:61,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:59,columnNumber:13},void 0),x.jsxDEV("form",{onSubmit:async t=>{if(t.preventDefault(),h(""),s===c)if(s.length<6)h("Password must be at least 6 characters");else{p(!0);try{await f(n,s,e),g("/")}catch(r){h(r.message)}finally{p(!1)}}else h("Passwords do not match")},className:"space-y-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Full Name"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:67,columnNumber:15},void 0),x.jsxDEV("div",{className:"relative",children:[x.jsxDEV(Me,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:69,columnNumber:17},void 0),x.jsxDEV("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"input pl-11",placeholder:"John Doe",required:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:70,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:68,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:66,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Email"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:82,columnNumber:15},void 0),x.jsxDEV("div",{className:"relative",children:[x.jsxDEV(oe,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:84,columnNumber:17},void 0),x.jsxDEV("input",{type:"email",value:n,onChange:e=>i(e.target.value),className:"input pl-11",placeholder:"you@example.com",required:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:85,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:83,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:81,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Password"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:97,columnNumber:15},void 0),x.jsxDEV("div",{className:"relative",children:[x.jsxDEV(re,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:99,columnNumber:17},void 0),x.jsxDEV("input",{type:"password",value:s,onChange:e=>l(e.target.value),className:"input pl-11",placeholder:"••••••••",required:!0,minLength:6},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:100,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:98,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:96,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Confirm Password"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:113,columnNumber:15},void 0),x.jsxDEV("div",{className:"relative",children:[x.jsxDEV(re,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:115,columnNumber:17},void 0),x.jsxDEV("input",{type:"password",value:c,onChange:e=>u(e.target.value),className:"input pl-11",placeholder:"••••••••",required:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:116,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:114,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:112,columnNumber:13},void 0),x.jsxDEV("button",{type:"submit",disabled:m,className:"w-full btn-primary btn-lg mt-2",children:m?x.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:133,columnNumber:17},void 0):x.jsxDEV(x.Fragment,{children:["Create account",x.jsxDEV(O,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:137,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:135,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:127,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:65,columnNumber:11},void 0),x.jsxDEV("p",{className:"mt-6 text-center text-surface-600 text-sm",children:["Already have an account?"," ",x.jsxDEV(a,{to:"/login",className:"text-primary-700 hover:text-primary-800 font-medium",children:"Sign in"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:145,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:143,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:55,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:44,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Register.jsx",lineNumber:43,columnNumber:5},void 0)},ke=()=>{var e;const{user:t}=j(),[n,i]=r.useState([]),[o,s]=r.useState(!0),[l,c]=r.useState(!1),[u,d]=r.useState(null),[h,m]=r.useState(""),[p,f]=r.useState(""),[g,v]=r.useState(!1),[b,y]=r.useState(null);r.useEffect(()=>{w()},[]);const w=async()=>{try{const e=await D.getProjects();i(e.projects)}catch(e){console.error("Failed to load projects:",e)}finally{s(!1)}},C=()=>{c(!1),d(null),m(""),f("")};return x.jsxDEV("div",{className:"max-w-6xl mx-auto animate-fade-in",children:[x.jsxDEV("div",{className:"flex items-center justify-between mb-8",children:[x.jsxDEV("div",{children:[x.jsxDEV("h1",{className:"text-2xl font-bold text-surface-900",children:["Welcome back, ",null==(e=null==t?void 0:t.name)?void 0:e.split(" ")[0]]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:99,columnNumber:11},void 0),x.jsxDEV("p",{className:"text-surface-500 mt-1",children:"Manage your projects and collaborate with your team"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:102,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:98,columnNumber:9},void 0),x.jsxDEV("button",{onClick:()=>c(!0),className:"btn-primary",children:[x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:110,columnNumber:11},void 0),"New Project"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:106,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:97,columnNumber:7},void 0),o?x.jsxDEV("div",{className:"flex items-center justify-center py-20",children:x.jsxDEV("div",{className:"w-8 h-8 border-2 border-primary-200 border-t-primary-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:118,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:117,columnNumber:9},void 0):0===n.length?x.jsxDEV("div",{className:"card text-center py-16 px-8",children:[x.jsxDEV("div",{className:"w-16 h-16 rounded-full bg-surface-100 flex items-center justify-center mx-auto mb-4",children:x.jsxDEV(Q,{className:"w-8 h-8 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:123,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:122,columnNumber:11},void 0),x.jsxDEV("h3",{className:"text-lg font-semibold text-surface-900 mb-2",children:"No projects yet"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:125,columnNumber:11},void 0),x.jsxDEV("p",{className:"text-surface-500 mb-6 max-w-sm mx-auto",children:"Create your first project to start organizing tasks and collaborating with your team."},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:126,columnNumber:11},void 0),x.jsxDEV("button",{onClick:()=>c(!0),className:"btn-primary",children:[x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:133,columnNumber:13},void 0),"Create Project"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:129,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:121,columnNumber:9},void 0):x.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:n.map((e,t)=>x.jsxDEV("div",{className:"card-hover p-5 animate-slide-up group",style:{animationDelay:50*t+"ms"},children:[x.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[x.jsxDEV("div",{className:"flex items-center gap-3",children:[x.jsxDEV("div",{className:"w-10 h-10 rounded-lg bg-primary-100 flex items-center justify-center",children:x.jsxDEV(Q,{className:"w-5 h-5 text-primary-700"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:148,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:147,columnNumber:19},void 0),x.jsxDEV("div",{children:[x.jsxDEV("h3",{className:"font-semibold text-surface-900 group-hover:text-primary-700 transition-colors",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:151,columnNumber:21},void 0),x.jsxDEV("span",{className:"text-xs text-surface-500 capitalize",children:e.member_role},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:154,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:150,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:146,columnNumber:17},void 0),"owner"===e.member_role&&x.jsxDEV("div",{className:"relative",children:[x.jsxDEV("button",{onClick:t=>{t.preventDefault(),y(b===e.id?null:e.id)},className:"icon-btn opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsxDEV(le,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:169,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:162,columnNumber:21},void 0),b===e.id&&x.jsxDEV("div",{className:"absolute right-0 mt-1 w-36 dropdown z-10 animate-scale-in",children:[x.jsxDEV("button",{onClick:()=>(e=>{d(e),m(e.name),f(e.description||""),c(!0),y(null)})(e),className:"dropdown-item",children:[x.jsxDEV(he,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:178,columnNumber:27},void 0),"Edit"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:174,columnNumber:25},void 0),x.jsxDEV("button",{onClick:()=>{(async e=>{if(confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await D.deleteProject(e),i(n.filter(t=>t.id!==e))}catch(t){console.error("Failed to delete project:",t)}})(e.id),y(null)},className:"dropdown-item-danger",children:[x.jsxDEV(xe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:188,columnNumber:27},void 0),"Delete"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:181,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:173,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:161,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:145,columnNumber:15},void 0),e.description&&x.jsxDEV("p",{className:"text-sm text-surface-500 mb-4 line-clamp-2",children:e.description},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:198,columnNumber:17},void 0),x.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-surface-500 mb-4",children:[x.jsxDEV("div",{className:"flex items-center gap-1.5",children:[x.jsxDEV(H,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:205,columnNumber:19},void 0),x.jsxDEV("span",{children:[e.task_count||0," tasks"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:206,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:204,columnNumber:17},void 0),x.jsxDEV("div",{className:"flex items-center gap-1.5",children:[x.jsxDEV(Q,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:209,columnNumber:19},void 0),x.jsxDEV("span",{children:[e.mission_count||0," missions"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:210,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:208,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:203,columnNumber:15},void 0),x.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t border-surface-100",children:[x.jsxDEV(a,{to:`/project/${e.id}/ads`,className:"flex items-center gap-1.5 text-sm text-surface-500 hover:text-surface-700 transition-colors",children:[x.jsxDEV(ae,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:219,columnNumber:19},void 0),"Ads"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:215,columnNumber:17},void 0),x.jsxDEV(a,{to:`/project/${e.id}`,className:"flex items-center gap-1.5 text-sm text-primary-700 hover:text-primary-800 font-medium transition-colors",children:["Open",x.jsxDEV(O,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:227,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:222,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:214,columnNumber:15},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:140,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:138,columnNumber:9},void 0),l&&x.jsxDEV("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:x.jsxDEV("div",{className:"card w-full max-w-md p-6 animate-scale-in",children:[x.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[x.jsxDEV("h2",{className:"text-lg font-semibold text-surface-900",children:u?"Edit Project":"Create Project"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:240,columnNumber:15},void 0),x.jsxDEV("button",{onClick:C,className:"icon-btn",children:x.jsxDEV(Se,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:244,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:243,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:239,columnNumber:13},void 0),x.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),h.trim()){v(!0);try{u?await D.updateProject(u.id,{name:h,description:p}):await D.createProject(h,p),w(),C()}catch(t){console.error("Failed to save project:",t)}finally{v(!1)}}},className:"space-y-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Project Name"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:250,columnNumber:17},void 0),x.jsxDEV("input",{type:"text",value:h,onChange:e=>m(e.target.value),className:"input",placeholder:"My Awesome Project",required:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:251,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:249,columnNumber:15},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Description (optional)"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:262,columnNumber:17},void 0),x.jsxDEV("textarea",{value:p,onChange:e=>f(e.target.value),className:"input min-h-24 resize-none",placeholder:"What is this project about?"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:263,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:261,columnNumber:15},void 0),x.jsxDEV("div",{className:"flex gap-3 pt-2",children:[x.jsxDEV("button",{type:"button",onClick:C,className:"flex-1 btn-secondary",children:"Cancel"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:272,columnNumber:17},void 0),x.jsxDEV("button",{type:"submit",disabled:g||!h.trim(),className:"flex-1 btn-primary",children:g?x.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:281,columnNumber:21},void 0):u?"Save Changes":"Create Project"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:275,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:271,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:248,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:238,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:237,columnNumber:9},void 0),b&&x.jsxDEV("div",{className:"fixed inset-0 z-0",onClick:()=>y(null)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:296,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/Dashboard.jsx",lineNumber:95,columnNumber:5},void 0)},Pe=r.createContext(null),We=()=>{const e=r.useContext(Pe);if(!e)throw new Error("useWebSocket must be used within a WebSocketProvider");return e},Re=({children:e})=>{const{user:t}=j(),[n,i]=r.useState(!1),[o,a]=r.useState([]),[s,l]=r.useState(0),c=r.useRef(null),u=r.useRef(null),d=r.useRef({}),h=r.useRef(null),m=r.useCallback(()=>{var e;if(!t||(null==(e=c.current)?void 0:e.readyState)===WebSocket.OPEN)return;const n=D.getToken();if(!n)return;let r;r=`ws://localhost:3001/ws?token=${n}`;const o=new WebSocket(r);c.current=o,o.onopen=()=>{console.log("WebSocket connected"),i(!0),h.current&&o.send(JSON.stringify({type:"sync",lastEventId:h.current}))},o.onmessage=e=>{try{const t=JSON.parse(e.data);g(t)}catch(t){console.error("WebSocket message error:",t)}},o.onclose=e=>{1e3!==e.code&&console.log("WebSocket disconnected"),i(!1),c.current=null,t&&(u.current=setTimeout(()=>{m()},3e3))},o.onerror=e=>{{const t=e.message||e.toString()||"";t.includes("CONNECTION_REFUSED")||t.includes("Failed to construct")||console.error("WebSocket error:",e)}}},[t]),p=r.useCallback(()=>{u.current&&clearTimeout(u.current),c.current&&(c.current.close(),c.current=null)},[]);r.useEffect(()=>(t?(m(),f()):(p(),a([]),l(0)),()=>p()),[t,m,p]);const f=async()=>{try{const e=await D.getNotifications();a(e.notifications),l(e.unread_count),e.notifications.length>0&&(h.current=e.notifications[0].id)}catch(e){console.error("Failed to load notifications:",e)}},g=e=>{switch(e.type){case"notification":a(t=>[e.data,...t]),l(e=>e+1),h.current=e.data.id,Object.values(d.current).forEach(t=>{t("notification",e.data)});break;case"task_created":case"task_updated":case"task_deleted":case"comment_added":Object.values(d.current).forEach(t=>{t(e.type,e)});break;case"sync":e.notifications&&(a(t=>{const n=new Set(t.map(e=>e.id));return[...e.notifications.filter(e=>!n.has(e.id)),...t]}),l(t=>t+e.notifications.filter(e=>!e.read).length),e.notifications.length>0&&(h.current=e.notifications[e.notifications.length-1].id));break;case"pong":case"connected":case"subscribed":case"unsubscribed":break;case"task_update":Object.values(d.current).forEach(t=>{t(`task_${e.action}`,e.task)});break;case"error":console.error("WebSocket server error:",e.message);break;default:console.log("Unhandled WebSocket message type:",e.type)}},v=r.useCallback(e=>{var t;(null==(t=c.current)?void 0:t.readyState)===WebSocket.OPEN&&c.current.send(JSON.stringify(e))},[]),b=r.useCallback(e=>{v({type:"subscribe_project",projectId:e})},[v]),y=r.useCallback(e=>{v({type:"unsubscribe_project",projectId:e})},[v]),w=r.useCallback((e,t)=>{d.current[e]=t},[]),C=r.useCallback(e=>{delete d.current[e]},[]),N=r.useCallback(e=>{a(t=>{const n=t.find(t=>t.id===e);return n&&!n.read&&l(e=>Math.max(0,e-1)),t.filter(t=>t.id!==e)})},[]);return x.jsxDEV(Pe.Provider,{value:{connected:n,notifications:o,unreadCount:s,send:v,subscribeToProject:b,unsubscribeFromProject:y,addListener:w,removeListener:C,markAsRead:async e=>{try{await D.markNotificationRead(e),a(t=>t.map(t=>t.id===e?{...t,read:!0}:t)),l(e=>Math.max(0,e-1))}catch(t){console.error("Failed to mark notification as read:",t)}},markAllAsRead:async()=>{try{await D.markAllNotificationsRead(),a(e=>e.map(e=>({...e,read:!0}))),l(0)}catch(e){console.error("Failed to mark all as read:",e)}},dismissNotifications:async e=>{try{await D.dismissNotifications(e),a(t=>t.filter(t=>!e.includes(t.id))),l(t=>{const n=o.filter(t=>e.includes(t.id)&&!t.read).length;return Math.max(0,t-n)})}catch(t){console.error("Failed to dismiss notifications:",t)}},removeNotification:N,refreshNotifications:f},children:e},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/context/WebSocketContext.jsx",lineNumber:269,columnNumber:5},void 0)},Ae={"khuna@gmail.com":"khuna.jpg","khtna@gmail.com":"khtna.jpg"},Oe=({user:e,size:t="md",className:n="",showName:i=!1})=>{var o,a;const[s,l]=r.useState(!1),c=(e=>e?e.id&&Ae[e.id]?`/avatars/${Ae[e.id]}`:e.email&&Ae[e.email]?`/avatars/${Ae[e.email]}`:null:null)(e),u=(null==e?void 0:e.name)?e.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):(null==(a=null==(o=null==e?void 0:e.email)?void 0:o[0])?void 0:a.toUpperCase())||"?",d=`rounded-full bg-primary-100 text-primary-800 flex items-center justify-center font-semibold border-2 border-white shadow-sm ${{xs:"w-6 h-6 text-xs",sm:"w-7 h-7 text-xs",md:"w-9 h-9 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-xl"}[t]} ${n}`;return c&&!s?x.jsxDEV("div",{className:"relative inline-block",children:[x.jsxDEV("img",{src:c,alt:(null==e?void 0:e.name)||"Avatar",className:`${d} object-cover`,onError:()=>l(!0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Avatar.jsx",lineNumber:29,columnNumber:9},void 0),i&&(null==e?void 0:e.name)&&x.jsxDEV("span",{className:"ml-2 text-sm font-medium text-surface-700",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Avatar.jsx",lineNumber:36,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Avatar.jsx",lineNumber:28,columnNumber:7},void 0):x.jsxDEV("div",{className:"relative inline-flex items-center",children:[x.jsxDEV("div",{className:d,children:u},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Avatar.jsx",lineNumber:44,columnNumber:7},void 0),i&&(null==e?void 0:e.name)&&x.jsxDEV("span",{className:"ml-2 text-sm font-medium text-surface-700",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Avatar.jsx",lineNumber:48,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Avatar.jsx",lineNumber:43,columnNumber:5},void 0)},Te={todo:"To Do","in-progress":"In Progress",done:"Done"},Ve={todo:"badge-default","in-progress":"badge-warning",done:"badge-success"},Fe={low:"Low",medium:"Medium",high:"High"},Ie={low:"badge-default",medium:"badge-warning",high:"badge-danger"},Le=({task:e,onClose:t,onEdit:n,onDelete:i,onUpdate:o})=>{const[a,s]=r.useState((null==e?void 0:e.comments)||[]),[l,c]=r.useState(""),[u,d]=r.useState(!1);r.useEffect(()=>{(null==e?void 0:e.comments)&&s(e.comments)},[e]);const h=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):null;return e?x.jsxDEV("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-start justify-center z-50 p-4 overflow-y-auto animate-fade-in",children:x.jsxDEV("div",{className:"card w-full max-w-2xl my-8 animate-scale-in",children:[x.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-surface-100",children:[x.jsxDEV("h2",{className:"text-lg font-semibold text-surface-900",children:"Task Details"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:111,columnNumber:11},void 0),x.jsxDEV("div",{className:"flex items-center gap-1",children:[x.jsxDEV("button",{onClick:n,className:"btn-secondary btn-sm",title:"Edit task",children:[x.jsxDEV(he,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:118,columnNumber:15},void 0),"Edit"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:113,columnNumber:13},void 0),x.jsxDEV("button",{onClick:async()=>{if(confirm("Delete this task?"))try{await D.deleteTask(e.id),i&&i()}catch(t){console.error("Failed to delete task:",t)}},className:"icon-btn text-red-500 hover:text-red-600 hover:bg-red-50",title:"Delete task",children:x.jsxDEV(xe,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:126,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:121,columnNumber:13},void 0),x.jsxDEV("button",{onClick:t,className:"icon-btn",children:x.jsxDEV(Se,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:129,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:128,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:112,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:110,columnNumber:9},void 0),x.jsxDEV("div",{className:"p-6",children:[x.jsxDEV("h1",{className:"text-xl font-semibold text-surface-900 mb-4",children:e.title},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:136,columnNumber:11},void 0),x.jsxDEV("div",{className:"flex items-center gap-3 mb-6",children:[x.jsxDEV("span",{className:`badge ${Ve[e.status]}`,children:Te[e.status]},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:140,columnNumber:13},void 0),x.jsxDEV("span",{className:`badge ${Ie[e.priority]}`,children:[Fe[e.priority]," Priority"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:143,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:139,columnNumber:11},void 0),e.description&&x.jsxDEV("div",{className:"mb-6",children:[x.jsxDEV("h3",{className:"text-sm font-medium text-surface-600 mb-2",children:"Description"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:151,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-surface-700 whitespace-pre-wrap bg-surface-50 p-4 rounded-lg border border-surface-100",children:e.description},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:152,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:150,columnNumber:13},void 0),x.jsxDEV("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[x.jsxDEV("div",{className:"bg-surface-50 p-4 rounded-lg border border-surface-100",children:[x.jsxDEV("div",{className:"flex items-center gap-2 text-surface-500 text-sm mb-1",children:[x.jsxDEV(F,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:163,columnNumber:17},void 0),"Due Date"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:162,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-surface-900 font-medium",children:e.due_date?h(e.due_date):"Not set"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:166,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:161,columnNumber:13},void 0),x.jsxDEV("div",{className:"bg-surface-50 p-4 rounded-lg border border-surface-100",children:[x.jsxDEV("div",{className:"flex items-center gap-2 text-surface-500 text-sm mb-1",children:[x.jsxDEV(K,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:174,columnNumber:17},void 0),"Created"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:173,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-surface-900 font-medium",children:h(e.created_at)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:177,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:172,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:159,columnNumber:11},void 0),e.assigned_users&&e.assigned_users.length>0&&x.jsxDEV("div",{className:"mb-6",children:[x.jsxDEV("h3",{className:"text-sm font-medium text-surface-600 mb-2 flex items-center gap-2",children:[x.jsxDEV(De,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:187,columnNumber:17},void 0),"Assigned To"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:186,columnNumber:15},void 0),x.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.assigned_users.map(e=>x.jsxDEV("div",{className:"flex items-center gap-2 bg-surface-50 px-3 py-2 rounded-lg border border-surface-100",children:[x.jsxDEV(Oe,{user:e,size:"sm"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:193,columnNumber:21},void 0),x.jsxDEV("div",{children:[x.jsxDEV("p",{className:"text-sm font-medium text-surface-900",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:195,columnNumber:23},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500",children:e.email},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:196,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:194,columnNumber:21},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:192,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:190,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:185,columnNumber:13},void 0),e.tags&&e.tags.length>0&&x.jsxDEV("div",{className:"mb-6",children:[x.jsxDEV("h3",{className:"text-sm font-medium text-surface-600 mb-2 flex items-center gap-2",children:[x.jsxDEV(be,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:208,columnNumber:17},void 0),"Tags"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:207,columnNumber:15},void 0),x.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.tags.map((e,t)=>x.jsxDEV("span",{className:"badge badge-primary",children:e},t,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:213,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:211,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:206,columnNumber:13},void 0),e.attachments&&e.attachments.length>0&&x.jsxDEV("div",{className:"mb-6",children:[x.jsxDEV("h3",{className:"text-sm font-medium text-surface-600 mb-2 flex items-center gap-2",children:[x.jsxDEV(ue,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:223,columnNumber:17},void 0),"Attachments (",e.attachments.length,")"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:222,columnNumber:15},void 0),x.jsxDEV("div",{className:"space-y-2",children:e.attachments.map(e=>{return x.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-surface-50 rounded-lg border border-surface-100",children:[x.jsxDEV("div",{className:"flex items-center gap-3",children:[x.jsxDEV(ue,{className:"w-4 h-4 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:230,columnNumber:23},void 0),x.jsxDEV("div",{children:[x.jsxDEV("p",{className:"text-sm text-surface-900",children:e.original_name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:232,columnNumber:25},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500",children:(t=e.size,t<1024?t+" B":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB")},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:233,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:231,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:229,columnNumber:21},void 0),x.jsxDEV("a",{href:`/uploads/${e.filename}`,download:e.original_name,className:"btn-secondary btn-sm",children:x.jsxDEV(Y,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:241,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:236,columnNumber:21},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:228,columnNumber:19},void 0);var t})},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:226,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:221,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("h3",{className:"text-sm font-medium text-surface-600 mb-3 flex items-center gap-2",children:[x.jsxDEV(se,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:252,columnNumber:15},void 0),"Comments (",a.length,")"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:251,columnNumber:13},void 0),x.jsxDEV("div",{className:"space-y-3 mb-4 max-h-64 overflow-y-auto",children:0===a.length?x.jsxDEV("p",{className:"text-sm text-surface-500 py-4 text-center bg-surface-50 rounded-lg",children:"No comments yet. Be the first to comment!"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:259,columnNumber:17},void 0):a.map(e=>x.jsxDEV("div",{className:"p-4 bg-surface-50 rounded-lg border border-surface-100",children:[x.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(Oe,{user:{name:e.author_name},size:"sm"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:267,columnNumber:25},void 0),x.jsxDEV("span",{className:"text-sm font-medium text-surface-900",children:e.author_name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:268,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:266,columnNumber:23},void 0),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("span",{className:"text-xs text-surface-500",children:new Date(e.created_at).toLocaleString()},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:271,columnNumber:25},void 0),x.jsxDEV("button",{onClick:()=>(async e=>{try{await D.deleteComment(e),s(a.filter(t=>t.id!==e))}catch(t){console.error("Failed to delete comment:",t)}})(e.id),className:"icon-btn p-1 text-surface-400 hover:text-red-500",children:x.jsxDEV(xe,{className:"w-3 h-3"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:278,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:274,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:270,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:265,columnNumber:21},void 0),x.jsxDEV("p",{className:"text-sm text-surface-700 whitespace-pre-wrap",children:e.content},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:282,columnNumber:21},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:264,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:257,columnNumber:13},void 0),x.jsxDEV("form",{onSubmit:async t=>{if(t.preventDefault(),l.trim()&&e){d(!0);try{const t=await D.addComment(e.id,l);s([...a,t]),c(""),o&&o()}catch(n){console.error("Failed to add comment:",n)}finally{d(!1)}}},className:"flex gap-2",children:[x.jsxDEV("input",{type:"text",value:l,onChange:e=>c(e.target.value),className:"input flex-1 text-sm",placeholder:"Write a comment... (supports @mentions)",disabled:u},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:290,columnNumber:15},void 0),x.jsxDEV("button",{type:"submit",disabled:u||!l.trim(),className:"btn-primary btn-sm",children:u?x.jsxDEV("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:304,columnNumber:19},void 0):x.jsxDEV(ge,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:306,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:298,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:289,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:250,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:134,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:108,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskViewModal.jsx",lineNumber:107,columnNumber:5},void 0):null},Be=({task:e,missionId:t,projectId:n,members:i,onClose:o,onSave:a})=>{const[s,l]=r.useState({title:"",description:"",status:"todo",priority:"medium",due_date:"",assigned_users:[],tags:[]}),[c,u]=r.useState([]),[d,h]=r.useState(""),[m,p]=r.useState(!1),[f,g]=r.useState(!1);r.useEffect(()=>{var t;e?(l({title:e.title||"",description:e.description||"",status:e.status||"todo",priority:e.priority||"medium",due_date:e.due_date?e.due_date.split("T")[0]:"",assigned_users:(null==(t=e.assigned_users)?void 0:t.map(e=>e.id))||[],tags:e.tags||[]}),u(e.attachments||[])):(l({title:"",description:"",status:"todo",priority:"medium",due_date:"",assigned_users:[],tags:[]}),u([]))},[e]);const v=()=>{d.trim()&&!s.tags.includes(d.trim())&&(l({...s,tags:[...s.tags,d.trim()]}),h(""))},b=e=>{const t=s.assigned_users.includes(e);l({...s,assigned_users:t?s.assigned_users.filter(t=>t!==e):[...s.assigned_users,e]})};return x.jsxDEV("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-start justify-center z-50 p-4 overflow-y-auto animate-fade-in",children:[x.jsxDEV("div",{className:"card w-full max-w-2xl my-8 animate-scale-in",children:[x.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-surface-100",children:[x.jsxDEV("h2",{className:"text-lg font-semibold text-surface-900",children:e?"Edit Task":"New Task"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:135,columnNumber:11},void 0),x.jsxDEV("button",{onClick:o,className:"icon-btn",children:x.jsxDEV(Se,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:139,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:138,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:134,columnNumber:9},void 0),x.jsxDEV("form",{onSubmit:async n=>{if(n.preventDefault(),s.title.trim()){p(!0);try{const n={...s,due_date:s.due_date||null};e?await D.updateTask(e.id,n):await D.createTask({mission_id:t,...n}),a()}catch(r){console.error("Failed to save task:",r),alert("Failed to save task: "+r.message)}finally{p(!1)}}},className:"p-6",children:[x.jsxDEV("div",{className:"mb-4",children:[x.jsxDEV("label",{className:"label",children:"Title"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:146,columnNumber:13},void 0),x.jsxDEV("input",{type:"text",value:s.title,onChange:e=>l({...s,title:e.target.value}),className:"input",placeholder:"Task title...",required:!0,autoFocus:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:147,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:145,columnNumber:11},void 0),x.jsxDEV("div",{className:"mb-4",children:[x.jsxDEV("label",{className:"label",children:"Description"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:160,columnNumber:13},void 0),x.jsxDEV("textarea",{value:s.description,onChange:e=>l({...s,description:e.target.value}),className:"input min-h-24 resize-none text-sm",placeholder:"Add description... Use @username to mention someone"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:161,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:159,columnNumber:11},void 0),x.jsxDEV("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Status"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:172,columnNumber:15},void 0),x.jsxDEV("select",{value:s.status,onChange:e=>l({...s,status:e.target.value}),className:"input",children:[x.jsxDEV("option",{value:"todo",children:"To Do"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:178,columnNumber:17},void 0),x.jsxDEV("option",{value:"in-progress",children:"In Progress"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:179,columnNumber:17},void 0),x.jsxDEV("option",{value:"done",children:"Done"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:180,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:173,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:171,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Priority"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:185,columnNumber:15},void 0),x.jsxDEV("select",{value:s.priority,onChange:e=>l({...s,priority:e.target.value}),className:"input",children:[x.jsxDEV("option",{value:"low",children:"Low"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:191,columnNumber:17},void 0),x.jsxDEV("option",{value:"medium",children:"Medium"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:192,columnNumber:17},void 0),x.jsxDEV("option",{value:"high",children:"High"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:193,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:186,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:184,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label flex items-center gap-1",children:[x.jsxDEV(F,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:199,columnNumber:17},void 0),"Due Date"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:198,columnNumber:15},void 0),x.jsxDEV("input",{type:"date",value:s.due_date,onChange:e=>l({...s,due_date:e.target.value}),className:"input"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:202,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:197,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:170,columnNumber:11},void 0),x.jsxDEV("div",{className:"mb-4",children:[x.jsxDEV("label",{className:"label flex items-center gap-1",children:[x.jsxDEV(De,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:214,columnNumber:15},void 0),"Assigned To"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:213,columnNumber:13},void 0),x.jsxDEV("div",{className:"relative",children:[x.jsxDEV("button",{type:"button",onClick:()=>g(!f),className:"input text-left flex items-center justify-between",children:[x.jsxDEV("span",{className:"text-surface-500",children:0===s.assigned_users.length?"Select members...":`${s.assigned_users.length} member(s) assigned`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:223,columnNumber:17},void 0),x.jsxDEV(me,{className:"w-4 h-4 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:228,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:218,columnNumber:15},void 0),f&&x.jsxDEV("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown z-10 max-h-48 overflow-y-auto",children:i.map(e=>x.jsxDEV("button",{type:"button",onClick:()=>b(e.id),className:"dropdown-item "+(s.assigned_users.includes(e.id)?"bg-primary-50":""),children:[x.jsxDEV(Oe,{user:e,size:"sm"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:240,columnNumber:23},void 0),x.jsxDEV("span",{className:"flex-1 text-left",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:241,columnNumber:23},void 0),s.assigned_users.includes(e.id)&&x.jsxDEV("span",{className:"text-primary-600 font-medium",children:"✓"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:243,columnNumber:25},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:234,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:232,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:217,columnNumber:13},void 0),s.assigned_users.length>0&&x.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-2",children:s.assigned_users.map(e=>{const t=i.find(t=>t.id===e);return t?x.jsxDEV("span",{className:"badge badge-primary flex items-center gap-1",children:[t.name,x.jsxDEV("button",{type:"button",onClick:()=>b(e),className:"hover:text-primary-900",children:x.jsxDEV(Se,{className:"w-3 h-3"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:260,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:259,columnNumber:23},void 0)]},e,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:257,columnNumber:21},void 0):null})},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:252,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:212,columnNumber:11},void 0),x.jsxDEV("div",{className:"mb-4",children:[x.jsxDEV("label",{className:"label flex items-center gap-1",children:[x.jsxDEV(be,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:272,columnNumber:15},void 0),"Tags"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:271,columnNumber:13},void 0),x.jsxDEV("div",{className:"flex gap-2",children:[x.jsxDEV("input",{type:"text",value:d,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),v())},className:"input flex-1",placeholder:"Add tag..."},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:276,columnNumber:15},void 0),x.jsxDEV("button",{type:"button",onClick:v,className:"btn-secondary btn-sm",children:"Add"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:284,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:275,columnNumber:13},void 0),s.tags.length>0&&x.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-2",children:s.tags.map(e=>x.jsxDEV("span",{className:"badge badge-default flex items-center gap-1",children:[e,x.jsxDEV("button",{type:"button",onClick:()=>(e=>{l({...s,tags:s.tags.filter(t=>t!==e)})})(e),className:"hover:text-surface-900",children:x.jsxDEV(Se,{className:"w-3 h-3"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:292,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:291,columnNumber:21},void 0)]},e,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:289,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:287,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:270,columnNumber:11},void 0),e&&x.jsxDEV("div",{className:"mb-6",children:[x.jsxDEV("label",{className:"label flex items-center gap-1",children:[x.jsxDEV(ue,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:304,columnNumber:17},void 0),"Attachments"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:303,columnNumber:15},void 0),x.jsxDEV("input",{type:"file",id:"file-upload",className:"hidden",onChange:async t=>{var n;const r=null==(n=t.target.files)?void 0:n[0];if(r&&e)try{const t=await D.uploadAttachment(e.id,r);u([...c,t])}catch(i){console.error("Failed to upload file:",i)}}},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:308,columnNumber:15},void 0),x.jsxDEV("label",{htmlFor:"file-upload",className:"btn-secondary btn-sm inline-flex cursor-pointer",children:[x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:310,columnNumber:17},void 0),"Add File"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:309,columnNumber:15},void 0),c.length>0&&x.jsxDEV("div",{className:"mt-2 space-y-2",children:c.map(t=>{return x.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-surface-50 rounded-lg border border-surface-100",children:[x.jsxDEV("div",{className:"flex items-center gap-3",children:[x.jsxDEV(ue,{className:"w-4 h-4 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:319,columnNumber:25},void 0),x.jsxDEV("div",{children:[x.jsxDEV("p",{className:"text-sm text-surface-900",children:t.original_name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:321,columnNumber:27},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500",children:(n=t.size,n<1024?n+" B":n<1048576?(n/1024).toFixed(1)+" KB":(n/1048576).toFixed(1)+" MB")},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:322,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:320,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:318,columnNumber:23},void 0),x.jsxDEV("div",{className:"flex items-center gap-1",children:[x.jsxDEV("a",{href:`/uploads/${t.filename}`,download:t.original_name,className:"icon-btn p-1",children:x.jsxDEV(Y,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:327,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:326,columnNumber:25},void 0),x.jsxDEV("button",{type:"button",onClick:()=>(async t=>{try{await D.deleteAttachment(e.id,t),u(c.filter(e=>e.id!==t))}catch(n){console.error("Failed to delete attachment:",n)}})(t.id),className:"icon-btn p-1 text-red-500 hover:text-red-600",children:x.jsxDEV(xe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:330,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:329,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:325,columnNumber:23},void 0)]},t.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:317,columnNumber:21},void 0);var n})},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:315,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:302,columnNumber:13},void 0),x.jsxDEV("div",{className:"flex gap-3 pt-4 border-t border-surface-100",children:[x.jsxDEV("button",{type:"button",onClick:o,className:"flex-1 btn-secondary",children:"Cancel"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:342,columnNumber:13},void 0),x.jsxDEV("button",{type:"submit",disabled:m||!s.title.trim(),className:"flex-1 btn-primary",children:m?x.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:345,columnNumber:17},void 0):e?"Save Changes":"Create Task"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:343,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:341,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:143,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:132,columnNumber:7},void 0),f&&x.jsxDEV("div",{className:"fixed inset-0 z-0",onClick:()=>g(!1)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:357,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/TaskModal.jsx",lineNumber:131,columnNumber:5},void 0)},He=({projectId:e,members:t,isOwner:n,onClose:i,onUpdate:o})=>{const[a,s]=r.useState(""),[l,c]=r.useState([]),[u,d]=r.useState(!1),[h,m]=r.useState(null);r.useEffect(()=>{a.length>=2?p():c([])},[a]);const p=async()=>{d(!0);try{const e=await D.getUsers(a),n=t.map(e=>e.id);c(e.users.filter(e=>!n.includes(e.id)))}catch(e){console.error("Failed to search users:",e)}finally{d(!1)}};return x.jsxDEV("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:x.jsxDEV("div",{className:"card w-full max-w-md animate-scale-in",children:[x.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-surface-100",children:[x.jsxDEV("h2",{className:"text-lg font-semibold text-surface-900",children:"Project Members"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:63,columnNumber:11},void 0),x.jsxDEV("button",{onClick:i,className:"icon-btn",children:x.jsxDEV(Se,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:65,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:64,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:62,columnNumber:9},void 0),x.jsxDEV("div",{className:"p-6",children:[n&&x.jsxDEV("div",{className:"mb-6",children:[x.jsxDEV("label",{className:"label flex items-center gap-1",children:[x.jsxDEV(Ne,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:74,columnNumber:17},void 0),"Add Member"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:73,columnNumber:15},void 0),x.jsxDEV("div",{className:"relative",children:[x.jsxDEV(fe,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:78,columnNumber:17},void 0),x.jsxDEV("input",{type:"text",value:a,onChange:e=>s(e.target.value),className:"input pl-10 text-sm",placeholder:"Search by name or email..."},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:79,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:77,columnNumber:15},void 0),l.length>0&&x.jsxDEV("div",{className:"mt-2 dropdown max-h-48 overflow-y-auto",children:l.map(t=>x.jsxDEV("div",{className:"flex items-center justify-between px-4 py-2 hover:bg-surface-50",children:[x.jsxDEV("div",{className:"flex items-center gap-3",children:[x.jsxDEV(Oe,{user:t,size:"sm"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:94,columnNumber:25},void 0),x.jsxDEV("div",{children:[x.jsxDEV("p",{className:"text-sm text-surface-900",children:t.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:96,columnNumber:27},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500",children:t.email},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:97,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:95,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:93,columnNumber:23},void 0),x.jsxDEV("button",{onClick:()=>(async t=>{m(t);try{await D.addProjectMember(e,t),o(),s(""),c([])}catch(n){console.error("Failed to add member:",n)}finally{m(null)}})(t.id),disabled:h===t.id,className:"text-sm text-primary-700 hover:text-primary-800 font-medium disabled:opacity-50",children:h===t.id?"Adding...":"Add"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:100,columnNumber:23},void 0)]},t.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:92,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:90,columnNumber:17},void 0),u&&x.jsxDEV("div",{className:"mt-2 text-center py-4",children:x.jsxDEV("div",{className:"w-5 h-5 border-2 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:114,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:113,columnNumber:17},void 0),a.length>=2&&!u&&0===l.length&&x.jsxDEV("p",{className:"mt-2 text-sm text-surface-500 text-center py-4",children:"No users found"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:119,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:72,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("h3",{className:"label",children:["Members (",t.length,")"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:126,columnNumber:13},void 0),x.jsxDEV("div",{className:"space-y-2",children:t.map(t=>x.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-surface-50 rounded-lg border border-surface-100",children:[x.jsxDEV("div",{className:"flex items-center gap-3",children:[x.jsxDEV(Oe,{user:t,size:"md"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:131,columnNumber:21},void 0),x.jsxDEV("div",{children:[x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("p",{className:"text-sm font-medium text-surface-900",children:t.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:134,columnNumber:25},void 0),"owner"===t.role&&x.jsxDEV(q,{className:"w-3.5 h-3.5 text-amber-500"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:136,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:133,columnNumber:23},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500",children:t.email},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:139,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:132,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:130,columnNumber:19},void 0),n&&"owner"!==t.role&&x.jsxDEV("button",{onClick:()=>(async t=>{if(confirm("Remove this member from the project?"))try{await D.removeProjectMember(e,t),o()}catch(n){console.error("Failed to remove member:",n)}})(t.id),className:"icon-btn text-surface-400 hover:text-red-500",children:x.jsxDEV(xe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:148,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:144,columnNumber:21},void 0)]},t.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:129,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:127,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:125,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:69,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:60,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/MemberManager.jsx",lineNumber:59,columnNumber:5},void 0)},_e={todo:{label:"To Do",class:"status-todo",icon:U,color:"bg-surface-100 text-surface-700 border-surface-200"},"in-progress":{label:"In Progress",class:"status-in-progress",icon:R,color:"bg-amber-50 text-amber-700 border-amber-200"},done:{label:"Done",class:"status-done",icon:L,color:"bg-emerald-50 text-emerald-700 border-emerald-200"}},Ge={low:{label:"Low",class:"priority-low",color:"text-surface-500",dotColor:"bg-surface-400"},medium:{label:"Medium",class:"priority-medium",color:"text-amber-600",dotColor:"bg-amber-500"},high:{label:"High",class:"priority-high",color:"text-red-600",dotColor:"bg-red-500"}},ze=()=>{var e;const{projectId:t}=s(),{subscribeToProject:n,unsubscribeFromProject:i,addListener:o,removeListener:l}=We(),[c,u]=r.useState(null),[d,h]=r.useState([]),[m,p]=r.useState({}),[f,g]=r.useState(!0),[v,b]=r.useState(null),[y,w]=r.useState(null),[C,N]=r.useState(!1),[M,S]=r.useState(!1),[j,E]=r.useState(null),[k,P]=r.useState(""),[W,O]=r.useState(!1),[T,V]=r.useState(!1),[F,I]=r.useState(null),[B,H]=r.useState(null),_=async()=>{try{const[e,n]=await Promise.all([D.getProject(t),D.getMissions(t)]);u(e.project),h(n.missions);const r=n.missions.map(e=>D.getTasks(e.id)),i=await Promise.all(r),o={};n.missions.forEach((e,t)=>{o[e.id]=i[t].tasks}),p(o)}catch(e){console.error("Failed to load project:",e)}finally{g(!1)}},G=r.useCallback(async()=>{if(0===d.length)return;const e=d.map(e=>D.getTasks(e.id)),t=await Promise.all(e),n={};d.forEach((e,r)=>{n[e.id]=t[r].tasks}),p(n)},[d]),z=r.useCallback((e,t)=>{switch(e){case"task_created":G();break;case"task_updated":t.task&&t.mission_id?p(e=>{const n=e[t.mission_id]||[],r=n.findIndex(e=>e.id===t.task.id);if(r>=0){const i=[...n];return i[r]=t.task,{...e,[t.mission_id]:i}}return G(),e}):G();break;case"task_deleted":p(e=>{const n={};for(const[r,i]of Object.entries(e))n[r]=i.filter(e=>e.id!==t.taskId);return n})}},[G]);r.useEffect(()=>{_(),n(parseInt(t));const e=`project-${t}`;return o(e,z),()=>{i(parseInt(t)),l(e)}},[t,z,n,i,o,l]);const $=async(e,t)=>{try{await D.updateMission(e,{name:t}),h(d.map(n=>n.id===e?{...n,name:t}:n)),H(null)}catch(n){console.error("Failed to update mission:",n)}},q=e=>{E(e),w(null),N(!0)};return f?x.jsxDEV("div",{className:"flex items-center justify-center py-20",children:x.jsxDEV("div",{className:"w-8 h-8 border-2 border-primary-200 border-t-primary-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:262,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:261,columnNumber:7},void 0):c?x.jsxDEV("div",{className:"max-w-full animate-fade-in",children:[x.jsxDEV("div",{className:"flex items-center justify-between mb-8",children:[x.jsxDEV("div",{className:"flex items-center gap-4",children:[x.jsxDEV(a,{to:"/",className:"icon-btn",children:x.jsxDEV(A,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:284,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:283,columnNumber:11},void 0),x.jsxDEV("div",{children:[x.jsxDEV("h1",{className:"text-2xl font-bold text-surface-900",children:c.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:287,columnNumber:13},void 0),c.description&&x.jsxDEV("p",{className:"text-surface-500 text-sm mt-1",children:c.description},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:289,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:286,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:282,columnNumber:9},void 0),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(a,{to:`/project/${t}/ads`,className:"btn-secondary btn-sm",children:[x.jsxDEV(ae,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:296,columnNumber:13},void 0),x.jsxDEV("span",{className:"hidden sm:inline",children:"Ads"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:297,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:295,columnNumber:11},void 0),x.jsxDEV("button",{onClick:()=>S(!0),className:"btn-secondary btn-sm",children:[x.jsxDEV(De,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:300,columnNumber:13},void 0),x.jsxDEV("span",{className:"hidden sm:inline",children:"Members"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:301,columnNumber:13},void 0),x.jsxDEV("span",{className:"text-xs bg-surface-200 px-1.5 py-0.5 rounded-full ml-1",children:(null==(e=c.members)?void 0:e.length)||0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:302,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:299,columnNumber:11},void 0),x.jsxDEV("button",{onClick:()=>V(!0),className:"btn-primary btn-sm",children:[x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:307,columnNumber:13},void 0),x.jsxDEV("span",{className:"hidden sm:inline",children:"Add Mission"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:308,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:306,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:294,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:281,columnNumber:7},void 0),x.jsxDEV("div",{className:"space-y-8",children:[d.map(e=>{const t=m[e.id]||[],n=t.filter(e=>"done"===e.status).length,r=t.filter(e=>"in-progress"===e.status).length,i=t.filter(e=>"todo"===e.status).length;return x.jsxDEV("div",{className:"card overflow-hidden bg-surface-100",children:[x.jsxDEV("div",{className:"px-6 py-5 border-b border-surface-200 bg-gradient-to-r from-surface-200 via-surface-100 to-surface-200",children:x.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[x.jsxDEV("div",{className:"flex items-center gap-4 flex-1",children:[B===e.id?x.jsxDEV("input",{type:"text",defaultValue:e.name,autoFocus:!0,className:"flex-1 bg-transparent text-surface-900 font-bold text-xl focus:outline-none border-b-2 border-primary-500",onBlur:t=>$(e.id,t.target.value),onKeyDown:t=>{"Enter"===t.key&&$(e.id,t.target.value),"Escape"===t.key&&H(null)}},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:328,columnNumber:23},void 0):x.jsxDEV("h2",{className:"font-bold text-xl text-surface-900",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:340,columnNumber:23},void 0),x.jsxDEV("div",{className:"flex items-center gap-4 text-sm",children:[x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("span",{className:"text-surface-500",children:"Total:"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:345,columnNumber:25},void 0),x.jsxDEV("span",{className:"font-semibold text-surface-900",children:t.length},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:346,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:344,columnNumber:23},void 0),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(U,{className:"w-4 h-4 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:349,columnNumber:25},void 0),x.jsxDEV("span",{className:"text-surface-600",children:i},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:350,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:348,columnNumber:23},void 0),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(R,{className:"w-4 h-4 text-amber-500"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:353,columnNumber:25},void 0),x.jsxDEV("span",{className:"text-surface-600",children:r},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:354,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:352,columnNumber:23},void 0),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(L,{className:"w-4 h-4 text-emerald-600"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:357,columnNumber:25},void 0),x.jsxDEV("span",{className:"text-surface-600",children:n},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:358,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:356,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:343,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:326,columnNumber:19},void 0),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("button",{onClick:()=>q(e.id),className:"btn-primary btn-sm",children:[x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:368,columnNumber:23},void 0),"Add Task"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:364,columnNumber:21},void 0),x.jsxDEV("div",{className:"relative",children:[x.jsxDEV("button",{onClick:()=>I(F===e.id?null:e.id),className:"icon-btn p-2",children:x.jsxDEV(le,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:376,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:372,columnNumber:23},void 0),F===e.id&&x.jsxDEV("div",{className:"absolute right-0 mt-1 w-40 dropdown z-10 animate-scale-in",children:[x.jsxDEV("button",{onClick:()=>{H(e.id),I(null)},className:"dropdown-item",children:[x.jsxDEV(he,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:388,columnNumber:29},void 0),"Rename Mission"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:381,columnNumber:27},void 0),x.jsxDEV("button",{onClick:()=>(async e=>{if(confirm("Delete this mission and all its tasks?")){try{await D.deleteMission(e),h(d.filter(t=>t.id!==e));const t={...m};delete t[e],p(t)}catch(t){console.error("Failed to delete mission:",t)}I(null)}})(e.id),className:"dropdown-item-danger",children:[x.jsxDEV(xe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:395,columnNumber:29},void 0),"Delete Mission"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:391,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:380,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:371,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:363,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:325,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:324,columnNumber:15},void 0),x.jsxDEV("div",{className:"p-6",children:0===t.length?x.jsxDEV("div",{className:"text-center py-12 border-2 border-dashed border-surface-200 rounded-xl bg-surface-200/50",children:[x.jsxDEV(J,{className:"w-12 h-12 text-surface-300 mx-auto mb-3"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:409,columnNumber:21},void 0),x.jsxDEV("p",{className:"text-surface-500 font-medium mb-2",children:"No tasks yet"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:410,columnNumber:21},void 0),x.jsxDEV("p",{className:"text-sm text-surface-400 mb-4",children:"Get started by creating your first task"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:411,columnNumber:21},void 0),x.jsxDEV("button",{onClick:()=>q(e.id),className:"btn-primary btn-sm",children:[x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:416,columnNumber:23},void 0),"Create First Task"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:412,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:408,columnNumber:19},void 0):x.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:t.map(t=>{var n;null==(n=_e[t.status])||n.icon;const r=_e[t.status],i=Ge[t.priority],o=!!(a=t.due_date)&&new Date(a)<new Date&&new Date(a).toDateString()!==(new Date).toDateString();var a,s;return x.jsxDEV("div",{onClick:()=>(async e=>{try{const t=await D.getTask(e);b(t.task)}catch(t){console.error("Failed to load task:",t)}})(t.id),className:"p-5 bg-surface-100 border-2 border-surface-200 rounded-xl cursor-pointer hover:border-primary-400 hover:shadow-medium transition-all duration-200 group",children:[x.jsxDEV("div",{className:"flex items-start justify-between gap-3 mb-3",children:[x.jsxDEV("div",{className:"flex-1 min-w-0",children:[x.jsxDEV("h3",{className:"font-semibold text-base text-surface-900 leading-snug group-hover:text-primary-700 transition-colors mb-2",children:t.title},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:437,columnNumber:31},void 0),t.assigned_users&&t.assigned_users.length>0&&x.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[x.jsxDEV(De,{className:"w-3.5 h-3.5 text-surface-400 flex-shrink-0"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:443,columnNumber:35},void 0),x.jsxDEV("div",{className:"flex items-center gap-1.5 flex-wrap",children:t.assigned_users.map((e,t)=>x.jsxDEV("div",{className:"flex items-center gap-1.5 bg-white px-2 py-1 rounded-md border border-surface-200 shadow-sm hover:border-primary-300 transition-colors",title:e.name,children:[x.jsxDEV(Oe,{user:e,size:"sm",className:"border border-surface-200"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:451,columnNumber:41},void 0),x.jsxDEV("span",{className:"text-xs font-medium text-surface-700 whitespace-nowrap",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:452,columnNumber:41},void 0)]},e.id||t,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:446,columnNumber:39},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:444,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:442,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:436,columnNumber:29},void 0),x.jsxDEV("div",{className:"flex items-center gap-2 flex-shrink-0",children:[x.jsxDEV("div",{className:`w-2.5 h-2.5 rounded-full ${i.dotColor}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:462,columnNumber:31},void 0),x.jsxDEV("span",{className:`badge text-[10px] ${i.class}`,children:i.label},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:463,columnNumber:31},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:461,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:435,columnNumber:27},void 0),t.description&&x.jsxDEV("p",{className:"text-sm text-surface-600 mb-4 line-clamp-3 leading-relaxed",children:t.description},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:471,columnNumber:29},void 0),x.jsxDEV("div",{className:"mb-4",children:x.jsxDEV("select",{value:t.status,onChange:n=>{n.stopPropagation(),(async(e,t,n)=>{try{await D.updateTask(e,{status:t}),p(r=>({...r,[n]:r[n].map(n=>n.id===e?{...n,status:t}:n)}))}catch(r){console.error("Failed to update status:",r)}})(t.id,n.target.value,e.id)},onClick:e=>e.stopPropagation(),className:`text-xs px-3 py-2 rounded-lg border font-medium w-full cursor-pointer focus:outline-none transition-colors ${r.color}`,children:[x.jsxDEV("option",{value:"todo",children:"To Do"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:487,columnNumber:31},void 0),x.jsxDEV("option",{value:"in-progress",children:"In Progress"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:488,columnNumber:31},void 0),x.jsxDEV("option",{value:"done",children:"Done"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:489,columnNumber:31},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:478,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:477,columnNumber:27},void 0),t.tags&&t.tags.length>0&&x.jsxDEV("div",{className:"mb-4 flex flex-wrap gap-2",children:t.tags.map((e,t)=>x.jsxDEV("span",{className:"badge badge-primary text-xs flex items-center gap-1.5 px-2.5 py-1",children:[x.jsxDEV(be,{className:"w-3 h-3"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:499,columnNumber:35},void 0),e]},t,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:498,columnNumber:33},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:496,columnNumber:29},void 0),x.jsxDEV("div",{className:"flex items-center justify-between pt-3 border-t border-surface-100",children:[x.jsxDEV("div",{className:"flex items-center gap-3",children:t.due_date&&x.jsxDEV("div",{className:"flex items-center gap-1.5 text-xs font-medium "+(o?"text-red-600":"text-surface-600"),children:[x.jsxDEV(K,{className:"w-3.5 h-3.5 "+(o?"text-red-500":"text-surface-400")},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:511,columnNumber:35},void 0),x.jsxDEV("span",{className:o?"font-semibold":"",children:[(s=t.due_date,s?new Date(s).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}):null),o&&" (Overdue)"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:512,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:510,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:508,columnNumber:29},void 0),x.jsxDEV("div",{className:"flex items-center gap-3",children:[t.comment_count>0&&x.jsxDEV("div",{className:"flex items-center gap-1.5 text-xs text-surface-500",children:[x.jsxDEV(se,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:522,columnNumber:35},void 0),x.jsxDEV("span",{className:"font-medium",children:t.comment_count},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:523,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:521,columnNumber:33},void 0),t.attachment_count>0&&x.jsxDEV("div",{className:"flex items-center gap-1.5 text-xs text-surface-500",children:[x.jsxDEV(ue,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:528,columnNumber:35},void 0),x.jsxDEV("span",{className:"font-medium",children:t.attachment_count},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:529,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:527,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:519,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:507,columnNumber:27},void 0)]},t.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:429,columnNumber:25},void 0)})},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:421,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:406,columnNumber:15},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:322,columnNumber:13},void 0)}),T&&x.jsxDEV("div",{className:"card p-6 animate-scale-in bg-surface-100",children:x.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),k.trim()){O(!0);try{const e=await D.createMission(t,k);h([...d,e]),p({...m,[e.id]:[]}),P(""),V(!1)}catch(n){console.error("Failed to create mission:",n)}finally{O(!1)}}},children:[x.jsxDEV("label",{className:"label mb-2 text-base",children:"Mission Name"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:548,columnNumber:15},void 0),x.jsxDEV("input",{type:"text",value:k,onChange:e=>P(e.target.value),placeholder:"Enter mission name...",className:"input mb-4",autoFocus:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:549,columnNumber:15},void 0),x.jsxDEV("div",{className:"flex gap-3",children:[x.jsxDEV("button",{type:"button",onClick:()=>{V(!1),P("")},className:"flex-1 btn-secondary",children:"Cancel"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:558,columnNumber:17},void 0),x.jsxDEV("button",{type:"submit",disabled:W||!k.trim(),className:"flex-1 btn-primary",children:W?"Creating...":"Create Mission"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:568,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:557,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:547,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:546,columnNumber:11},void 0),0===d.length&&!T&&x.jsxDEV("div",{className:"card p-16 text-center bg-surface-100",children:[x.jsxDEV("div",{className:"w-20 h-20 rounded-full bg-surface-100 flex items-center justify-center mx-auto mb-6",children:x.jsxDEV(me,{className:"w-10 h-10 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:584,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:583,columnNumber:13},void 0),x.jsxDEV("h3",{className:"text-lg font-semibold text-surface-900 mb-2",children:"No missions yet"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:586,columnNumber:13},void 0),x.jsxDEV("p",{className:"text-surface-500 mb-8 max-w-md mx-auto",children:"Create your first mission to start organizing tasks and tracking progress"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:587,columnNumber:13},void 0),x.jsxDEV("button",{onClick:()=>V(!0),className:"btn-primary",children:[x.jsxDEV(me,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:594,columnNumber:15},void 0),"Create First Mission"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:590,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:582,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:314,columnNumber:7},void 0),v&&x.jsxDEV(Le,{task:v,onClose:()=>b(null),onEdit:()=>{w(v),b(null),N(!0)},onDelete:()=>{G(),b(null)},onUpdate:G},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:603,columnNumber:9},void 0),C&&x.jsxDEV(Be,{task:y,missionId:j,projectId:parseInt(t),members:c.members||[],onClose:()=>{N(!1),w(null),E(null)},onSave:()=>{G(),N(!1),w(null),E(null)}},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:614,columnNumber:9},void 0),M&&x.jsxDEV(He,{projectId:parseInt(t),members:c.members||[],isOwner:"owner"===c.member_role,onClose:()=>S(!1),onUpdate:()=>_()},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:630,columnNumber:9},void 0),F&&x.jsxDEV("div",{className:"fixed inset-0 z-0",onClick:()=>I(null)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:641,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:279,columnNumber:5},void 0):x.jsxDEV("div",{className:"text-center py-20",children:[x.jsxDEV("p",{className:"text-surface-500",children:"Project not found"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:270,columnNumber:9},void 0),x.jsxDEV(a,{to:"/",className:"text-primary-700 hover:text-primary-800 mt-2 inline-block font-medium",children:"Back to Dashboard"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:271,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/ProjectPage.jsx",lineNumber:269,columnNumber:7},void 0)};function $e(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$e(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ue(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$e(e))&&(r&&(r+=" "),r+=t);return r}var Ke=Array.isArray,qe="object"==typeof l&&l&&l.Object===Object&&l,Xe=qe,Ye="object"==typeof self&&self&&self.Object===Object&&self,Ze=Xe||Ye||Function("return this")(),Je=Ze.Symbol,Qe=Je,et=Object.prototype,tt=et.hasOwnProperty,nt=et.toString,rt=Qe?Qe.toStringTag:void 0;var it=function(e){var t=tt.call(e,rt),n=e[rt];try{e[rt]=void 0;var r=!0}catch(o){}var i=nt.call(e);return r&&(t?e[rt]=n:delete e[rt]),i},ot=Object.prototype.toString;var at=it,st=function(e){return ot.call(e)},lt=Je?Je.toStringTag:void 0;var ct=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":lt&&lt in Object(e)?at(e):st(e)};var ut=function(e){return null!=e&&"object"==typeof e},dt=ct,ht=ut;var mt=function(e){return"symbol"==typeof e||ht(e)&&"[object Symbol]"==dt(e)},pt=Ke,ft=mt,gt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vt=/^\w*$/;var bt=function(e,t){if(pt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ft(e))||(vt.test(e)||!gt.test(e)||null!=t&&e in Object(t))};var yt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const xt=c(yt);var wt=ct,Ct=yt;var Nt=function(e){if(!Ct(e))return!1;var t=wt(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const Mt=c(Nt);var Dt,St=Ze["__core-js_shared__"],jt=(Dt=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||""))?"Symbol(src)_1."+Dt:"";var Et=function(e){return!!jt&&jt in e},kt=Function.prototype.toString;var Pt=function(e){if(null!=e){try{return kt.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Wt=Nt,Rt=Et,At=yt,Ot=Pt,Tt=/^\[object .+?Constructor\]$/,Vt=Function.prototype,Ft=Object.prototype,It=Vt.toString,Lt=Ft.hasOwnProperty,Bt=RegExp("^"+It.call(Lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ht=function(e){return!(!At(e)||Rt(e))&&(Wt(e)?Bt:Tt).test(Ot(e))},_t=function(e,t){return null==e?void 0:e[t]};var Gt=function(e,t){var n=_t(e,t);return Ht(n)?n:void 0},zt=Gt(Object,"create"),$t=zt;var Ut=function(){this.__data__=$t?$t(null):{},this.size=0};var Kt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qt=zt,Xt=Object.prototype.hasOwnProperty;var Yt=function(e){var t=this.__data__;if(qt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Xt.call(t,e)?t[e]:void 0},Zt=zt,Jt=Object.prototype.hasOwnProperty;var Qt=zt;var en=Ut,tn=Kt,nn=Yt,rn=function(e){var t=this.__data__;return Zt?void 0!==t[e]:Jt.call(t,e)},on=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Qt&&void 0===t?"__lodash_hash_undefined__":t,this};function an(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}an.prototype.clear=en,an.prototype.delete=tn,an.prototype.get=nn,an.prototype.has=rn,an.prototype.set=on;var sn=an;var ln=function(){this.__data__=[],this.size=0};var cn=function(e,t){return e===t||e!=e&&t!=t},un=cn;var dn=function(e,t){for(var n=e.length;n--;)if(un(e[n][0],t))return n;return-1},hn=dn,mn=Array.prototype.splice;var pn=dn;var fn=dn;var gn=dn;var vn=ln,bn=function(e){var t=this.__data__,n=hn(t,e);return!(n<0)&&(n==t.length-1?t.pop():mn.call(t,n,1),--this.size,!0)},yn=function(e){var t=this.__data__,n=pn(t,e);return n<0?void 0:t[n][1]},xn=function(e){return fn(this.__data__,e)>-1},wn=function(e,t){var n=this.__data__,r=gn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Cn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Cn.prototype.clear=vn,Cn.prototype.delete=bn,Cn.prototype.get=yn,Cn.prototype.has=xn,Cn.prototype.set=wn;var Nn=Cn,Mn=Gt(Ze,"Map"),Dn=sn,Sn=Nn,jn=Mn;var En=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var kn=function(e,t){var n=e.__data__;return En(t)?n["string"==typeof t?"string":"hash"]:n.map},Pn=kn;var Wn=kn;var Rn=kn;var An=kn;var On=function(){this.size=0,this.__data__={hash:new Dn,map:new(jn||Sn),string:new Dn}},Tn=function(e){var t=Pn(this,e).delete(e);return this.size-=t?1:0,t},Vn=function(e){return Wn(this,e).get(e)},Fn=function(e){return Rn(this,e).has(e)},In=function(e,t){var n=An(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ln.prototype.clear=On,Ln.prototype.delete=Tn,Ln.prototype.get=Vn,Ln.prototype.has=Fn,Ln.prototype.set=In;var Bn=Ln,Hn=Bn;function _n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(_n.Cache||Hn),n}_n.Cache=Hn;var Gn=_n;const zn=c(Gn);var $n=Gn;var Un=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kn=/\\(\\)?/g,qn=function(e){var t=$n(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Un,function(e,n,r,i){t.push(r?i.replace(Kn,"$1"):n||e)}),t});var Xn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Yn=Xn,Zn=Ke,Jn=mt,Qn=Je?Je.prototype:void 0,er=Qn?Qn.toString:void 0;var tr=function e(t){if("string"==typeof t)return t;if(Zn(t))return Yn(t,e)+"";if(Jn(t))return er?er.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},nr=tr;var rr=function(e){return null==e?"":nr(e)},ir=Ke,or=bt,ar=qn,sr=rr;var lr=function(e,t){return ir(e)?e:or(e,t)?[e]:ar(sr(e))},cr=mt;var ur=function(e){if("string"==typeof e||cr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},dr=lr,hr=ur;var mr=function(e,t){for(var n=0,r=(t=dr(t,e)).length;null!=e&&n<r;)e=e[hr(t[n++])];return n&&n==r?e:void 0},pr=mr;var fr=function(e,t,n){var r=null==e?void 0:pr(e,t);return void 0===r?n:r};const gr=c(fr);const vr=c(function(e){return null==e});var br=ct,yr=Ke,xr=ut;const wr=c(function(e){return"string"==typeof e||!yr(e)&&xr(e)&&"[object String]"==br(e)});var Cr={exports:{}},Nr={};!function(){var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen");function f(e){if("object"==typeof e&&null!==e){var p=e.$$typeof;switch(p){case t:var f=e.type;switch(f){case r:case o:case i:case u:case d:return f;default:var g=f&&f.$$typeof;switch(g){case l:case s:case c:case m:case h:case a:return g;default:return p}}case n:return p}}}e=Symbol.for("react.module.reference");var g=s,v=a,b=t,y=c,x=r,w=m,C=h,N=n,M=o,D=i,S=u,j=d,E=!1,k=!1;Nr.ContextConsumer=g,Nr.ContextProvider=v,Nr.Element=b,Nr.ForwardRef=y,Nr.Fragment=x,Nr.Lazy=w,Nr.Memo=C,Nr.Portal=N,Nr.Profiler=M,Nr.StrictMode=D,Nr.Suspense=S,Nr.SuspenseList=j,Nr.isAsyncMode=function(e){return E||(E=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1},Nr.isConcurrentMode=function(e){return k||(k=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1},Nr.isContextConsumer=function(e){return f(e)===s},Nr.isContextProvider=function(e){return f(e)===a},Nr.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},Nr.isForwardRef=function(e){return f(e)===c},Nr.isFragment=function(e){return f(e)===r},Nr.isLazy=function(e){return f(e)===m},Nr.isMemo=function(e){return f(e)===h},Nr.isPortal=function(e){return f(e)===n},Nr.isProfiler=function(e){return f(e)===o},Nr.isStrictMode=function(e){return f(e)===i},Nr.isSuspense=function(e){return f(e)===u},Nr.isSuspenseList=function(e){return f(e)===d},Nr.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||(t===r||t===o||t===i||t===u||t===d||t===p||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===h||t.$$typeof===a||t.$$typeof===s||t.$$typeof===c||t.$$typeof===e||void 0!==t.getModuleId))},Nr.typeOf=f}(),Cr.exports=Nr;var Mr=Cr.exports,Dr=ct,Sr=ut;var jr=function(e){return"number"==typeof e||Sr(e)&&"[object Number]"==Dr(e)};const Er=c(jr);var kr=jr;const Pr=c(function(e){return kr(e)&&e!=+e});var Wr=function(e){return 0===e?0:e>0?1:-1},Rr=function(e){return wr(e)&&e.indexOf("%")===e.length-1},Ar=function(e){return Er(e)&&!Pr(e)},Or=function(e){return Ar(e)||wr(e)},Tr=0,Vr=function(e){var t=++Tr;return"".concat(e||"").concat(t)},Fr=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Ar(e)&&!wr(e))return r;if(Rr(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return Pr(n)&&(n=r),i&&n>t&&(n=t),n},Ir=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Lr=function(e,t){return Ar(e)&&Ar(t)?function(n){return e+n*(t-e)}:function(){return t}};function Br(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):gr(e,t))===n}):null}var Hr=function(e,t){return Ar(e)&&Ar(t)?e-t:wr(e)&&wr(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function _r(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var zr=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$r=["points","pathLength"],Ur={svg:["viewBox","children"],polygon:$r,polyline:$r},Kr=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qr=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(r.isValidElement(e)&&(n=e.props),!xt(n))return null;var i={};return Object.keys(n).forEach(function(e){Kr.includes(e)&&(i[e]=t||function(t){return n[e](n,t)})}),i},Xr=function(e,t,n){if(!xt(e)||"object"!==Gr(e))return null;var r=null;return Object.keys(e).forEach(function(i){var o=e[i];Kr.includes(i)&&"function"==typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))}),r},Yr=["children"],Zr=["children"];function Jr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qr(e){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ei={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ti=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},ni=null,ri=null,ii=function e(t){if(t===ni&&Array.isArray(ri))return ri;var n=[];return r.Children.forEach(t,function(t){vr(t)||(Mr.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))}),ri=n,ni=t,n};function oi(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return ti(e)}):[ti(t)],ii(e).forEach(function(e){var t=gr(e,"type.displayName")||gr(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function ai(e,t){var n=oi(e,t);return n&&n[0]}var si=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Ar(n)||n<=0||!Ar(r)||r<=0)},li=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ci=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var i=e;if(r.isValidElement(e)&&(i=e.props),!xt(i))return null;var o={};return Object.keys(i).forEach(function(e){var r;(function(e,t,n,r){var i,o=null!==(i=null==Ur?void 0:Ur[r])&&void 0!==i?i:[];return t.startsWith("data-")||!Mt(e)&&(r&&o.includes(t)||zr.includes(t))||n&&Kr.includes(t)})(null===(r=i)||void 0===r?void 0:r[e],e,t,n)&&(o[e]=i[e])}),o},ui=function e(t,n){if(t===n)return!0;var i=r.Children.count(t);if(i!==r.Children.count(n))return!1;if(0===i)return!0;if(1===i)return di(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<i;o++){var a=t[o],s=n[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!di(a,s))return!1}return!0},di=function(e,t){if(vr(e)&&vr(t))return!0;if(!vr(e)&&!vr(t)){var n=e.props||{},r=n.children,i=Jr(n,Yr),o=t.props||{},a=o.children,s=Jr(o,Zr);return r&&a?_r(i,s)&&ui(r,a):!r&&!a&&_r(i,s)}return!1},hi=function(e,t){var n=[],r={};return ii(e).forEach(function(e,i){if(function(e){return e&&e.type&&wr(e.type)&&li.indexOf(e.type)>=0}(e))n.push(e);else if(e){var o=ti(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}}),n},mi=["children","width","height","viewBox","className","style","title","desc"];function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi.apply(this,arguments)}function fi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gi(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,c=fi(e,mi),d=i||{width:n,height:r,x:0,y:0},h=Ue("recharts-surface",o);return u.createElement("svg",pi({},ci(c,!0,"svg"),{className:h,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),u.createElement("title",null,s),u.createElement("desc",null,l),t)}var vi=["children","className"];function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bi.apply(this,arguments)}function yi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var xi=u.forwardRef(function(e,t){var n=e.children,r=e.className,i=yi(e,vi),o=Ue("recharts-layer",r);return u.createElement("g",bi({className:o},ci(i,!0),{ref:t}),n)}),wi=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("undefined"!=typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(t.replace(/%s/g,function(){return r[o++]}))}};var Ci=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var Ni=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Ci(e,t,n)},Mi=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Di=function(e){return Mi.test(e)};var Si=function(e){return e.split("")},ji="\\ud800-\\udfff",Ei="["+ji+"]",ki="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Pi="\\ud83c[\\udffb-\\udfff]",Wi="[^"+ji+"]",Ri="(?:\\ud83c[\\udde6-\\uddff]){2}",Ai="[\\ud800-\\udbff][\\udc00-\\udfff]",Oi="(?:"+ki+"|"+Pi+")"+"?",Ti="[\\ufe0e\\ufe0f]?",Vi=Ti+Oi+("(?:\\u200d(?:"+[Wi,Ri,Ai].join("|")+")"+Ti+Oi+")*"),Fi="(?:"+[Wi+ki+"?",ki,Ri,Ai,Ei].join("|")+")",Ii=RegExp(Pi+"(?="+Pi+")|"+Fi+Vi,"g");var Li=Si,Bi=Di,Hi=function(e){return e.match(Ii)||[]};var _i=Ni,Gi=Di,zi=function(e){return Bi(e)?Hi(e):Li(e)},$i=rr;const Ui=c(function(e){return function(t){t=$i(t);var n=Gi(t)?zi(t):void 0,r=n?n[0]:t.charAt(0),i=n?_i(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase"));function Ki(e){return function(){return e}}const qi=Math.cos,Xi=Math.sin,Yi=Math.sqrt,Zi=Math.PI,Ji=2*Zi,Qi=Math.PI,eo=2*Qi,to=1e-6,no=eo-to;function ro(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class io{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?ro:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ro;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>to)if(Math.abs(u*s-l*c)>to&&i){let h=n-o,m=r-a,p=s*s+l*l,f=h*h+m*m,g=Math.sqrt(p),v=Math.sqrt(d),b=i*Math.tan((Qi-Math.acos((p+d-f)/(2*g*v)))/2),y=b/v,x=b/g;Math.abs(y-1)>to&&this._append`L${e+y*c},${t+y*u}`,this._append`A${i},${i},0,0,${+(u*h>c*m)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>to||Math.abs(this._y1-c)>to)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%eo+eo),d>no?this._append`A${n},${n},0,1,${u},${e-a},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>to&&this._append`A${n},${n},0,${+(d>=Qi)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function oo(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new io(t)}function ao(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function so(e){this._context=e}function lo(e){return new so(e)}function co(e){return e[0]}function uo(e){return e[1]}function ho(e,t){var n=Ki(!0),r=null,i=lo,o=null,a=oo(s);function s(s){var l,c,u,d=(s=ao(s)).length,h=!1;for(null==r&&(o=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?co:Ki(e),t="function"==typeof t?t:void 0===t?uo:Ki(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:Ki(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:Ki(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:Ki(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function mo(e,t,n){var r=null,i=Ki(!0),o=null,a=lo,s=null,l=oo(c);function c(c){var u,d,h,m,p,f=(c=ao(c)).length,g=!1,v=new Array(f),b=new Array(f);for(null==o&&(s=a(p=l())),u=0;u<=f;++u){if(!(u<f&&i(m=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(v[h],b[h]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+e(m,u,c),b[u]=+t(m,u,c),s.point(r?+r(m,u,c):v[u],n?+n(m,u,c):b[u]))}if(p)return s=null,p+""||null}function u(){return ho().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?co:Ki(+e),t="function"==typeof t?t:Ki(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?uo:Ki(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Ki(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Ki(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Ki(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Ki(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Ki(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Ki(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:Ki(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}so.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class po{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const fo={draw(e,t){const n=Yi(t/Zi);e.moveTo(n,0),e.arc(0,0,n,0,Ji)}},go={draw(e,t){const n=Yi(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},vo=Yi(1/3),bo=2*vo,yo={draw(e,t){const n=Yi(t/bo),r=n*vo;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},xo={draw(e,t){const n=Yi(t),r=-n/2;e.rect(r,r,n,n)}},wo=Xi(Zi/10)/Xi(7*Zi/10),Co=Xi(Ji/10)*wo,No=-qi(Ji/10)*wo,Mo={draw(e,t){const n=Yi(.8908130915292852*t),r=Co*n,i=No*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=Ji*o/5,a=qi(t),s=Xi(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},Do=Yi(3),So={draw(e,t){const n=-Yi(t/(3*Do));e.moveTo(0,2*n),e.lineTo(-Do*n,-n),e.lineTo(Do*n,-n),e.closePath()}},jo=-.5,Eo=Yi(3)/2,ko=1/Yi(12),Po=3*(ko/2+1),Wo={draw(e,t){const n=Yi(t/Po),r=n/2,i=n*ko,o=r,a=n*ko+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(jo*r-Eo*i,Eo*r+jo*i),e.lineTo(jo*o-Eo*a,Eo*o+jo*a),e.lineTo(jo*s-Eo*l,Eo*s+jo*l),e.lineTo(jo*r+Eo*i,jo*i-Eo*r),e.lineTo(jo*o+Eo*a,jo*a-Eo*o),e.lineTo(jo*s+Eo*l,jo*l-Eo*s),e.closePath()}};function Ro(){}function Ao(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Oo(e){this._context=e}function To(e){this._context=e}function Vo(e){this._context=e}function Fo(e){this._context=e}function Io(e){return e<0?-1:1}function Lo(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Io(o)+Io(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Bo(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ho(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function _o(e){this._context=e}function Go(e){this._context=new zo(e)}function zo(e){this._context=e}function $o(e){this._context=e}function Uo(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Ko(e,t){this._context=e,this._t=t}function qo(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Xo(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Yo(e,t){return e[t]}function Zo(e){const t=[];return t.key=e,t}function Jo(e){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Oo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ao(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ao(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},To.prototype={areaStart:Ro,areaEnd:Ro,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ao(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Vo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ao(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Fo.prototype={areaStart:Ro,areaEnd:Ro,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},_o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ho(this,this._t0,Bo(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ho(this,Bo(this,n=Lo(this,e,t)),n);break;default:Ho(this,this._t0,n=Lo(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Go.prototype=Object.create(_o.prototype)).point=function(e,t){_o.prototype.point.call(this,t,e)},zo.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},$o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Uo(e),i=Uo(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Ko.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Qo=["type","size","sizeType"];function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ea.apply(this,arguments)}function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach(function(t){ra(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ra(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Jo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Jo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jo(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ia(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oa={symbolCircle:fo,symbolCross:go,symbolDiamond:yo,symbolSquare:xo,symbolStar:Mo,symbolTriangle:So,symbolWye:Wo},aa=Math.PI/180,sa=function(e){var t,n,r=e.type,i=void 0===r?"circle":r,o=e.size,a=void 0===o?64:o,s=e.sizeType,l=void 0===s?"area":s,c=na(na({},ia(e,Qo)),{},{type:i,size:a,sizeType:l}),d=c.className,h=c.cx,m=c.cy,p=ci(c,!0);return h===+h&&m===+m&&a===+a?u.createElement("path",ea({},p,{className:Ue("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:(t=function(e){var t="symbol".concat(Ui(e));return oa[t]||fo}(i),n=function(e,t){let n=null,r=oo(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:Ki(e||fo),t="function"==typeof t?t:Ki(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:Ki(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:Ki(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*aa;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,l,i)),n())})):null};function la(e){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ca.apply(this,arguments)}function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function da(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,va(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ha(e,t,n){return t=pa(t),function(e,t){if(t&&("object"===la(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ma()?Reflect.construct(t,n||[],pa(e).constructor):t.apply(e,n))}function ma(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ma=function(){return!!e})()}function pa(e){return(pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e,t){return(fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ga(e,t,n){return(t=va(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function va(e){var t=function(e,t){if("object"!=la(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=la(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==la(t)?t:t+""}sa.registerSymbol=function(e,t){oa["symbol".concat(Ui(e))]=t};var ba=32,ya=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ha(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fa(e,t)}(e,r.PureComponent),da(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=ba/6,i=ba/3,o=e.inactive?t:e.color;if("plainline"===e.type)return u.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:ba,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return u.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(ba,"M").concat(2*i,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return u.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(ba,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(u.isValidElement(e.legendIcon)){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach(function(t){ga(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete a.legendIcon,u.cloneElement(e.legendIcon,a)}return u.createElement(sa,{fill:o,cx:n,cy:n,size:ba,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,i=t.layout,o=t.formatter,a=t.inactiveColor,s={x:0,y:0,width:ba,height:ba},l={display:"horizontal"===i?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var i=t.formatter||o,d=Ue(ga(ga({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=Mt(t.value)?null:t.value;wi(!Mt(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var m=t.inactive?a:t.color;return u.createElement("li",ca({className:d,style:l,key:"legend-item-".concat(n)},Xr(e.props,t,n)),u.createElement(gi,{width:r,height:r,viewBox:s,style:c},e.renderIcon(t)),u.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},i?i(h,t,n):h))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return u.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}])}();ga(ya,"displayName","Legend"),ga(ya,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xa=Nn;var wa=Nn,Ca=Mn,Na=Bn;var Ma=Nn,Da=function(){this.__data__=new xa,this.size=0},Sa=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ja=function(e){return this.__data__.get(e)},Ea=function(e){return this.__data__.has(e)},ka=function(e,t){var n=this.__data__;if(n instanceof wa){var r=n.__data__;if(!Ca||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Na(r)}return n.set(e,t),this.size=n.size,this};function Pa(e){var t=this.__data__=new Ma(e);this.size=t.size}Pa.prototype.clear=Da,Pa.prototype.delete=Sa,Pa.prototype.get=ja,Pa.prototype.has=Ea,Pa.prototype.set=ka;var Wa=Pa;var Ra=Bn,Aa=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Oa=function(e){return this.__data__.has(e)};function Ta(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ra;++t<n;)this.add(e[t])}Ta.prototype.add=Ta.prototype.push=Aa,Ta.prototype.has=Oa;var Va=Ta;var Fa=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Ia=function(e,t){return e.has(t)},La=Va,Ba=Fa,Ha=Ia;var _a=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,m=2&n?new La:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var p=e[d],f=t[d];if(r)var g=a?r(f,p,d,t,e,o):r(p,f,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(m){if(!Ba(t,function(e,t){if(!Ha(m,t)&&(p===e||i(p,e,n,r,o)))return m.push(t)})){h=!1;break}}else if(p!==f&&!i(p,f,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h};var Ga=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},za=Ze.Uint8Array,$a=cn,Ua=_a,Ka=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},qa=Ga,Xa=Je?Je.prototype:void 0,Ya=Xa?Xa.valueOf:void 0;var Za=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new za(e),new za(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return $a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Ka;case"[object Set]":var l=1&r;if(s||(s=qa),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=Ua(s(e),s(t),r,i,o,a);return a.delete(e),u;case"[object Symbol]":if(Ya)return Ya.call(e)==Ya.call(t)}return!1};var Ja=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Qa=Ja,es=Ke;var ts=function(e,t,n){var r=t(e);return es(e)?r:Qa(r,n(e))};var ns=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},rs=function(){return[]},is=Object.prototype.propertyIsEnumerable,os=Object.getOwnPropertySymbols,as=os?function(e){return null==e?[]:(e=Object(e),ns(os(e),function(t){return is.call(e,t)}))}:rs;var ss=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},ls=ct,cs=ut;var us,ds,hs,ms,ps,fs,gs,vs,bs=function(e){return cs(e)&&"[object Arguments]"==ls(e)},ys=ut,xs=Object.prototype,ws=xs.hasOwnProperty,Cs=xs.propertyIsEnumerable,Ns=bs(function(){return arguments}())?bs:function(e){return ys(e)&&ws.call(e,"callee")&&!Cs.call(e,"callee")},Ms={exports:{}};us=Ms,hs=Ze,ms=function(){return!1},ps=(ds=Ms.exports)&&!ds.nodeType&&ds,fs=ps&&us&&!us.nodeType&&us,gs=fs&&fs.exports===ps?hs.Buffer:void 0,vs=(gs?gs.isBuffer:void 0)||ms,us.exports=vs;var Ds=Ms.exports,Ss=/^(?:0|[1-9]\d*)$/;var js=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ss.test(e))&&e>-1&&e%1==0&&e<t};var Es=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ks=ct,Ps=Es,Ws=ut,Rs={};Rs["[object Float32Array]"]=Rs["[object Float64Array]"]=Rs["[object Int8Array]"]=Rs["[object Int16Array]"]=Rs["[object Int32Array]"]=Rs["[object Uint8Array]"]=Rs["[object Uint8ClampedArray]"]=Rs["[object Uint16Array]"]=Rs["[object Uint32Array]"]=!0,Rs["[object Arguments]"]=Rs["[object Array]"]=Rs["[object ArrayBuffer]"]=Rs["[object Boolean]"]=Rs["[object DataView]"]=Rs["[object Date]"]=Rs["[object Error]"]=Rs["[object Function]"]=Rs["[object Map]"]=Rs["[object Number]"]=Rs["[object Object]"]=Rs["[object RegExp]"]=Rs["[object Set]"]=Rs["[object String]"]=Rs["[object WeakMap]"]=!1;var As=function(e){return Ws(e)&&Ps(e.length)&&!!Rs[ks(e)]};var Os=function(e){return function(t){return e(t)}},Ts={exports:{}};!function(e,t){var n=qe,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r&&n.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=a}(Ts,Ts.exports);var Vs=Ts.exports,Fs=As,Is=Os,Ls=Vs&&Vs.isTypedArray,Bs=Ls?Is(Ls):Fs,Hs=ss,_s=Ns,Gs=Ke,zs=Ds,$s=js,Us=Bs,Ks=Object.prototype.hasOwnProperty;var qs=function(e,t){var n=Gs(e),r=!n&&_s(e),i=!n&&!r&&zs(e),o=!n&&!r&&!i&&Us(e),a=n||r||i||o,s=a?Hs(e.length,String):[],l=s.length;for(var c in e)!t&&!Ks.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||$s(c,l))||s.push(c);return s},Xs=Object.prototype;var Ys=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Xs)};var Zs=function(e,t){return function(n){return e(t(n))}},Js=Zs(Object.keys,Object),Qs=Ys,el=Js,tl=Object.prototype.hasOwnProperty;var nl=Nt,rl=Es;var il=function(e){return null!=e&&rl(e.length)&&!nl(e)},ol=qs,al=function(e){if(!Qs(e))return el(e);var t=[];for(var n in Object(e))tl.call(e,n)&&"constructor"!=n&&t.push(n);return t},sl=il;var ll=function(e){return sl(e)?ol(e):al(e)},cl=ts,ul=as,dl=ll;var hl=function(e){return cl(e,dl,ul)},ml=Object.prototype.hasOwnProperty;var pl=function(e,t,n,r,i,o){var a=1&n,s=hl(e),l=s.length;if(l!=hl(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:ml.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var m=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<l;){var f=e[u=s[c]],g=t[u];if(r)var v=a?r(g,f,u,t,e,o):r(f,g,u,e,t,o);if(!(void 0===v?f===g||i(f,g,n,r,o):v)){m=!1;break}p||(p="constructor"==u)}if(m&&!p){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(m=!1)}return o.delete(e),o.delete(t),m},fl=Gt(Ze,"DataView"),gl=Gt(Ze,"Promise"),vl=Gt(Ze,"Set"),bl=fl,yl=Mn,xl=gl,wl=vl,Cl=Gt(Ze,"WeakMap"),Nl=ct,Ml=Pt,Dl="[object Map]",Sl="[object Promise]",jl="[object Set]",El="[object WeakMap]",kl="[object DataView]",Pl=Ml(bl),Wl=Ml(yl),Rl=Ml(xl),Al=Ml(wl),Ol=Ml(Cl),Tl=Nl;(bl&&Tl(new bl(new ArrayBuffer(1)))!=kl||yl&&Tl(new yl)!=Dl||xl&&Tl(xl.resolve())!=Sl||wl&&Tl(new wl)!=jl||Cl&&Tl(new Cl)!=El)&&(Tl=function(e){var t=Nl(e),n="[object Object]"==t?e.constructor:void 0,r=n?Ml(n):"";if(r)switch(r){case Pl:return kl;case Wl:return Dl;case Rl:return Sl;case Al:return jl;case Ol:return El}return t});var Vl=Wa,Fl=_a,Il=Za,Ll=pl,Bl=Tl,Hl=Ke,_l=Ds,Gl=Bs,zl="[object Arguments]",$l="[object Array]",Ul="[object Object]",Kl=Object.prototype.hasOwnProperty;var ql=function(e,t,n,r,i,o){var a=Hl(e),s=Hl(t),l=a?$l:Bl(e),c=s?$l:Bl(t),u=(l=l==zl?Ul:l)==Ul,d=(c=c==zl?Ul:c)==Ul,h=l==c;if(h&&_l(e)){if(!_l(t))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new Vl),a||Gl(e)?Fl(e,t,n,r,i,o):Il(e,t,l,n,r,i,o);if(!(1&n)){var m=u&&Kl.call(e,"__wrapped__"),p=d&&Kl.call(t,"__wrapped__");if(m||p){var f=m?e.value():e,g=p?t.value():t;return o||(o=new Vl),i(f,g,n,r,o)}}return!!h&&(o||(o=new Vl),Ll(e,t,n,r,i,o))},Xl=ut;var Yl=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Xl(t)&&!Xl(n)?t!=t&&n!=n:ql(t,n,r,i,e,o))},Zl=Wa,Jl=Yl;var Ql=yt;var ec=function(e){return e==e&&!Ql(e)},tc=ec,nc=ll;var rc=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},ic=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new Zl;if(r)var h=r(c,u,l,e,t,d);if(!(void 0===h?Jl(u,c,3,r,d):h))return!1}}return!0},oc=function(e){for(var t=nc(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,tc(i)]}return t},ac=rc;var sc=lr,lc=Ns,cc=Ke,uc=js,dc=Es,hc=ur;var mc=function(e,t){return null!=e&&t in Object(e)},pc=function(e,t,n){for(var r=-1,i=(t=sc(t,e)).length,o=!1;++r<i;){var a=hc(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&dc(i)&&uc(a,i)&&(cc(e)||lc(e))};var fc=Yl,gc=fr,vc=function(e,t){return null!=e&&pc(e,t,mc)},bc=bt,yc=ec,xc=rc,wc=ur;var Cc=function(e){return e};var Nc=mr;var Mc=function(e){return function(t){return null==t?void 0:t[e]}},Dc=function(e){return function(t){return Nc(t,e)}},Sc=bt,jc=ur;var Ec=function(e){var t=oc(e);return 1==t.length&&t[0][2]?ac(t[0][0],t[0][1]):function(n){return n===e||ic(n,e,t)}},kc=function(e,t){return bc(e)&&yc(t)?xc(wc(e),t):function(n){var r=gc(n,e);return void 0===r&&r===t?vc(n,e):fc(t,r,3)}},Pc=Cc,Wc=Ke,Rc=function(e){return Sc(e)?Mc(jc(e)):Dc(e)};var Ac=function(e){return"function"==typeof e?e:null==e?Pc:"object"==typeof e?Wc(e)?kc(e[0],e[1]):Ec(e):Rc(e)};var Oc=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var Tc=Oc,Vc=function(e){return e!=e},Fc=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var Ic=function(e,t,n){return t==t?Fc(e,t,n):Tc(e,Vc,n)};var Lc=function(e,t){return!!(null==e?0:e.length)&&Ic(e,t,0)>-1};var Bc=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var Hc=vl,_c=function(){},Gc=Hc&&1/Ga(new Hc([,-0]))[1]==1/0?function(e){return new Hc(e)}:_c,zc=Va,$c=Lc,Uc=Bc,Kc=Ia,qc=Gc,Xc=Ga;var Yc=Ac,Zc=function(e,t,n){var r=-1,i=$c,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=Uc;else if(o>=200){var c=t?null:qc(e);if(c)return Xc(c);a=!1,i=Kc,l=new zc}else l=t?[]:s;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s};const Jc=c(function(e,t){return e&&e.length?Zc(e,Yc(t)):[]});function Qc(e,t,n){return!0===t?Jc(e,n):Mt(t)?Jc(e,t):e}function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var tu=["ref"];function nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nu(Object(n),!0).forEach(function(t){cu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uu(r.key),r)}}function ou(e,t,n){return t=su(t),function(e,t){if(t&&("object"===eu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,au()?Reflect.construct(t,n||[],su(e).constructor):t.apply(e,n))}function au(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(au=function(){return!!e})()}function su(e){return(su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lu(e,t){return(lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function cu(e,t,n){return(t=uu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uu(e){var t=function(e,t){if("object"!=eu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=eu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==eu(t)?t:t+""}function du(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hu(e){return e.value}var mu=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return cu(t=ou(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lu(e,t)}(e,r.PureComponent),t=e,i=[{key:"getWithHeight",value:function(e,t){var n=ru(ru({},this.defaultProps),e.props).layout;return"vertical"===n&&Ar(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ru({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),ru(ru({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,i=t.height,o=t.wrapperStyle,a=t.payloadUniqBy,s=t.payload,l=ru(ru({position:"absolute",width:r||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return u.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(u.isValidElement(e))return u.cloneElement(e,t);if("function"==typeof e)return u.createElement(e,t);t.ref;var n=du(t,tu);return u.createElement(ya,n)}(n,ru(ru({},this.props),{},{payload:Qc(s,a,hu)})))}}])&&iu(t.prototype,n),i&&iu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();cu(mu,"displayName","Legend"),cu(mu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pu=Ns,fu=Ke,gu=Je?Je.isConcatSpreadable:void 0;var vu=Ja,bu=function(e){return fu(e)||pu(e)||!!(gu&&e&&e[gu])};var yu=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=bu),o||(o=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,o):vu(o,l):i||(o[o.length]=l)}return o};var xu=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}(),wu=ll;var Cu=function(e,t){return e&&xu(e,t,wu)},Nu=il;var Mu=function(e,t){return function(n,r){if(null==n)return n;if(!Nu(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(Cu),Du=Mu,Su=il;var ju=function(e,t){var n=-1,r=Su(e)?Array(e.length):[];return Du(e,function(e,i,o){r[++n]=t(e,i,o)}),r};var Eu=mt;var ku=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Eu(e),a=void 0!==t,s=null===t,l=t==t,c=Eu(t);if(!s&&!c&&!o&&e>t||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0};var Pu=Xn,Wu=mr,Ru=Ac,Au=ju,Ou=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},Tu=Os,Vu=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=ku(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index},Fu=Cc,Iu=Ke;var Lu=function(e,t,n){t=t.length?Pu(t,function(e){return Iu(e)?function(t){return Wu(t,1===e.length?e[0]:e)}:e}):[Fu];var r=-1;t=Pu(t,Tu(Ru));var i=Au(e,function(e,n,i){return{criteria:Pu(t,function(t){return t(e)}),index:++r,value:e}});return Ou(i,function(e,t){return Vu(e,t,n)})};var Bu=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Hu=Math.max;var _u=function(e,t,n){return t=Hu(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Hu(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Bu(e,this,s)}};var Gu=function(e){return function(){return e}},zu=Gt,$u=function(){try{var e=zu(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Uu=Gu,Ku=$u,qu=Ku?function(e,t){return Ku(e,"toString",{configurable:!0,enumerable:!1,value:Uu(t),writable:!0})}:Cc,Xu=Date.now;var Yu=function(e){var t=0,n=0;return function(){var r=Xu(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(qu),Zu=Cc,Ju=_u,Qu=Yu;var ed=cn,td=il,nd=js,rd=yt;var id=function(e,t,n){if(!rd(n))return!1;var r=typeof t;return!!("number"==r?td(n)&&nd(t,n.length):"string"==r&&t in n)&&ed(n[t],e)},od=yu,ad=Lu,sd=id;const ld=c(function(e,t){return Qu(Ju(e,t,Zu),e+"")}(function(e,t){if(null==e)return[];var n=t.length;return n>1&&sd(e,t[0],t[1])?t=[]:n>2&&sd(t[0],t[1],t[2])&&(t=[t[0]]),ad(e,od(t,1),[])}));function cd(e){return(cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ud.apply(this,arguments)}function dd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach(function(t){fd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fd(e,t,n){return t=function(e){var t=function(e,t){if("object"!=cd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=cd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cd(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gd(e){return Array.isArray(e)&&Or(e[0])&&Or(e[1])?e.join(" ~ "):e}var vd=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,i=void 0===r?{}:r,o=e.itemStyle,a=void 0===o?{}:o,s=e.labelStyle,l=void 0===s?{}:s,c=e.payload,d=e.formatter,h=e.itemSorter,m=e.wrapperClassName,p=e.labelClassName,f=e.label,g=e.labelFormatter,v=e.accessibilityLayer,b=void 0!==v&&v,y=pd({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),x=pd({margin:0},l),w=!vr(f),C=w?f:"",N=Ue("recharts-default-tooltip",m),M=Ue("recharts-tooltip-label",p);w&&g&&null!=c&&(C=g(f,c));var D=b?{role:"status","aria-live":"assertive"}:{};return u.createElement("div",ud({className:N,style:y},D),u.createElement("p",{className:M,style:x},u.isValidElement(C)?C:"".concat(C)),function(){if(c&&c.length){var e=(h?ld(c,h):c).map(function(e,t){if("none"===e.type)return null;var r=pd({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a),i=e.formatter||d||gd,o=e.value,s=e.name,l=o,h=s;if(i&&null!=l&&null!=h){var m=i(o,s,e,t,c);if(Array.isArray(m)){var p=dd(m,2);l=p[0],h=p[1]}else l=m}return u.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},Or(h)?u.createElement("span",{className:"recharts-tooltip-item-name"},h):null,Or(h)?u.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,u.createElement("span",{className:"recharts-tooltip-item-value"},l),u.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return u.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function bd(e){return(bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yd(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=bd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bd(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xd="recharts-tooltip-wrapper",wd={visibility:"hidden"};function Cd(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ue(xd,yd(yd(yd(yd({},"".concat(xd,"-right"),Ar(n)&&t&&Ar(t.x)&&n>=t.x),"".concat(xd,"-left"),Ar(n)&&t&&Ar(t.x)&&n<t.x),"".concat(xd,"-bottom"),Ar(r)&&t&&Ar(t.y)&&r>=t.y),"".concat(xd,"-top"),Ar(r)&&t&&Ar(t.y)&&r<t.y))}function Nd(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&Ar(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function Md(e){return(Md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dd(Object(n),!0).forEach(function(t){Rd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jd(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ad(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ed(e,t,n){return t=Pd(t),function(e,t){if(t&&("object"===Md(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kd()?Reflect.construct(t,n||[],Pd(e).constructor):t.apply(e,n))}function kd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(kd=function(){return!!e})()}function Pd(e){return(Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wd(e,t){return(Wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Rd(e,t,n){return(t=Ad(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ad(e){var t=function(e,t){if("object"!=Md(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Md(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Md(t)?t:t+""}var Od=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Rd(t=Ed(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Rd(t,"handleKeyDown",function(e){var n,r,i,o;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=t.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wd(e,t)}(e,r.PureComponent),jd(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,a=t.children,s=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,d=t.offset,h=t.position,m=t.reverseDirection,p=t.useTranslate3d,f=t.viewBox,g=t.wrapperStyle,v=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=Nd({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=Nd({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):wd,cssClasses:Cd({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:f}),b=v.cssClasses,y=v.cssProperties,x=Sd(Sd({transition:c&&n?"transform ".concat(i,"ms ").concat(o):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},g);return u.createElement("div",{tabIndex:-1,className:b,style:x,ref:function(t){e.wrapperNode=t}},a)}}])}(),Td=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function Vd(e){return(Vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fd(Object(n),!0).forEach(function(t){zd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ld(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$d(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bd(e,t,n){return t=_d(t),function(e,t){if(t&&("object"===Vd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Hd()?Reflect.construct(t,n||[],_d(e).constructor):t.apply(e,n))}function Hd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Hd=function(){return!!e})()}function _d(e){return(_d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gd(e,t){return(Gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zd(e,t,n){return(t=$d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $d(e){var t=function(e,t){if("object"!=Vd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Vd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Vd(t)?t:t+""}function Ud(e){return e.dataKey}var Kd=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Bd(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gd(e,t)}(e,r.PureComponent),Ld(e,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,a=t.content,s=t.coordinate,l=t.filterNull,c=t.isAnimationActive,d=t.offset,h=t.payload,m=t.payloadUniqBy,p=t.position,f=t.reverseDirection,g=t.useTranslate3d,v=t.viewBox,b=t.wrapperStyle,y=null!=h?h:[];l&&y.length&&(y=Qc(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),m,Ud));var x=y.length>0;return u.createElement(Od,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:c,active:n,coordinate:s,hasPayload:x,offset:d,position:p,reverseDirection:f,useTranslate3d:g,viewBox:v,wrapperStyle:b},function(e,t){return u.isValidElement(e)?u.cloneElement(e,t):"function"==typeof e?u.createElement(e,t):u.createElement(vd,t)}(a,Id(Id({},this.props),{},{payload:y})))}}])}();zd(Kd,"displayName","Tooltip"),zd(Kd,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Td,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qd=Ze,Xd=/\s/;var Yd=function(e){for(var t=e.length;t--&&Xd.test(e.charAt(t)););return t},Zd=/^\s+/;var Jd=function(e){return e?e.slice(0,Yd(e)+1).replace(Zd,""):e},Qd=yt,eh=mt,th=/^[-+]0x[0-9a-f]+$/i,nh=/^0b[01]+$/i,rh=/^0o[0-7]+$/i,ih=parseInt;var oh=function(e){if("number"==typeof e)return e;if(eh(e))return NaN;if(Qd(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qd(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jd(e);var n=nh.test(e);return n||rh.test(e)?ih(e.slice(2),n?2:8):th.test(e)?NaN:+e},ah=yt,sh=function(){return qd.Date.now()},lh=oh,ch=Math.max,uh=Math.min;var dh=function(e,t,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function f(){var e=sh();if(p(e))return g(e);s=setTimeout(f,function(e){var n=t-(e-l);return d?uh(n,o-(e-c)):n}(e))}function g(e){return s=void 0,h&&r?m(e):(r=i=void 0,a)}function v(){var e=sh(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(f,t),u?m(e):a}(l);if(d)return clearTimeout(s),s=setTimeout(f,t),m(l)}return void 0===s&&(s=setTimeout(f,t)),a}return t=lh(t)||0,ah(n)&&(u=!!n.leading,o=(d="maxWait"in n)?ch(lh(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?a:g(sh())},v},hh=yt;const mh=c(function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return hh(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dh(e,t,{leading:r,maxWait:t,trailing:i})});function ph(e){return(ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fh(Object(n),!0).forEach(function(t){vh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vh(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ph(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=ph(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ph(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xh=r.forwardRef(function(e,t){var n=e.aspect,i=e.initialDimension,o=void 0===i?{width:-1,height:-1}:i,a=e.width,s=void 0===a?"100%":a,l=e.height,c=void 0===l?"100%":l,d=e.minWidth,h=void 0===d?0:d,m=e.minHeight,p=e.maxHeight,f=e.children,g=e.debounce,v=void 0===g?0:g,b=e.id,y=e.className,x=e.onResize,w=e.style,C=void 0===w?{}:w,N=r.useRef(null),M=r.useRef();M.current=x,r.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var D=bh(r.useState({containerWidth:o.width,containerHeight:o.height}),2),S=D[0],j=D[1],E=r.useCallback(function(e,t){j(function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);r.useEffect(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;E(r,i),null===(t=M.current)||void 0===t||t.call(M,r,i)};v>0&&(e=mh(e,v,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=N.current.getBoundingClientRect(),r=n.width,i=n.height;return E(r,i),t.observe(N.current),function(){t.disconnect()}},[E,v]);var k=r.useMemo(function(){var e=S.containerWidth,t=S.containerHeight;if(e<0||t<0)return null;wi(Rr(s)||Rr(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),wi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=Rr(s)?e:s,o=Rr(c)?t:c;n&&n>0&&(i?o=i/n:o&&(i=o*n),p&&o>p&&(o=p)),wi(i>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,o,s,c,h,m,n);var a=!Array.isArray(f)&&ti(f.type).endsWith("Chart");return u.Children.map(f,function(e){return u.isValidElement(e)?r.cloneElement(e,gh({width:i,height:o},a?{style:gh({height:"100%",width:"100%",maxHeight:o,maxWidth:i},e.props.style)}:{})):e})},[n,f,c,p,m,h,S,s]);return u.createElement("div",{id:b?"".concat(b):void 0,className:Ue("recharts-responsive-container",y),style:gh(gh({},C),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:p}),ref:N},k)}),wh=function(e){return null};function Ch(e){return(Ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nh(Object(n),!0).forEach(function(t){Dh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Dh(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ch(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Ch(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ch(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wh.displayName="Cell";var Sh={widthCache:{},cacheCount:0},jh={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Eh="recharts_measurement_span";var kh=function(e){if(null==e||Td)return{width:0,height:0};var t,n=(t=Mh({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),r=JSON.stringify({text:e,copyStyle:n});if(Sh.widthCache[r])return Sh.widthCache[r];try{var i=document.getElementById(Eh);i||((i=document.createElement("span")).setAttribute("id",Eh),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Mh(Mh({},jh),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return Sh.widthCache[r]=s,++Sh.cacheCount>2e3&&(Sh.cacheCount=0,Sh.widthCache={}),s}catch(l){return{width:0,height:0}}};function Ph(e){return(Ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ah(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oh(r.key),r)}}function Oh(e){var t=function(e,t){if("object"!=Ph(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Ph(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Ph(t)?t:t+""}var Th=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vh=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fh=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ih=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Lh={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Bh=Object.keys(Lh),Hh="NaN";var _h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||Fh.test(n)||(this.num=NaN,this.unit=""),Bh.includes(n)&&(this.num=function(e,t){return e*Lh[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=Wh(null!==(n=Ih.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!=o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Ah(t.prototype,n),r&&Ah(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Gh(e){if(e.includes(Hh))return Hh;for(var t=e;t.includes("*")||t.includes("/");){var n,r=Wh(null!==(n=Th.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=_h.parse(null!=i?i:""),l=_h.parse(null!=a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return Hh;t=t.replace(Th,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Wh(null!==(u=Vh.exec(t))&&void 0!==u?u:[],4),h=d[1],m=d[2],p=d[3],f=_h.parse(null!=h?h:""),g=_h.parse(null!=p?p:""),v="+"===m?f.add(g):f.subtract(g);if(v.isNaN())return Hh;t=t.replace(Vh,v.toString())}return t}var zh=/\(([^()]*)\)/;function $h(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=Wh(zh.exec(t),2)[1];t=t.replace(zh,Gh(n))}return t}(t),t=Gh(t)}function Uh(e){var t=function(e){try{return $h(e)}catch(t){return Hh}}(e.slice(5,-1));return t===Hh?"":t}var Kh=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qh=["dx","dy","angle","className","breakAll"];function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xh.apply(this,arguments)}function Yh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qh=/[ \f\n\r\t\v\u2028\u2029]+/,em=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return vr(t)||(i=n?t.toString().split(""):t.toString().split(Qh)),{wordsWithComputedWidth:i.map(function(e){return{word:e,width:kh(e,r).width}}),spaceWidth:n?0:kh(" ",r).width}}catch(o){return null}},tm=function(e){return[{words:vr(e)?[]:e.toString().split(Qh)}]},nm=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!Td){var s=em({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=Ar(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var m,p=function(e){var t=u.slice(0,e),n=em({breakAll:l,style:s,children:t+"…"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(i).width>Number(r);return[a,i]},f=0,g=u.length-1,v=0;f<=g&&v<=u.length-1;){var b=Math.floor((f+g)/2),y=Zh(p(b-1),2),x=y[0],w=y[1],C=Zh(p(b),1)[0];if(x||C||(f=b+1),x&&C&&(g=b-1),!x&&C){m=w;break}v++}return m||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):tm(r)}return tm(r)},rm="#808080",im=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,o=void 0===i?0:i,a=e.lineHeight,s=void 0===a?"1em":a,l=e.capHeight,c=void 0===l?"0.71em":l,d=e.scaleToFit,h=void 0!==d&&d,m=e.textAnchor,p=void 0===m?"start":m,f=e.verticalAnchor,g=void 0===f?"end":f,v=e.fill,b=void 0===v?rm:v,y=Yh(e,Kh),x=r.useMemo(function(){return nm({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),w=y.dx,C=y.dy,N=y.angle,M=y.className,D=y.breakAll,S=Yh(y,qh);if(!Or(n)||!Or(o))return null;var j,E=n+(Ar(w)?w:0),k=o+(Ar(C)?C:0);switch(g){case"start":j=Uh("calc(".concat(c,")"));break;case"middle":j=Uh("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:j=Uh("calc(".concat(x.length-1," * -").concat(s,")"))}var P=[];if(h){var W=x[0].width,R=y.width;P.push("scale(".concat((Ar(R)?R/W:1)/W,")"))}return N&&P.push("rotate(".concat(N,", ").concat(E,", ").concat(k,")")),P.length&&(S.transform=P.join(" ")),u.createElement("text",Xh({},ci(S,!0),{x:E,y:k,className:Ue("recharts-text",M),textAnchor:p,fill:b.includes("url")?rm:b}),x.map(function(e,t){var n=e.words.join(D?"":" ");return u.createElement("tspan",{x:E,dy:0===t?j:s,key:"".concat(n,"-").concat(t)},n)}))};function om(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function am(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sm(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=om,n=(t,n)=>om(e(t),n),r=(t,n)=>e(t)-n):(t=e===om||e===am?e:lm,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const a=i(e,t,n,o-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function lm(){return 0}function cm(e){return null===e?NaN:+e}const um=sm(om).right;sm(cm).center;class dm extends Map{constructor(e,t=mm){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(hm(this,e))}has(e){return super.has(hm(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function hm({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function mm(e){return null!==e&&"object"==typeof e?e.valueOf():e}function pm(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const fm=Math.sqrt(50),gm=Math.sqrt(10),vm=Math.sqrt(2);function bm(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=fm?10:o>=gm?5:o>=vm?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?bm(e,t,2*n):[s,l,c]}function ym(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?bm(t,e,n):bm(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function xm(e,t,n){return bm(e=+e,t=+t,n=+n)[2]}function wm(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?xm(t,e,n):xm(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Cm(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function Nm(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function Mm(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?pm:function(e=om){if(e===om)return pm;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);Mm(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(Dm(e,n,t),i(e[r],o)>0&&Dm(e,n,r);a<s;){for(Dm(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?Dm(e,n,s):(++s,Dm(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Dm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Sm(e,t,n=cm){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function jm(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Em(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const km=Symbol("implicit");function Pm(){var e=new dm,t=[],n=[],r=km;function i(i){let o=e.get(i);if(void 0===o){if(r!==km)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new dm;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Pm(t,n).unknown(r)},jm.apply(i,arguments),i}function Wm(){var e,t,n=Pm().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<o,h=d?a:o,m=d?o:a;e=(m-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(m-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Wm(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},jm.apply(d(),arguments)}function Rm(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Rm(t())},e}function Am(){return Rm(Wm.apply(null,arguments).paddingInner(1))}function Om(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Tm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Vm(){}var Fm=.7,Im=1/Fm,Lm="\\s*([+-]?\\d+)\\s*",Bm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_m=/^#([0-9a-f]{3,8})$/,Gm=new RegExp(`^rgb\\(${Lm},${Lm},${Lm}\\)$`),zm=new RegExp(`^rgb\\(${Hm},${Hm},${Hm}\\)$`),$m=new RegExp(`^rgba\\(${Lm},${Lm},${Lm},${Bm}\\)$`),Um=new RegExp(`^rgba\\(${Hm},${Hm},${Hm},${Bm}\\)$`),Km=new RegExp(`^hsl\\(${Bm},${Hm},${Hm}\\)$`),qm=new RegExp(`^hsla\\(${Bm},${Hm},${Hm},${Bm}\\)$`),Xm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ym(){return this.rgb().formatHex()}function Zm(){return this.rgb().formatRgb()}function Jm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_m.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Qm(t):3===n?new np(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ep(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ep(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Gm.exec(e))?new np(t[1],t[2],t[3],1):(t=zm.exec(e))?new np(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=$m.exec(e))?ep(t[1],t[2],t[3],t[4]):(t=Um.exec(e))?ep(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Km.exec(e))?lp(t[1],t[2]/100,t[3]/100,1):(t=qm.exec(e))?lp(t[1],t[2]/100,t[3]/100,t[4]):Xm.hasOwnProperty(e)?Qm(Xm[e]):"transparent"===e?new np(NaN,NaN,NaN,0):null}function Qm(e){return new np(e>>16&255,e>>8&255,255&e,1)}function ep(e,t,n,r){return r<=0&&(e=t=n=NaN),new np(e,t,n,r)}function tp(e,t,n,r){return 1===arguments.length?((i=e)instanceof Vm||(i=Jm(i)),i?new np((i=i.rgb()).r,i.g,i.b,i.opacity):new np):new np(e,t,n,null==r?1:r);var i}function np(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function rp(){return`#${sp(this.r)}${sp(this.g)}${sp(this.b)}`}function ip(){const e=op(this.opacity);return`${1===e?"rgb(":"rgba("}${ap(this.r)}, ${ap(this.g)}, ${ap(this.b)}${1===e?")":`, ${e})`}`}function op(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ap(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sp(e){return((e=ap(e))<16?"0":"")+e.toString(16)}function lp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new up(e,t,n,r)}function cp(e){if(e instanceof up)return new up(e.h,e.s,e.l,e.opacity);if(e instanceof Vm||(e=Jm(e)),!e)return new up;if(e instanceof up)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new up(a,s,l,e.opacity)}function up(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function dp(e){return(e=(e||0)%360)<0?e+360:e}function hp(e){return Math.max(0,Math.min(1,e||0))}function mp(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Om(Vm,Jm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ym,formatHex:Ym,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return cp(this).formatHsl()},formatRgb:Zm,toString:Zm}),Om(np,tp,Tm(Vm,{brighter(e){return e=null==e?Im:Math.pow(Im,e),new np(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Fm:Math.pow(Fm,e),new np(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new np(ap(this.r),ap(this.g),ap(this.b),op(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rp,formatHex:rp,formatHex8:function(){return`#${sp(this.r)}${sp(this.g)}${sp(this.b)}${sp(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ip,toString:ip})),Om(up,function(e,t,n,r){return 1===arguments.length?cp(e):new up(e,t,n,null==r?1:r)},Tm(Vm,{brighter(e){return e=null==e?Im:Math.pow(Im,e),new up(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Fm:Math.pow(Fm,e),new up(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new np(mp(e>=240?e-240:e+120,i,r),mp(e,i,r),mp(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new up(dp(this.h),hp(this.s),hp(this.l),op(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=op(this.opacity);return`${1===e?"hsl(":"hsla("}${dp(this.h)}, ${100*hp(this.s)}%, ${100*hp(this.l)}%${1===e?")":`, ${e})`}`}}));const pp=e=>()=>e;function fp(e){return 1===(e=+e)?gp:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):pp(isNaN(t)?n:t)}}function gp(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):pp(isNaN(e)?t:e)}const vp=function e(t){var n=fp(t);function r(e,t){var r=n((e=tp(e)).r,(t=tp(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=gp(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function bp(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function yp(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Sp(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function xp(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function wp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Cp(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Sp(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Np=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mp=new RegExp(Np.source,"g");function Dp(e,t){var n,r,i,o=Np.lastIndex=Mp.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Np.exec(e))&&(r=Mp.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:wp(n,r)})),o=Mp.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Sp(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?pp(t):("number"===i?wp:"string"===i?(n=Jm(t))?(t=n,vp):Dp:t instanceof Jm?vp:t instanceof Date?xp:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?yp:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Cp:wp:bp))(e,t)}function jp(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ep(e){return+e}var kp=[0,1];function Pp(e){return e}function Wp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Rp(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Wp(i,r),o=n(a,o)):(r=Wp(r,i),o=n(o,a)),function(e){return o(r(e))}}function Ap(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Wp(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=um(e,t,1,r)-1;return o[n](i[n](t))}}function Op(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tp(){var e,t,n,r,i,o,a=kp,s=kp,l=Sp,c=Pp;function u(){var e,t,n,l=Math.min(a.length,s.length);return c!==Pp&&(e=a[0],t=a[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?Ap:Rp,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,a.map(e),wp)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,Ep),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=jp,u()},d.clamp=function(e){return arguments.length?(c=!!e||Pp,u()):c!==Pp},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Vp(){return Tp()(Pp,Pp)}function Fp(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ip(e){return(e=Fp(Math.abs(e)))?e[1]:NaN}var Lp,Bp=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hp(e){if(!(t=Bp.exec(e)))throw new Error("invalid format: "+e);var t;return new _p({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function _p(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Gp(e,t){var n=Fp(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Hp.prototype=_p.prototype,_p.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const zp={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Gp(100*e,t),r:Gp,s:function(e,t){var n=Fp(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Lp=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Fp(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $p(e){return e}var Up,Kp,qp,Xp=Array.prototype.map,Yp=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Zp(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?$p:(t=Xp.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?$p:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Xp.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Hp(e)).fill,n=e.align,d=e.sign,h=e.symbol,m=e.zero,p=e.width,f=e.comma,g=e.precision,v=e.trim,b=e.type;"n"===b?(f=!0,b="g"):zp[b]||(void 0===g&&(g=12),v=!0,b="g"),(m||"0"===t&&"="===n)&&(m=!0,t="0",n="=");var y="$"===h?i:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===h?o:/[%p]/.test(b)?l:"",w=zp[b],C=/[defgprs%]/.test(b);function N(e){var i,o,l,h=y,N=x;if("c"===b)N=w(e)+N,e="";else{var M=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),M&&0===+e&&"+"!==d&&(M=!1),h=(M?"("===d?d:c:"-"===d||"("===d?"":d)+h,N=("s"===b?Yp[8+Lp/3]:"")+N+(M&&"("===d?")":""),C)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){N=(46===l?a+e.slice(i+1):e.slice(i))+N,e=e.slice(0,i);break}}f&&!m&&(e=r(e,1/0));var D=h.length+e.length+N.length,S=D<p?new Array(p-D+1).join(t):"";switch(f&&m&&(e=r(S+e,S.length?p-N.length:1/0),S=""),n){case"<":e=h+e+N+S;break;case"=":e=h+S+e+N;break;case"^":e=S.slice(0,D=S.length>>1)+h+e+N+S.slice(D);break;default:e=S+h+e+N}return s(e)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var n=d(((e=Hp(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Ip(t)/3))),i=Math.pow(10,-r),o=Yp[8+r/3];return function(e){return n(i*e)+o}}}}function Jp(e,t,n,r){var i,o=wm(e,t,n);switch((r=Hp(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ip(t)/3)))-Ip(Math.abs(e)))}(o,a))||(r.precision=i),qp(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ip(t)-Ip(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Ip(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Kp(r)}function Qp(e){var t=e.domain;return e.ticks=function(e){var n=t();return ym(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Jp(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=xm(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function ef(){var e=Vp();return e.copy=function(){return Op(e,ef())},jm.apply(e,arguments),Qp(e)}function tf(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function nf(e){return Math.log(e)}function rf(e){return Math.exp(e)}function of(e){return-Math.log(-e)}function af(e){return-Math.exp(-e)}function sf(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lf(e){return(t,n)=>-e(-t,n)}function cf(e){const t=e(nf,rf),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?sf:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=lf(r),i=lf(i),e(of,af)):e(nf,rf),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,d=r(a),h=r(s);const m=null==e?10:+e;let p=[];if(!(o%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}2*p.length<m&&(p=ym(a,s,m))}else p=ym(d,h,Math.min(h-d,m)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=Hp(n)).precision||(n.trim=!0),n=Kp(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(tf(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function uf(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function df(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hf(e){var t=1,n=e(uf(t),df(t));return n.constant=function(n){return arguments.length?e(uf(t=+n),df(t)):t},Qp(n)}function mf(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pf(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ff(e){return e<0?-e*e:e*e}function gf(e){var t=e(Pp,Pp),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Pp,Pp):.5===n?e(pf,ff):e(mf(n),mf(1/n)):n},Qp(t)}function vf(){var e=gf(Tp());return e.copy=function(){return Op(e,vf()).exponent(e.exponent())},jm.apply(e,arguments),e}function bf(e){return Math.sign(e)*e*e}Up=Zp({thousands:",",grouping:[3],currency:["$",""]}),Kp=Up.format,qp=Up.formatPrefix;const yf=new Date,xf=new Date;function wf(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>wf(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(yf.setTime(+t),xf.setTime(+r),e(yf),e(xf),Math.floor(n(yf,xf))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Cf=wf(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cf.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?wf(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Cf:null),Cf.range;const Nf=1e3,Mf=6e4,Df=36e5,Sf=864e5,jf=6048e5,Ef=2592e6,kf=31536e6,Pf=wf(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Nf)},(e,t)=>(t-e)/Nf,e=>e.getUTCSeconds());Pf.range;const Wf=wf(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nf)},(e,t)=>{e.setTime(+e+t*Mf)},(e,t)=>(t-e)/Mf,e=>e.getMinutes());Wf.range;const Rf=wf(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Mf)},(e,t)=>(t-e)/Mf,e=>e.getUTCMinutes());Rf.range;const Af=wf(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nf-e.getMinutes()*Mf)},(e,t)=>{e.setTime(+e+t*Df)},(e,t)=>(t-e)/Df,e=>e.getHours());Af.range;const Of=wf(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Df)},(e,t)=>(t-e)/Df,e=>e.getUTCHours());Of.range;const Tf=wf(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mf)/Sf,e=>e.getDate()-1);Tf.range;const Vf=wf(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sf,e=>e.getUTCDate()-1);Vf.range;const Ff=wf(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sf,e=>Math.floor(e/Sf));function If(e){return wf(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mf)/jf)}Ff.range;const Lf=If(0),Bf=If(1),Hf=If(2),_f=If(3),Gf=If(4),zf=If(5),$f=If(6);function Uf(e){return wf(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/jf)}Lf.range,Bf.range,Hf.range,_f.range,Gf.range,zf.range,$f.range;const Kf=Uf(0),qf=Uf(1),Xf=Uf(2),Yf=Uf(3),Zf=Uf(4),Jf=Uf(5),Qf=Uf(6);Kf.range,qf.range,Xf.range,Yf.range,Zf.range,Jf.range,Qf.range;const eg=wf(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());eg.range;const tg=wf(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());tg.range;const ng=wf(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ng.every=e=>isFinite(e=Math.floor(e))&&e>0?wf(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,ng.range;const rg=wf(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function ig(e,t,n,r,i,o){const a=[[Pf,1,Nf],[Pf,5,5e3],[Pf,15,15e3],[Pf,30,3e4],[o,1,Mf],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Df],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Sf],[r,2,1728e5],[n,1,jf],[t,1,Ef],[t,3,7776e6],[e,1,kf]];function s(t,n,r){const i=Math.abs(n-t)/r,o=sm(([,,e])=>e).right(a,i);if(o===a.length)return e.every(wm(t/kf,n/kf,r));if(0===o)return Cf.every(Math.max(wm(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}rg.every=e=>isFinite(e=Math.floor(e))&&e>0?wf(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,rg.range;const[og,ag]=ig(rg,tg,Kf,Ff,Of,Rf),[sg,lg]=ig(ng,eg,Lf,Tf,Af,Wf);function cg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ug(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dg(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var hg,mg,pg,fg={"-":"",_:" ",0:"0"},gg=/^\s*\d+/,vg=/^%/,bg=/[\\^$*+?|[\]().{}]/g;function yg(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function xg(e){return e.replace(bg,"\\$&")}function wg(e){return new RegExp("^(?:"+e.map(xg).join("|")+")","i")}function Cg(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Ng(e,t,n){var r=gg.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Mg(e,t,n){var r=gg.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Dg(e,t,n){var r=gg.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Sg(e,t,n){var r=gg.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function jg(e,t,n){var r=gg.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Eg(e,t,n){var r=gg.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function kg(e,t,n){var r=gg.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pg(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Wg(e,t,n){var r=gg.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Rg(e,t,n){var r=gg.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ag(e,t,n){var r=gg.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Og(e,t,n){var r=gg.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Tg(e,t,n){var r=gg.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Vg(e,t,n){var r=gg.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Fg(e,t,n){var r=gg.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ig(e,t,n){var r=gg.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Lg(e,t,n){var r=gg.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Bg(e,t,n){var r=vg.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Hg(e,t,n){var r=gg.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function _g(e,t,n){var r=gg.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Gg(e,t){return yg(e.getDate(),t,2)}function zg(e,t){return yg(e.getHours(),t,2)}function $g(e,t){return yg(e.getHours()%12||12,t,2)}function Ug(e,t){return yg(1+Tf.count(ng(e),e),t,3)}function Kg(e,t){return yg(e.getMilliseconds(),t,3)}function qg(e,t){return Kg(e,t)+"000"}function Xg(e,t){return yg(e.getMonth()+1,t,2)}function Yg(e,t){return yg(e.getMinutes(),t,2)}function Zg(e,t){return yg(e.getSeconds(),t,2)}function Jg(e){var t=e.getDay();return 0===t?7:t}function Qg(e,t){return yg(Lf.count(ng(e)-1,e),t,2)}function ev(e){var t=e.getDay();return t>=4||0===t?Gf(e):Gf.ceil(e)}function tv(e,t){return e=ev(e),yg(Gf.count(ng(e),e)+(4===ng(e).getDay()),t,2)}function nv(e){return e.getDay()}function rv(e,t){return yg(Bf.count(ng(e)-1,e),t,2)}function iv(e,t){return yg(e.getFullYear()%100,t,2)}function ov(e,t){return yg((e=ev(e)).getFullYear()%100,t,2)}function av(e,t){return yg(e.getFullYear()%1e4,t,4)}function sv(e,t){var n=e.getDay();return yg((e=n>=4||0===n?Gf(e):Gf.ceil(e)).getFullYear()%1e4,t,4)}function lv(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yg(t/60|0,"0",2)+yg(t%60,"0",2)}function cv(e,t){return yg(e.getUTCDate(),t,2)}function uv(e,t){return yg(e.getUTCHours(),t,2)}function dv(e,t){return yg(e.getUTCHours()%12||12,t,2)}function hv(e,t){return yg(1+Vf.count(rg(e),e),t,3)}function mv(e,t){return yg(e.getUTCMilliseconds(),t,3)}function pv(e,t){return mv(e,t)+"000"}function fv(e,t){return yg(e.getUTCMonth()+1,t,2)}function gv(e,t){return yg(e.getUTCMinutes(),t,2)}function vv(e,t){return yg(e.getUTCSeconds(),t,2)}function bv(e){var t=e.getUTCDay();return 0===t?7:t}function yv(e,t){return yg(Kf.count(rg(e)-1,e),t,2)}function xv(e){var t=e.getUTCDay();return t>=4||0===t?Zf(e):Zf.ceil(e)}function wv(e,t){return e=xv(e),yg(Zf.count(rg(e),e)+(4===rg(e).getUTCDay()),t,2)}function Cv(e){return e.getUTCDay()}function Nv(e,t){return yg(qf.count(rg(e)-1,e),t,2)}function Mv(e,t){return yg(e.getUTCFullYear()%100,t,2)}function Dv(e,t){return yg((e=xv(e)).getUTCFullYear()%100,t,2)}function Sv(e,t){return yg(e.getUTCFullYear()%1e4,t,4)}function jv(e,t){var n=e.getUTCDay();return yg((e=n>=4||0===n?Zf(e):Zf.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ev(){return"+0000"}function kv(){return"%"}function Pv(e){return+e}function Wv(e){return Math.floor(+e/1e3)}function Rv(e){return new Date(e)}function Av(e){return e instanceof Date?+e:+new Date(+e)}function Ov(e,t,n,r,i,o,a,s,l,c){var u=Vp(),d=u.invert,h=u.domain,m=c(".%L"),p=c(":%S"),f=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),b=c("%b %d"),y=c("%B"),x=c("%Y");function w(e){return(l(e)<e?m:s(e)<e?p:a(e)<e?f:o(e)<e?g:r(e)<e?i(e)<e?v:b:n(e)<e?y:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,Av)):h().map(Rv)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(tf(n,e)):u},u.copy=function(){return Op(u,Ov(e,t,n,r,i,o,a,s,l,c))},u}function Tv(){var e,t,n,r,i,o=0,a=1,s=Pp,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Sp),c.rangeRound=u(jp),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function Vv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Fv(){var e=gf(Tv());return e.copy=function(){return Vv(e,Fv()).exponent(e.exponent())},Em.apply(e,arguments)}function Iv(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,d=Pp,h=!1;function m(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=Sp);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),m):[d(0),d(.5),d(1)]}}return m.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,m):[s,l,c]},m.clamp=function(e){return arguments.length?(h=!!e,m):h},m.interpolator=function(e){return arguments.length?(d=e,m):d},m.range=p(Sp),m.rangeRound=p(jp),m.unknown=function(e){return arguments.length?(a=e,m):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,m}}function Lv(){var e=gf(Iv());return e.copy=function(){return Vv(e,Lv()).exponent(e.exponent())},Em.apply(e,arguments)}!function(e){hg=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=wg(i),u=Cg(i),d=wg(o),h=Cg(o),m=wg(a),p=Cg(a),f=wg(s),g=Cg(s),v=wg(l),b=Cg(l),y={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Gg,e:Gg,f:qg,g:ov,G:sv,H:zg,I:$g,j:Ug,L:Kg,m:Xg,M:Yg,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Pv,s:Wv,S:Zg,u:Jg,U:Qg,V:tv,w:nv,W:rv,x:null,X:null,y:iv,Y:av,Z:lv,"%":kv},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:cv,e:cv,f:pv,g:Dv,G:jv,H:uv,I:dv,j:hv,L:mv,m:fv,M:gv,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Pv,s:Wv,S:vv,u:bv,U:yv,V:wv,w:Cv,W:Nv,x:null,X:null,y:Mv,Y:Sv,Z:Ev,"%":kv},w={a:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return M(e,t,n,r)},d:Ag,e:Ag,f:Lg,g:kg,G:Eg,H:Tg,I:Tg,j:Og,L:Ig,m:Rg,M:Vg,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Wg,Q:Hg,s:_g,S:Fg,u:Mg,U:Dg,V:Sg,w:Ng,W:jg,x:function(e,t,r){return M(e,n,t,r)},X:function(e,t,n){return M(e,r,t,n)},y:kg,Y:Eg,Z:Pg,"%":Bg};function C(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=fg[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function N(e,t){return function(n){var r,i,o=dg(1900,void 0,1);if(M(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ug(dg(o.y,0,1))).getUTCDay(),r=i>4||0===i?qf.ceil(r):qf(r),r=Vf.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=cg(dg(o.y,0,1))).getDay(),r=i>4||0===i?Bf.ceil(r):Bf(r),r=Tf.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ug(dg(o.y,0,1)).getUTCDay():cg(dg(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ug(o)):cg(o)}}function M(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in fg?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=C(n,y),y.X=C(r,y),y.c=C(t,y),x.x=C(n,x),x.X=C(r,x),x.c=C(t,x),{format:function(e){var t=C(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=C(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),mg=hg.format,hg.parse,pg=hg.utcFormat,hg.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Bv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wm,scaleDiverging:function e(){var t=Qp(Iv()(Pp));return t.copy=function(){return Vv(t,e())},Em.apply(t,arguments)},scaleDivergingLog:function e(){var t=cf(Iv()).domain([.1,1,10]);return t.copy=function(){return Vv(t,e()).base(t.base())},Em.apply(t,arguments)},scaleDivergingPow:Lv,scaleDivergingSqrt:function(){return Lv.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=hf(Iv());return t.copy=function(){return Vv(t,e()).constant(t.constant())},Em.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,Ep),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Ep):[0,1],Qp(r)},scaleImplicit:km,scaleLinear:ef,scaleLog:function e(){const t=cf(Tp()).domain([1,10]);return t.copy=()=>Op(t,e()).base(t.base()),jm.apply(t,arguments),t},scaleOrdinal:Pm,scalePoint:Am,scalePow:vf,scaleQuantile:function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=Sm(n,e/t);return a}function a(e){return null==e||isNaN(e=+e)?t:r[um(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(om),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},jm.apply(a,arguments)},scaleQuantize:function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return null!=e&&e<=e?a[um(o,e,0,i)]:t}function l(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},jm.apply(Qp(s),arguments)},scaleRadial:function e(){var t,n=Vp(),r=[0,1],i=!1;function o(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:i?Math.round(r):r}return o.invert=function(e){return n.invert(bf(e))},o.domain=function(e){return arguments.length?(n.domain(e),o):n.domain()},o.range=function(e){return arguments.length?(n.range((r=Array.from(e,Ep)).map(bf)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(i=!!e,o):i},o.clamp=function(e){return arguments.length?(n.clamp(e),o):n.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},jm.apply(o,arguments),Qp(o)},scaleSequential:function e(){var t=Qp(Tv()(Pp));return t.copy=function(){return Vv(t,e())},Em.apply(t,arguments)},scaleSequentialLog:function e(){var t=cf(Tv()).domain([1,10]);return t.copy=function(){return Vv(t,e()).base(t.base())},Em.apply(t,arguments)},scaleSequentialPow:Fv,scaleSequentialQuantile:function e(){var t=[],n=Pp;function r(e){if(null!=e&&!isNaN(e=+e))return n((um(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(om),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return Nm(e);if(t>=1)return Cm(e);var n,r=(n-1)*t,i=Math.floor(r),o=Cm(Mm(e,i).subarray(0,i+1));return o+(Nm(e.subarray(i+1))-o)*(r-i)}}(t,r/e))},r.copy=function(){return e(n).domain(t)},Em.apply(r,arguments)},scaleSequentialSqrt:function(){return Fv.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=hf(Tv());return t.copy=function(){return Vv(t,e()).constant(t.constant())},Em.apply(t,arguments)},scaleSqrt:function(){return vf.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=hf(Tp());return t.copy=function(){return Op(t,e()).constant(t.constant())},jm.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return null!=e&&e<=e?r[um(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},jm.apply(o,arguments)},scaleTime:function(){return jm.apply(Ov(sg,lg,ng,eg,Lf,Tf,Af,Wf,Pf,mg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return jm.apply(Ov(og,ag,rg,tg,Kf,Vf,Of,Rf,Pf,pg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:Jp},Symbol.toStringTag,{value:"Module"}));var Hv=mt;var _v=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!Hv(a):n(a,s)))var s=a,l=o}return l};var Gv=function(e,t){return e>t},zv=_v,$v=Gv,Uv=Cc;const Kv=c(function(e){return e&&e.length?zv(e,Uv,$v):void 0});var qv=function(e,t){return e<t},Xv=_v,Yv=qv,Zv=Cc;const Jv=c(function(e){return e&&e.length?Xv(e,Zv,Yv):void 0});var Qv=Xn,eb=Ac,tb=ju,nb=Ke;var rb=yu,ib=function(e,t){return(nb(e)?Qv:tb)(e,eb(t))};const ob=c(function(e,t){return rb(ib(e,t),1)});var ab=Yl;const sb=c(function(e,t){return ab(e,t)});var lb,cb=1e9,ub=!0,db="[DecimalError] ",hb=db+"Invalid argument: ",mb=db+"Exponent out of range: ",pb=Math.floor,fb=Math.pow,gb=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vb=1e7,bb=9007199254740991,yb=pb(1286742750677284.5),xb={};function wb(e,t){var n,r,i,o,a,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ub?Wb(t,d):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),o>(s=(a=Math.ceil(d/7))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=l.length)-(o=c.length)<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/vb|0,l[o]%=vb;for(n&&(l.unshift(n),++i),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=i,ub?Wb(t,d):t}function Cb(e,t,n){if(e!==~~e||e<t||e>n)throw Error(hb+e)}function Nb(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=Eb(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=Eb(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}xb.absoluteValue=xb.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},xb.comparedTo=xb.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},xb.decimalPlaces=xb.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},xb.dividedBy=xb.div=function(e){return Mb(this,new this.constructor(e))},xb.dividedToIntegerBy=xb.idiv=function(e){var t=this.constructor;return Wb(Mb(this,new t(e),0,1),t.precision)},xb.equals=xb.eq=function(e){return!this.cmp(e)},xb.exponent=function(){return Sb(this)},xb.greaterThan=xb.gt=function(e){return this.cmp(e)>0},xb.greaterThanOrEqualTo=xb.gte=function(e){return this.cmp(e)>=0},xb.isInteger=xb.isint=function(){return this.e>this.d.length-2},xb.isNegative=xb.isneg=function(){return this.s<0},xb.isPositive=xb.ispos=function(){return this.s>0},xb.isZero=function(){return 0===this.s},xb.lessThan=xb.lt=function(e){return this.cmp(e)<0},xb.lessThanOrEqualTo=xb.lte=function(e){return this.cmp(e)<1},xb.logarithm=xb.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(lb))throw Error(db+"NaN");if(n.s<1)throw Error(db+(n.s?"NaN":"-Infinity"));return n.eq(lb)?new r(0):(ub=!1,t=Mb(kb(n,o),kb(e,o),o),ub=!0,Wb(t,i))},xb.minus=xb.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Rb(t,e):wb(t,(e.s=-e.s,e))},xb.modulo=xb.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(db+"NaN");return n.s?(ub=!1,t=Mb(n,e,0,1).times(e),ub=!0,n.minus(t)):Wb(new r(n),i)},xb.naturalExponential=xb.exp=function(){return Db(this)},xb.naturalLogarithm=xb.ln=function(){return kb(this)},xb.negated=xb.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},xb.plus=xb.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wb(t,e):Rb(t,(e.s=-e.s,e))},xb.precision=xb.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(hb+e);if(t=Sb(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},xb.squareRoot=xb.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(db+"NaN")}for(e=Sb(s),ub=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=Nb(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=pb((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=a=(n=l.precision)+3;;)if(r=(o=r).plus(Mb(s,o,a+2)).times(.5),Nb(o.d).slice(0,a)===(t=Nb(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(Wb(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;a+=4}return ub=!0,Wb(r,n)},xb.times=xb.mul=function(e){var t,n,r,i,o,a,s,l,c,u=this,d=u.constructor,h=u.d,m=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,(l=h.length)<(c=m.length)&&(o=h,h=m,m=o,a=l,l=c,c=a),o=[],r=a=l+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+t,o[i--]=s%vb|0,t=s/vb|0;o[i]=(o[i]+t)%vb|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,ub?Wb(e,d.precision):e},xb.toDecimalPlaces=xb.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(Cb(e,0,cb),void 0===t?t=r.rounding:Cb(t,0,8),Wb(n,e+Sb(n)+1,t))},xb.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=Ab(r,!0):(Cb(e,0,cb),void 0===t?t=i.rounding:Cb(t,0,8),n=Ab(r=Wb(new i(r),e+1,t),!0,e+1)),n},xb.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?Ab(i):(Cb(e,0,cb),void 0===t?t=o.rounding:Cb(t,0,8),n=Ab((r=Wb(new o(i),e+Sb(i)+1,t)).abs(),!1,e+Sb(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},xb.toInteger=xb.toint=function(){var e=this,t=e.constructor;return Wb(new t(e),Sb(e)+1,t.rounding)},xb.toNumber=function(){return+this},xb.toPower=xb.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(lb);if(!(s=new l(s)).s){if(e.s<1)throw Error(db+"Infinity");return s}if(s.eq(lb))return s;if(r=l.precision,e.eq(lb))return Wb(s,r);if(a=(t=e.e)>=(n=e.d.length-1),o=s.s,a){if((n=c<0?-c:c)<=bb){for(i=new l(lb),t=Math.ceil(r/7+4),ub=!1;n%2&&Ob((i=i.times(s)).d,t),0!==(n=pb(n/2));)Ob((s=s.times(s)).d,t);return ub=!0,e.s<0?new l(lb).div(i):Wb(i,r)}}else if(o<0)throw Error(db+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,s.s=1,ub=!1,i=e.times(kb(s,r+12)),ub=!0,(i=Db(i)).s=o,i},xb.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=Ab(i,(n=Sb(i))<=o.toExpNeg||n>=o.toExpPos):(Cb(e,1,cb),void 0===t?t=o.rounding:Cb(t,0,8),r=Ab(i=Wb(new o(i),e,t),e<=(n=Sb(i))||n<=o.toExpNeg,e)),r},xb.toSignificantDigits=xb.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(Cb(e,1,cb),void 0===t?t=n.rounding:Cb(t,0,8)),Wb(new n(this),e,t)},xb.toString=xb.valueOf=xb.val=xb.toJSON=xb[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Sb(e),n=e.constructor;return Ab(e,t<=n.toExpNeg||t>=n.toExpPos)};var Mb=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%vb|0,r=n/vb|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*vb+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,l,c,u,d,h,m,p,f,g,v,b,y,x,w,C,N,M,D=r.constructor,S=r.s==i.s?1:-1,j=r.d,E=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(db+"Division by zero");for(l=r.e-i.e,N=E.length,w=j.length,p=(m=new D(S)).d=[],c=0;E[c]==(j[c]||0);)++c;if(E[c]>(j[c]||0)&&--l,(b=null==o?o=D.precision:a?o+(Sb(r)-Sb(i))+1:o)<0)return new D(0);if(b=b/7+2|0,c=0,1==N)for(u=0,E=E[0],b++;(c<w||u)&&b--;c++)y=u*vb+(j[c]||0),p[c]=y/E|0,u=y%E|0;else{for((u=vb/(E[0]+1)|0)>1&&(E=e(E,u),j=e(j,u),N=E.length,w=j.length),x=N,g=(f=j.slice(0,N)).length;g<N;)f[g++]=0;(M=E.slice()).unshift(0),C=E[0],E[1]>=vb/2&&++C;do{u=0,(s=t(E,f,N,g))<0?(v=f[0],N!=g&&(v=v*vb+(f[1]||0)),(u=v/C|0)>1?(u>=vb&&(u=vb-1),1==(s=t(d=e(E,u),f,h=d.length,g=f.length))&&(u--,n(d,N<h?M:E,h))):(0==u&&(s=u=1),d=E.slice()),(h=d.length)<g&&d.unshift(0),n(f,d,g),-1==s&&(s=t(E,f,N,g=f.length))<1&&(u++,n(f,N<g?M:E,g)),g=f.length):0===s&&(u++,f=[0]),p[c++]=u,s&&f[0]?f[g++]=j[x]||0:(f=[j[x]],g=1)}while((x++<w||void 0!==f[0])&&b--)}return p[0]||p.shift(),m.e=l,Wb(m,a?o+Sb(m)+1:o)}}();function Db(e,t){var n,r,i,o,a,s=0,l=0,c=e.constructor,u=c.precision;if(Sb(e)>16)throw Error(mb+Sb(e));if(!e.s)return new c(lb);for(ub=!1,a=u,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(a+=Math.log(fb(2,l))/Math.LN10*2+5|0,n=r=i=new c(lb),c.precision=a;;){if(r=Wb(r.times(e),a),n=n.times(++s),Nb((o=i.plus(Mb(r,n,a))).d).slice(0,a)===Nb(i.d).slice(0,a)){for(;l--;)i=Wb(i.times(i),a);return c.precision=u,null==t?(ub=!0,Wb(i,u)):i}i=o}}function Sb(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function jb(e,t,n){if(t>e.LN10.sd())throw ub=!0,n&&(e.precision=n),Error(db+"LN10 precision limit exceeded");return Wb(new e(e.LN10),t)}function Eb(e){for(var t="";e--;)t+="0";return t}function kb(e,t){var n,r,i,o,a,s,l,c,u,d=1,h=e,m=h.d,p=h.constructor,f=p.precision;if(h.s<1)throw Error(db+(h.s?"NaN":"-Infinity"));if(h.eq(lb))return new p(0);if(null==t?(ub=!1,c=f):c=t,h.eq(10))return null==t&&(ub=!0),jb(p,c);if(c+=10,p.precision=c,r=(n=Nb(m)).charAt(0),o=Sb(h),!(Math.abs(o)<15e14))return l=jb(p,c+2,f).times(o+""),h=kb(new p(r+"."+n.slice(1)),c-10).plus(l),p.precision=f,null==t?(ub=!0,Wb(h,f)):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=Nb((h=h.times(e)).d)).charAt(0),d++;for(o=Sb(h),r>1?(h=new p("0."+n),o++):h=new p(r+"."+n.slice(1)),s=a=h=Mb(h.minus(lb),h.plus(lb),c),u=Wb(h.times(h),c),i=3;;){if(a=Wb(a.times(u),c),Nb((l=s.plus(Mb(a,new p(i),c))).d).slice(0,c)===Nb(s.d).slice(0,c))return s=s.times(2),0!==o&&(s=s.plus(jb(p,c+2,f).times(o+""))),s=Mb(s,new p(d),c),p.precision=f,null==t?(ub=!0,Wb(s,f)):s;s=l,i+=2}}function Pb(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=pb(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ub&&(e.e>yb||e.e<-yb))throw Error(mb+n)}else e.s=0,e.e=0,e.d=[0];return e}function Wb(e,t,n){var r,i,o,a,s,l,c,u,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,c=d[u=0];else{if((u=Math.ceil((r+1)/7))>=(o=d.length))return e;for(c=o=d[u],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(s=c/(o=fb(10,a-i-1))%10|0,l=t<0||void 0!==d[u+1]||c%o,l=n<4?(s||l)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||l||6==n&&(r>0?i>0?c/fb(10,a-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=Sb(e),d.length=1,t=t-o-1,d[0]=fb(10,(7-t%7)%7),e.e=pb(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=u,o=1,u--):(d.length=u+1,o=fb(10,7-r),d[u]=i>0?(c/fb(10,a-i)%fb(10,i)|0)*o:0),l)for(;;){if(0==u){(d[0]+=o)==vb&&(d[0]=1,++e.e);break}if(d[u]+=o,d[u]!=vb)break;d[u--]=0,o=1}for(r=d.length;0===d[--r];)d.pop();if(ub&&(e.e>yb||e.e<-yb))throw Error(mb+Sb(e));return e}function Rb(e,t){var n,r,i,o,a,s,l,c,u,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ub?Wb(t,m):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),a=c-r){for((u=a<0)?(n=l,a=-a,s=d.length):(n=d,r=c,s=l.length),a>(i=Math.max(Math.ceil(m/7),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((u=(i=l.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&0===l[--o];)l[o]=vb-1;--l[o],l[i]+=vb}l[i]-=d[i]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,ub?Wb(t,m):t):new h(0)}function Ab(e,t,n){var r,i=Sb(e),o=Nb(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Eb(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Eb(-i-1)+o,n&&(r=n-a)>0&&(o+=Eb(r))):i>=a?(o+=Eb(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Eb(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Eb(r))),e.s<0?"-"+o:o}function Ob(e,t){if(e.length>t)return e.length=t,!0}function Tb(e){if(!e||"object"!=typeof e)throw Error(db+"Object expected");var t,n,r,i=["precision",1,cb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(pb(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(hb+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(hb+n+": "+r);this[n]=new this(r)}return this}var Vb=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(hb+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):Pb(t,e.toString())}if("string"!=typeof e)throw Error(hb+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!gb.test(e))throw Error(hb+e);Pb(t,e)}if(o.prototype=xb,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=Tb,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});lb=new Vb(1);const Fb=Vb;function Ib(e){return function(e){if(Array.isArray(e))return Lb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bb=function(e){return e},Hb={},_b=function(e){return e===Hb},Gb=function(e){return function t(){return 0===arguments.length||1===arguments.length&&_b(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},zb=function e(t,n){return 1===t?n:Gb(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(e){return e!==Hb}).length;return a>=t?n.apply(void 0,i):e(t-a,Gb(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map(function(e){return _b(e)?t.shift():e});return n.apply(void 0,Ib(o).concat(t))}))})},$b=function(e){return zb(e.length,e)},Ub=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Kb=$b(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),qb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Xb=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every(function(e,n){return e===t[n]})?n:(t=i,n=e.apply(void 0,i))}};const Yb={rangeStep:function(e,t,n){for(var r=new Fb(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new Fb(e).abs().log(10).toNumber())+1},interpolateNumber:$b(function(e,t,n){var r=+e;return r+n*(+t-r)}),uninterpolateNumber:$b(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),uninterpolateTruncation:$b(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))})};function Zb(e){return function(e){if(Array.isArray(e))return ey(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Qb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Qb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qb(e,t){if(e){if("string"==typeof e)return ey(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ey(e,t):void 0}}function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ty(e){var t=Jb(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function ny(e,t,n){if(e.lte(0))return new Fb(0);var r=Yb.getDigitCount(e.toNumber()),i=new Fb(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new Fb(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new Fb(Math.ceil(s))}function ry(e,t,n){var r=1,i=new Fb(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Fb(10).pow(Yb.getDigitCount(e)-1),i=new Fb(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Fb(Math.floor(e)))}else 0===e?i=new Fb(Math.floor((t-1)/2)):n||(i=new Fb(Math.floor(e)));var a=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Bb;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce(function(e,t){return t(e)},i.apply(void 0,arguments))}}(Kb(function(e){return i.add(new Fb(e-a).mul(r)).toNumber()}),Ub);return s(0,t)}function iy(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Fb(0),tickMin:new Fb(0),tickMax:new Fb(0)};var o,a=ny(new Fb(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new Fb(0):(o=new Fb(e).add(t).div(2)).sub(new Fb(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new Fb(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?iy(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new Fb(s).mul(a)),tickMax:o.add(new Fb(l).mul(a))})}var oy=Xb(function(e){var t=Jb(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=Jb(ty([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(Zb(Ub(0,i-1).map(function(){return 1/0}))):[].concat(Zb(Ub(0,i-1).map(function(){return-1/0})),[c]);return n>r?qb(u):u}if(l===c)return ry(l,i,o);var d=iy(l,c,a,o),h=d.step,m=d.tickMin,p=d.tickMax,f=Yb.rangeStep(m,p.add(new Fb(.1).mul(h)),h);return n>r?qb(f):f}),ay=Xb(function(e,t){var n=Jb(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Jb(ty([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=ny(new Fb(l).sub(s).div(c-1),o,0),d=[].concat(Zb(Yb.rangeStep(new Fb(s),new Fb(l).sub(new Fb(.99).mul(u)),u)),[l]);return r>i?qb(d):d}),sy="Invariant failed";function ly(e,t){var n="function"==typeof t?t():t,r=n?"".concat(sy,": ").concat(n):sy;throw new Error(r)}var cy=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function uy(e){return(uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dy.apply(this,arguments)}function hy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return my(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return my(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function my(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function py(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fy(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wy(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gy(e,t,n){return t=by(t),function(e,t){if(t&&("object"===uy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vy()?Reflect.construct(t,n||[],by(e).constructor):t.apply(e,n))}function vy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(vy=function(){return!!e})()}function by(e){return(by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yy(e,t){return(yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xy(e,t,n){return(t=wy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wy(e){var t=function(e,t){if("object"!=uy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=uy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==uy(t)?t:t+""}var Cy=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gy(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yy(e,t)}(e,u.Component),fy(e,[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,a=e.dataPointFormatter,s=e.xAxis,l=e.yAxis,c=py(e,cy),d=ci(c,!1);"x"===this.props.direction&&"number"!==s.type&&ly(0,'ErrorBar requires Axis type property to be "number".');var h=o.map(function(e){var o=a(e,i),c=o.x,h=o.y,m=o.value,p=o.errorVal;if(!p)return null;var f,g,v=[];if(Array.isArray(p)){var b=hy(p,2);f=b[0],g=b[1]}else f=g=p;if("vertical"===n){var y=s.scale,x=h+t,w=x+r,C=x-r,N=y(m-f),M=y(m+g);v.push({x1:M,y1:w,x2:M,y2:C}),v.push({x1:N,y1:x,x2:M,y2:x}),v.push({x1:N,y1:w,x2:N,y2:C})}else if("horizontal"===n){var D=l.scale,S=c+t,j=S-r,E=S+r,k=D(m-f),P=D(m+g);v.push({x1:j,y1:P,x2:E,y2:P}),v.push({x1:S,y1:k,x2:S,y2:P}),v.push({x1:j,y1:k,x2:E,y2:k})}return u.createElement(xi,dy({className:"recharts-errorBar",key:"bar-".concat(v.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),v.map(function(e){return u.createElement("line",dy({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return u.createElement(xi,{className:"recharts-errorBars"},h)}}])}();function Ny(e){return(Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function My(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?My(Object(n),!0).forEach(function(t){Sy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ny(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Ny(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ny(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}xy(Cy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),xy(Cy,"displayName","ErrorBar");var jy=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=ai(t,mu);if(!o)return null;var a,s=mu.defaultProps,l=void 0!==s?Dy(Dy({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map(function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?Dy(Dy({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:Vy(t),value:o||i,payload:r}}),Dy(Dy(Dy({},l),mu.getWithHeight(o,r)),{},{payload:a,item:o})};function Ey(e){return(Ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ky(e){return function(e){if(Array.isArray(e))return Py(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Py(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Py(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Py(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ry(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wy(Object(n),!0).forEach(function(t){Ay(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ay(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ey(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Ey(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ey(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oy(e,t,n){return vr(e)||vr(t)?n:Or(t)?gr(e,t,n):Mt(t)?t(e):n}function Ty(e,t,n,r){var i=ob(e,function(e){return Oy(e,t)});if("number"===n){var o=i.filter(function(e){return Ar(e)||parseFloat(e)});return o.length?[Jv(o),Kv(o)]:[1/0,-1/0]}return(r?i.filter(function(e){return!vr(e)}):i).map(function(e){return Or(e)||e instanceof Date?e:""})}var Vy=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Ry(Ry({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},Fy=function(e,t,n,r,i){var o=oi(t.props.children,Cy).filter(function(e){return function(e,t,n){return!!vr(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)});if(o&&o.length){var a=o.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=Oy(t,n);if(vr(r))return e;var i=Array.isArray(r)?[Jv(r),Kv(r)]:[r,r],o=a.reduce(function(e,n){var r=Oy(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]},[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]},[1/0,-1/0])}return null},Iy=function(e,t,n,r,i){var o=t.map(function(t){var o=t.props.dataKey;return"number"===n&&o&&Fy(e,t,o,r)||Ty(e,o,n,i)});if("number"===n)return o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var a={};return o.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e},[])},Ly=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},By=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var i,o,a=e.map(function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate});return i||a.push(t),o||a.push(n),a},Hy=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null==a?void 0:a.length)>=2?2*Wr(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!Pr(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}})},_y=new WeakMap,Gy=function(e,t){if("function"!=typeof t)return e;_y.has(e)||_y.set(e,new WeakMap);var n=_y.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},zy=function(e,t,n){var r=e.scale,i=e.type,o=e.layout,a=e.axisType;if("auto"===r)return"radial"===o&&"radiusAxis"===a?{scale:Wm(),realScaleType:"band"}:"radial"===o&&"angleAxis"===a?{scale:ef(),realScaleType:"linear"}:"category"===i&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:Am(),realScaleType:"point"}:"category"===i?{scale:Wm(),realScaleType:"band"}:{scale:ef(),realScaleType:"linear"};if(wr(r)){var s="scale".concat(Ui(r));return{scale:(Bv[s]||Am)(),realScaleType:Bv[s]?s:"point"}}return Mt(r)?{scale:r}:{scale:Am(),realScaleType:"point"}},$y=1e-4,Uy=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-$y,o=Math.max(r[0],r[1])+$y,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}},Ky={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=Pr(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}qo(e,t)}},none:qo,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}qo(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,m=0;m<s;++m){var p=e[t[m]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,qo(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=Pr(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},qy=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),i=Ky[n],o=function(){var e=Ki([]),t=Xo,n=qo,r=Yo;function i(i){var o,a,s=Array.from(e.apply(this,arguments),Zo),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=ao(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:Ki(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:Ki(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Xo:"function"==typeof e?e:Ki(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?qo:e,i):n},i}().keys(r).value(function(e,t){return+Oy(e,t,0)}).order(Xo).offset(i);return o(e)},Xy=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=oy(l,i,a);return e.domain([Jv(c),Kv(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:ay(u,i,a)}}return null};function Yy(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!vr(i[t.dataKey])){var s=Br(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Oy(i,vr(a)?t.dataKey:a);return vr(l)?null:t.scale(l)}var Zy=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=Oy(o,t.dataKey,t.domain[a]);return vr(s)?null:t.scale(s)-i/2+r},Jy=function(e,t,n){return Object.keys(e).reduce(function(r,i){var o=e[i].stackedData.reduce(function(e,r){var i=r.slice(t,n+1).reduce(function(e,t){return[Jv(t.concat([e[0]]).filter(Ar)),Kv(t.concat([e[1]]).filter(Ar))]},[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},Qy=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ex=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tx=function(e,t,n){if(Mt(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Ar(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Qy.test(e[0])){var i=+Qy.exec(e[0])[1];r[0]=t[0]-i}else Mt(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Ar(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(ex.test(e[1])){var o=+ex.exec(e[1])[1];r[1]=t[1]+o}else Mt(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},nx=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ld(t,function(e){return e.coordinate}),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},rx=function(e,t,n){return e&&e.length?sb(e,gr(n,"type.defaultProps.domain"))?t:e:t},ix=function(e,t){var n=e.type.defaultProps?Ry(Ry({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return Ry(Ry({},ci(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:Vy(e),value:Oy(t,r),type:s,payload:t,chartType:l,hide:c})};function ox(e){return(ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ax(Object(n),!0).forEach(function(t){lx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lx(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ox(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=ox(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ox(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ux(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ux(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ux(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dx=Math.PI/180,hx=function(e){return 180*e/Math.PI},mx=function(e,t,n,r){return{x:e+Math.cos(-dx*r)*n,y:t+Math.sin(-dx*r)*n}},px=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},fx=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:hx(l),angleInRadian:l}},gx=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},vx=function(e,t){var n=e.x,r=e.y,i=fx({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,h=u.endAngle,m=a;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;c=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;c=m>=h&&m<=d}return c?sx(sx({},t),{},{radius:o,angle:gx(m,t)}):null},bx=function(e){return r.isValidElement(e)||Mt(e)||"boolean"==typeof e?"":e.className};function yx(e){return(yx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var xx=["offset"];function wx(e){return function(e){if(Array.isArray(e))return Cx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Cx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nx(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mx(Object(n),!0).forEach(function(t){Sx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sx(e,t,n){return t=function(e){var t=function(e,t){if("object"!=yx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=yx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(this,arguments)}var Ex=function(e,t,n){var r,i,o=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,d=c.cx,h=c.cy,m=c.innerRadius,p=c.outerRadius,f=c.startAngle,g=c.endAngle,v=c.clockWise,b=(m+p)/2,y=function(e,t){return Wr(t-e)*Math.min(Math.abs(t-e),360)}(f,g),x=y>=0?1:-1;"insideStart"===o?(r=f+x*s,i=v):"insideEnd"===o?(r=g-x*s,i=!v):"end"===o&&(r=g+x*s,i=v),i=y<=0?i:!i;var w=mx(d,h,b,r),C=mx(d,h,b,r+359*(i?1:-1)),N="M".concat(w.x,",").concat(w.y,"\n    A").concat(b,",").concat(b,",0,1,").concat(i?0:1,",\n    ").concat(C.x,",").concat(C.y),M=vr(e.id)?Vr("recharts-radial-line-"):e.id;return u.createElement("text",jx({},n,{dominantBaseline:"central",className:Ue("recharts-radial-bar-label",l)}),u.createElement("defs",null,u.createElement("path",{id:M,d:N})),u.createElement("textPath",{xlinkHref:"#".concat(M)},t))};function kx(e){var t,n=e.offset,i=Dx({offset:void 0===n?5:n},Nx(e,xx)),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,d=i.className,h=void 0===d?"":d,m=i.textBreakAll;if(!o||vr(s)&&vr(l)&&!r.isValidElement(c)&&!Mt(c))return null;if(r.isValidElement(c))return r.cloneElement(c,i);if(Mt(c)){if(t=r.createElement(c,i),r.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=vr(e.children)?t:e.children;return Mt(n)?n(r):r}(i);var p=function(e){return"cx"in e&&Ar(e.cx)}(o),f=ci(i,!0);if(p&&("insideStart"===a||"insideEnd"===a||"end"===a))return Ex(i,t,f);var g=p?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=mx(o,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=mx(o,a,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",m=u>0?"start":"end",p=l>=0?1:-1,f=p*r,g=p>0?"end":"start",v=p>0?"start":"end";if("top"===i)return Dx(Dx({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return Dx(Dx({},{x:a+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:m}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var b={x:a-f,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return Dx(Dx({},b),n?{width:Math.max(b.x-n.x,0),height:c}:{})}if("right"===i){var y={x:a+l+f,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return Dx(Dx({},y),n?{width:Math.max(n.x+n.width-y.x,0),height:c}:{})}var x=n?{width:l,height:c}:{};return"insideLeft"===i?Dx({x:a+f,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},x):"insideRight"===i?Dx({x:a+l-f,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===i?Dx({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:m},x):"insideBottom"===i?Dx({x:a+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},x):"insideTopLeft"===i?Dx({x:a+f,y:s+d,textAnchor:v,verticalAnchor:m},x):"insideTopRight"===i?Dx({x:a+l-f,y:s+d,textAnchor:g,verticalAnchor:m},x):"insideBottomLeft"===i?Dx({x:a+f,y:s+c-d,textAnchor:v,verticalAnchor:h},x):"insideBottomRight"===i?Dx({x:a+l-f,y:s+c-d,textAnchor:g,verticalAnchor:h},x):xt(i)&&(Ar(i.x)||Rr(i.x))&&(Ar(i.y)||Rr(i.y))?Dx({x:a+Fr(i.x,l),y:s+Fr(i.y,c),textAnchor:"end",verticalAnchor:"end"},x):Dx({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(i);return u.createElement(im,jx({className:Ue("recharts-label",h)},f,g,{breakAll:m}),t)}kx.displayName="Label";var Px=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,m=e.left,p=e.width,f=e.height,g=e.clockWise,v=e.labelViewBox;if(v)return v;if(Ar(p)&&Ar(f)){if(Ar(u)&&Ar(d))return{x:u,y:d,width:p,height:f};if(Ar(h)&&Ar(m))return{x:h,y:m,width:p,height:f}}return Ar(u)&&Ar(d)?{x:u,y:d,width:0,height:0}:Ar(t)&&Ar(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};kx.parseViewBox=Px,kx.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=Px(e),a=oi(i,kx).map(function(e,n){return r.cloneElement(e,{viewBox:t||o,key:"label-".concat(n)})});if(!n)return a;var s=function(e,t){return e?!0===e?u.createElement(kx,{key:"label-implicit",viewBox:t}):Or(e)?u.createElement(kx,{key:"label-implicit",viewBox:t,value:e}):r.isValidElement(e)?e.type===kx?r.cloneElement(e,{key:"label-implicit",viewBox:t}):u.createElement(kx,{key:"label-implicit",content:e,viewBox:t}):Mt(e)?u.createElement(kx,{key:"label-implicit",content:e,viewBox:t}):xt(e)?u.createElement(kx,jx({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[s].concat(wx(a))};const Wx=c(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0});function Rx(e){return(Rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ax=["valueAccessor"],Ox=["data","dataKey","clockWise","id","textBreakAll"];function Tx(e){return function(e){if(Array.isArray(e))return Vx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fx.apply(this,arguments)}function Ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ix(Object(n),!0).forEach(function(t){Bx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bx(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Rx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Rx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hx(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _x=function(e){return Array.isArray(e.value)?Wx(e.value):e.value};function Gx(e){var t=e.valueAccessor,n=void 0===t?_x:t,r=Hx(e,Ax),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=Hx(r,Ox);return i&&i.length?u.createElement(xi,{className:"recharts-label-list"},i.map(function(e,t){var r=vr(o)?n(e,t):Oy(e&&e.payload,o),i=vr(s)?{}:{id:"".concat(s,"-").concat(t)};return u.createElement(kx,Fx({},ci(e,!0),c,i,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:kx.parseViewBox(vr(a)?e:Lx(Lx({},e),{},{clockWise:a})),key:"label-".concat(t),index:t}))})):null}function zx(e){return(zx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$x.apply(this,arguments)}function Ux(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ux(Object(n),!0).forEach(function(t){qx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ux(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qx(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=zx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Gx.displayName="LabelList",Gx.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=oi(e.children,Gx).map(function(e,n){return r.cloneElement(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?u.createElement(Gx,{key:"labelList-implicit",data:t}):u.isValidElement(e)||Mt(e)?u.createElement(Gx,{key:"labelList-implicit",data:t,content:e}):xt(e)?u.createElement(Gx,Fx({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(Tx(i)):i};var Xx=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/dx,d=l?i:i+o*u,h=l?i-o*u:i;return{center:mx(t,n,c,d),circleTangency:mx(t,n,r,d),lineTangency:mx(t,n,c*Math.cos(u*dx),h),theta:u}},Yx=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return Wr(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=mx(t,n,i,o),c=mx(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=mx(t,n,r,o),h=mx(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},Zx={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Jx=function(e){var t=Kx(Kx({},Zx),e),n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,h=t.className;if(o<i||c===d)return null;var m,p=Ue("recharts-sector",h),f=o-i,g=Fr(a,f,0,!0);return m=g>0&&Math.abs(c-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Wr(c-l),d=Xx({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,m=d.lineTangency,p=d.theta,f=Xx({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=f.circleTangency,v=f.lineTangency,b=f.theta,y=s?Math.abs(l-c):Math.abs(l-c)-p-b;if(y<0)return a?"M ".concat(m.x,",").concat(m.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):Yx({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(m.x,",").concat(m.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,"\n  ");if(r>0){var w=Xx({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),C=w.circleTangency,N=w.lineTangency,M=w.theta,D=Xx({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=D.circleTangency,j=D.lineTangency,E=D.theta,k=s?Math.abs(l-c):Math.abs(l-c)-M-E;if(k<0&&0===o)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(j.x,",").concat(j.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(C.x,",").concat(C.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,f/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}):Yx({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d}),u.createElement("path",$x({},ci(t,!0),{className:p,d:m,role:"img"}))};function Qx(e){return(Qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ew.apply(this,arguments)}function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tw(Object(n),!0).forEach(function(t){rw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Qx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Qx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iw={curveBasisClosed:function(e){return new To(e)},curveBasisOpen:function(e){return new Vo(e)},curveBasis:function(e){return new Oo(e)},curveBumpX:function(e){return new po(e,!0)},curveBumpY:function(e){return new po(e,!1)},curveLinearClosed:function(e){return new Fo(e)},curveLinear:lo,curveMonotoneX:function(e){return new _o(e)},curveMonotoneY:function(e){return new Go(e)},curveNatural:function(e){return new $o(e)},curveStep:function(e){return new Ko(e,.5)},curveStepAfter:function(e){return new Ko(e,1)},curveStepBefore:function(e){return new Ko(e,0)}},ow=function(e){return e.x===+e.x&&e.y===+e.y},aw=function(e){return e.x},sw=function(e){return e.y},lw=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(Mt(e))return e;var n="curve".concat(Ui(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?iw[n]||lo:iw["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?o.filter(function(e){return ow(e)}):o;if(Array.isArray(a)){var h=c?a.filter(function(e){return ow(e)}):a,m=d.map(function(e,t){return nw(nw({},e),{},{base:h[t]})});return(t="vertical"===s?mo().y(sw).x1(aw).x0(function(e){return e.base.x}):mo().x(aw).y1(sw).y0(function(e){return e.base.y})).defined(ow).curve(u),t(m)}return(t="vertical"===s&&Ar(a)?mo().y(sw).x1(aw).x0(a):Ar(a)?mo().x(aw).y1(sw).y0(a):ho().x(aw).y(sw)).defined(ow).curve(u),t(d)},cw=function(e){var t=e.className,n=e.points,i=e.path,o=e.pathRef;if(!(n&&n.length||i))return null;var a=n&&n.length?lw(e):i;return r.createElement("path",ew({},ci(e,!1),qr(e),{className:Ue("recharts-curve",t),d:a,ref:o}))},uw={exports:{}},dw={exports:{}},hw={};!function(){var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,p=e?Symbol.for("react.lazy"):60116,f=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var h=e.$$typeof;switch(h){case t:var f=e.type;switch(f){case l:case c:case r:case o:case i:case d:return f;default:var g=f&&f.$$typeof;switch(g){case s:case u:case p:case m:case a:return g;default:return h}}case n:return h}}}var x=l,w=c,C=s,N=a,M=t,D=u,S=r,j=p,E=m,k=n,P=o,W=i,R=d,A=!1;function O(e){return y(e)===c}hw.AsyncMode=x,hw.ConcurrentMode=w,hw.ContextConsumer=C,hw.ContextProvider=N,hw.Element=M,hw.ForwardRef=D,hw.Fragment=S,hw.Lazy=j,hw.Memo=E,hw.Portal=k,hw.Profiler=P,hw.StrictMode=W,hw.Suspense=R,hw.isAsyncMode=function(e){return A||(A=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),O(e)||y(e)===l},hw.isConcurrentMode=O,hw.isContextConsumer=function(e){return y(e)===s},hw.isContextProvider=function(e){return y(e)===a},hw.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},hw.isForwardRef=function(e){return y(e)===u},hw.isFragment=function(e){return y(e)===r},hw.isLazy=function(e){return y(e)===p},hw.isMemo=function(e){return y(e)===m},hw.isPortal=function(e){return y(e)===n},hw.isProfiler=function(e){return y(e)===o},hw.isStrictMode=function(e){return y(e)===i},hw.isSuspense=function(e){return y(e)===d},hw.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===o||e===i||e===d||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===m||e.$$typeof===a||e.$$typeof===s||e.$$typeof===u||e.$$typeof===g||e.$$typeof===v||e.$$typeof===b||e.$$typeof===f)},hw.typeOf=y}(),dw.exports=hw;var mw=dw.exports,pw=Object.getOwnPropertySymbols,fw=Object.prototype.hasOwnProperty,gw=Object.prototype.propertyIsEnumerable;
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var vw,bw=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,r,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))fw.call(n,a)&&(i[a]=n[a]);if(pw){r=pw(n);for(var s=0;s<r.length;s++)gw.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},yw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xw=Function.call.bind(Object.prototype.hasOwnProperty),ww=yw,Cw={},Nw=xw;function Mw(e,t,n,r,i){for(var o in e)if(Nw(e,o)){var a;try{if("function"!=typeof e[o]){var s=Error((r||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw s.name="Invariant Violation",s}a=e[o](t,o,r,n,null,ww)}catch(c){a=c}if(!a||a instanceof Error||vw((r||"React class")+": type specification of "+n+" `"+o+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in Cw)){Cw[a.message]=!0;var l=i?i():"";vw("Failed "+n+" type: "+a.message+(null!=l?l:""))}}}vw=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(n){}},Mw.resetWarningCache=function(){Cw={}};var Dw,Sw=mw,jw=bw,Ew=yw,kw=xw,Pw=Mw;function Ww(){return null}Dw=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(n){}};var Rw=mw;uw.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,r="<<anonymous>>",i={array:l("array"),bigint:l("bigint"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),symbol:l("symbol"),any:s(Ww),arrayOf:function(e){return s(function(t,n,r,i,o){if("function"!=typeof e)return new a("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new a("Invalid "+i+" `"+o+"` of type `"+d(s)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<s.length;l++){var c=e(s,l,r,i,o+"["+l+"]",Ew);if(c instanceof Error)return c}return null})},element:s(function(t,n,r,i,o){var s=t[n];return e(s)?null:new a("Invalid "+i+" `"+o+"` of type `"+d(s)+"` supplied to `"+r+"`, expected a single ReactElement.")}),elementType:s(function(e,t,n,r,i){var o=e[t];return Sw.isValidElementType(o)?null:new a("Invalid "+r+" `"+i+"` of type `"+d(o)+"` supplied to `"+n+"`, expected a single ReactElement type.")}),instanceOf:function(e){return s(function(t,n,i,o,s){if(!(t[n]instanceof e)){var l=e.name||r;return new a("Invalid "+o+" `"+s+"` of type `"+((c=t[n]).constructor&&c.constructor.name?c.constructor.name:r)+"` supplied to `"+i+"`, expected instance of `"+l+"`.")}var c;return null})},node:s(function(e,t,n,r,i){return u(e[t])?null:new a("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(e){return s(function(t,n,r,i,o){if("function"!=typeof e)return new a("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=d(s);if("object"!==l)return new a("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(kw(s,c)){var u=e(s,c,r,i,o+"."+c,Ew);if(u instanceof Error)return u}return null})},oneOf:function(e){return Array.isArray(e)?s(function(t,n,r,i,s){for(var l=t[n],c=0;c<e.length;c++)if(o(l,e[c]))return null;var u=JSON.stringify(e,function(e,t){return"symbol"===h(t)?String(t):t});return new a("Invalid "+i+" `"+s+"` of value `"+String(l)+"` supplied to `"+r+"`, expected one of "+u+".")}):(Dw(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),Ww)},oneOfType:function(e){if(!Array.isArray(e))return Dw("Invalid argument supplied to oneOfType, expected an instance of array."),Ww;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return Dw("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+m(n)+" at index "+t+"."),Ww}return s(function(t,n,r,i,o){for(var s=[],l=0;l<e.length;l++){var c=(0,e[l])(t,n,r,i,o,Ew);if(null==c)return null;c.data&&kw(c.data,"expectedType")&&s.push(c.data.expectedType)}return new a("Invalid "+i+" `"+o+"` supplied to `"+r+"`"+(s.length>0?", expected one of type ["+s.join(", ")+"]":"")+".")})},shape:function(e){return s(function(t,n,r,i,o){var s=t[n],l=d(s);if("object"!==l)return new a("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var m=e[u];if("function"!=typeof m)return c(r,i,o,u,h(m));var p=m(s,u,r,i,o+"."+u,Ew);if(p)return p}return null})},exact:function(e){return s(function(t,n,r,i,o){var s=t[n],l=d(s);if("object"!==l)return new a("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var u=jw({},t[n],e);for(var m in u){var p=e[m];if(kw(e,m)&&"function"!=typeof p)return c(r,i,o,m,h(p));if(!p)return new a("Invalid "+i+" `"+o+"` key `"+m+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=p(s,m,r,i,o+"."+m,Ew);if(f)return f}return null})}};function o(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function a(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function s(e){var n={},i=0;function o(o,s,l,c,u,d,h){if(c=c||r,d=d||l,h!==Ew){if(t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}if("undefined"!=typeof console){var p=c+":"+l;!n[p]&&i<3&&(Dw("You are manually calling a React.PropTypes validation function for the `"+d+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[p]=!0,i++)}}return null==s[l]?o?null===s[l]?new a("The "+u+" `"+d+"` is marked as required in `"+c+"`, but its value is `null`."):new a("The "+u+" `"+d+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(s,l,c,u,d)}var s=o.bind(null,!1);return s.isRequired=o.bind(null,!0),s}function l(e){return s(function(t,n,r,i,o,s){var l=t[n];return d(l)!==e?new a("Invalid "+i+" `"+o+"` of type `"+h(l)+"` supplied to `"+r+"`, expected `"+e+"`.",{expectedType:e}):null})}function c(e,t,n,r,i){return new a((e||"React class")+": "+t+" type `"+n+"."+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+i+"`.")}function u(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(u);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!u(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!u(a[1]))return!1}return!0;default:return!1}}function d(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function h(e){if(null==e)return""+e;var t=d(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function m(e){var t=h(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return a.prototype=Error.prototype,i.checkPropTypes=Pw,i.resetWarningCache=Pw.resetWarningCache,i.PropTypes=i,i}(Rw.isElement,!0);const Aw=c(uw.exports),{getOwnPropertyNames:Ow,getOwnPropertySymbols:Tw}=Object,{hasOwnProperty:Vw}=Object.prototype;function Fw(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function Iw(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);const{cache:i}=r,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);const s=e(t,n,r);return i.delete(t),i.delete(n),s}}function Lw(e){return Ow(e).concat(Tw(e))}const Bw=Object.hasOwn||((e,t)=>Vw.call(e,t));function Hw(e,t){return e===t||!e&&!t&&e!=e&&t!=t}const{getOwnPropertyDescriptor:_w,keys:Gw}=Object;function zw(e,t){return e.byteLength===t.byteLength&&rC(new Uint8Array(e),new Uint8Array(t))}function $w(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Uw(e,t){return e.byteLength===t.byteLength&&rC(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Kw(e,t){return Hw(e.getTime(),t.getTime())}function qw(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Xw(e,t){return e===t}function Yw(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const r=t.entries();let o=!1,c=0;for(;(s=r.next())&&!s.done;){if(i[c]){c++;continue}const r=a.value,u=s.value;if(n.equals(r[0],u[0],l,c,e,t,n)&&n.equals(r[1],u[1],r[0],u[0],e,t,n)){o=i[c]=!0;break}c++}if(!o)return!1;l++}return!0}const Zw=Hw;function Jw(e,t,n){const r=Gw(e);let i=r.length;if(Gw(t).length!==i)return!1;for(;i-- >0;)if(!oC(e,t,n,r[i]))return!1;return!0}function Qw(e,t,n){const r=Lw(e);let i,o,a,s=r.length;if(Lw(t).length!==s)return!1;for(;s-- >0;){if(i=r[s],!oC(e,t,n,i))return!1;if(o=_w(e,i),a=_w(t,i),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable))return!1}return!0}function eC(e,t){return Hw(e.valueOf(),t.valueOf())}function tC(e,t){return e.source===t.source&&e.flags===t.flags}function nC(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.values();let a,s;for(;(a=o.next())&&!a.done;){const r=t.values();let o=!1,l=0;for(;(s=r.next())&&!s.done;){if(!i[l]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){o=i[l]=!0;break}l++}if(!o)return!1}return!0}function rC(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function iC(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function oC(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||Bw(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const aC={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},sC=Object.prototype.toString;function lC({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:p}){return function(f,g,v){if(f===g)return!0;if(null==f||null==g)return!1;const b=typeof f;if(b!==typeof g)return!1;if("object"!==b)return"number"===b?s(f,g,v):"function"===b&&o(f,g,v);const y=f.constructor;if(y!==g.constructor)return!1;if(y===Object)return l(f,g,v);if(Array.isArray(f))return t(f,g,v);if(y===Date)return r(f,g,v);if(y===RegExp)return u(f,g,v);if(y===Map)return a(f,g,v);if(y===Set)return d(f,g,v);const x=sC.call(f);if("[object Date]"===x)return r(f,g,v);if("[object RegExp]"===x)return u(f,g,v);if("[object Map]"===x)return a(f,g,v);if("[object Set]"===x)return d(f,g,v);if("[object Object]"===x)return"function"!=typeof f.then&&"function"!=typeof g.then&&l(f,g,v);if("[object URL]"===x)return m(f,g,v);if("[object Error]"===x)return i(f,g,v);if("[object Arguments]"===x)return l(f,g,v);if(aC[x])return h(f,g,v);if("[object ArrayBuffer]"===x)return e(f,g,v);if("[object DataView]"===x)return n(f,g,v);if("[object Boolean]"===x||"[object Number]"===x||"[object String]"===x)return c(f,g,v);if(p){let e=p[x];if(!e){const t=null!=(w=f)?w[Symbol.toStringTag]:void 0;t&&(e=p[t])}if(e)return e(f,g,v)}var w;return!1}}const cC=uC();function uC(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,o=function({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:zw,areArraysEqual:n?Qw:$w,areDataViewsEqual:Uw,areDatesEqual:Kw,areErrorsEqual:qw,areFunctionsEqual:Xw,areMapsEqual:n?Fw(Yw,Qw):Yw,areNumbersEqual:Zw,areObjectsEqual:n?Qw:Jw,arePrimitiveWrappersEqual:eC,areRegExpsEqual:tC,areSetsEqual:n?Fw(nC,Qw):nC,areTypedArraysEqual:n?Fw(rC,Qw):rC,areUrlsEqual:iC,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const e=Iw(r.areArraysEqual),t=Iw(r.areMapsEqual),n=Iw(r.areObjectsEqual),i=Iw(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:e,areMapsEqual:t,areObjectsEqual:n,areSetsEqual:i})}return r}(e),a=lC(o);var s;return function({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(o,a){const{cache:s=(e?new WeakMap:void 0),meta:l}=n();return t(o,a,{cache:s,equals:r,meta:l,strict:i})};if(e)return function(e,n){return t(e,n,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(e,n){return t(e,n,o)}}({circular:t,comparator:a,createState:r,equals:n?n(a):(s=a,function(e,t,n,r,i,o,a){return s(e,t,a)}),strict:i})}function dC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function hC(e){return(hC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mC(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pC(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fC(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=mC(r),o=i[0],a=i.slice(1);return"number"==typeof o?void dC(n.bind(null,a),o):(n(o),void dC(n.bind(null,a)))}"object"===hC(r)&&e(r),"function"==typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function gC(e){return(gC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(t){yC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==gC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==gC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gC(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}uC({strict:!0}),uC({circular:!0}),uC({circular:!0,strict:!0}),uC({createInternalComparator:()=>Hw}),uC({strict:!0,createInternalComparator:()=>Hw}),uC({circular:!0,createInternalComparator:()=>Hw}),uC({circular:!0,createInternalComparator:()=>Hw,strict:!0});var xC=function(e){return e},wC=function(e,t){return Object.keys(t).reduce(function(n,r){return bC(bC({},n),{},yC({},r,e(r,t[r])))},{})},CC=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")},NC=function(e,t,n,r,i,o,a,s){if("undefined"!=typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;console.warn(t.replace(/%s/g,function(){return l[c++]}))}};function MC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||SC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DC(e){return function(e){if(Array.isArray(e))return jC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||SC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SC(e,t){if(e){if("string"==typeof e)return jC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jC(e,t):void 0}}function jC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var EC=1e-4,kC=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},PC=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},WC=function(e,t){return function(n){var r=kC(e,t);return PC(r,n)}},RC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=MC(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);r=l[0],i=l[1],o=l[2],a=l[3]}else NC(!1,"[configBezier]: arguments should be one of oneOf 'linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out','cubic-bezier(x1,y1,x2,y2)', instead received %s",t)}NC([r,o,i,a].every(function(e){return"number"==typeof e&&e>=0&&e<=1}),"[configBezier]: arguments should be x1, y1, x2, y2 of [0, 1] instead received %s",t);var c,u,d=WC(r,o),h=WC(i,a),m=(c=r,u=o,function(e){var t=kC(c,u),n=[].concat(DC(t.map(function(e,t){return e*t}).slice(1)),[0]);return PC(n,e)}),p=function(e){return e>1?1:e<0?0:e},f=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=d(n)-t,o=m(n);if(Math.abs(i-t)<EC||o<EC)return h(n);n=p(n-i/o)}return h(n)};return f.isStepper=!1,f},AC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RC(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<EC&&Math.abs(o)<EC?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return RC(r);NC(!1,"[configEasing]: first argument should be one of 'ease', 'ease-in', 'ease-out', 'ease-in-out','cubic-bezier(x1,y1,x2,y2)', 'linear' and 'spring', instead  received %s",t)}return"function"==typeof r?r:(NC(!1,"[configEasing]: first argument type should be function or string, instead received %s",t),null)};function OC(e){return(OC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TC(e){return function(e){if(Array.isArray(e))return HC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||BC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VC(Object(n),!0).forEach(function(t){IC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==OC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==OC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===OC(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||BC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BC(e,t){if(e){if("string"==typeof e)return HC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HC(e,t):void 0}}function HC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _C=function(e,t,n){return e+(t-e)*n},GC=function(e){return e.from!==e.to},zC=function e(t,n,r){var i=wC(function(e,n){if(GC(n)){var r=LC(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return FC(FC({},n),{},{from:i,velocity:o})}return n},n);return r<1?wC(function(e,t){return GC(t)?FC(FC({},t),{},{velocity:_C(t.velocity,i[e].velocity,r),from:_C(t.from,i[e].from,r)}):t},n):e(t,i,r-1)};const $C=function(e,t,n,r,i){var o,a,s,l,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return FC(FC({},n),{},IC({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return FC(FC({},n),{},IC({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,m=function(){return null};return m=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=zC(n,d,o),i(FC(FC(FC({},e),t),wC(function(e,t){return t.from},d))),s=r,Object.values(d).filter(GC).length&&(h=requestAnimationFrame(m))}:function(o){l||(l=o);var a=(o-l)/r,s=wC(function(e,t){return _C.apply(void 0,TC(t).concat([n(a)]))},u);if(i(FC(FC(FC({},e),t),s)),a<1)h=requestAnimationFrame(m);else{var c=wC(function(e,t){return _C.apply(void 0,TC(t).concat([n(1)]))},u);i(FC(FC(FC({},e),t),c))}},function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(h)}}};function UC(e){return(UC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var KC=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XC(e){return function(e){if(Array.isArray(e))return YC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return YC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YC(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZC(Object(n),!0).forEach(function(t){QC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QC(e,t,n){return(t=tN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eN(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tN(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tN(e){var t=function(e,t){if("object"!==UC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==UC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===UC(t)?t:String(t)}function nN(e,t){return(nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=aN(e);if(t){var i=aN(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return iN(this,n)}}function iN(e,t){if(t&&("object"===UC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oN(e)}function oN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aN(e){return(aN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sN=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nN(e,t)}(t,r.PureComponent);var e=rN(t);function t(n,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,n,r)).props,a=o.isActive,s=o.attributeName,l=o.from,c=o.to,u=o.steps,d=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(oN(i)),i.changeStyle=i.changeStyle.bind(oN(i)),!a||h<=0)return i.state={style:{}},"function"==typeof d&&(i.state={style:c}),iN(i);if(u&&u.length)i.state={style:u[0].style};else if(l){if("function"==typeof d)return i.state={style:l},iN(i);i.state={style:s?QC({},s,l):l}}else i.state={style:{}};return i}return eN(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(cC(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var d={style:i?QC({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(JC(JC({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?QC({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=$C(n,r,AC(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(XC(n.reduce(function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"==typeof s||"spring"===s)return[].concat(XC(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var m=CC(h,o,s),p=JC(JC(JC({},d.style),l),{},{transition:m});return[].concat(XC(e),[p,o,u]).filter(xC)},[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=fC());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?QC({},r,i):i,h=CC(Object.keys(d),n,o);u.start([a,t,JC(JC({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var i=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var o=qC(e,KC),a=r.Children.count(t),s=this.state.style;if("function"==typeof t)return t(s);if(!i||0===a||n<=0)return t;var l=function(e){var t=e.props,n=t.style,i=void 0===n?{}:n,a=t.className;return r.cloneElement(e,JC(JC({},o),{},{style:JC(JC({},i),s),className:a}))};return 1===a?l(r.Children.only(t)):u.createElement("div",null,r.Children.map(t,function(e){return l(e)}))}}]),t}();function lN(e){return(lN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cN.apply(this,arguments)}function uN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(t){pN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pN(e,t,n){return t=function(e){var t=function(e,t){if("object"!=lN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=lN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}sN.displayName="Animate",sN.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},sN.propTypes={from:Aw.oneOfType([Aw.object,Aw.string]),to:Aw.oneOfType([Aw.object,Aw.string]),attributeName:Aw.string,duration:Aw.number,begin:Aw.number,easing:Aw.oneOfType([Aw.string,Aw.func]),steps:Aw.arrayOf(Aw.shape({duration:Aw.number.isRequired,style:Aw.object.isRequired,easing:Aw.oneOfType([Aw.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Aw.func]),properties:Aw.arrayOf("string"),onAnimationEnd:Aw.func})),children:Aw.oneOfType([Aw.node,Aw.func]),isActive:Aw.bool,canBegin:Aw.bool,onAnimationEnd:Aw.func,shouldReAnimate:Aw.bool,onAnimationStart:Aw.func,onAnimationReStart:Aw.func};var fN=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},gN=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},vN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bN=function(e){var t=mN(mN({},vN),e),n=r.useRef(),i=uN(r.useState(-1),2),o=i[0],a=i[1];r.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}},[]);var s=t.x,l=t.y,c=t.width,d=t.height,h=t.radius,m=t.className,p=t.animationEasing,f=t.animationDuration,g=t.animationBegin,v=t.isAnimationActive,b=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||d!==+d||0===c||0===d)return null;var y=Ue("recharts-rectangle",m);return b?u.createElement(sN,{canBegin:o>0,from:{width:c,height:d,x:s,y:l},to:{width:c,height:d,x:s,y:l},duration:f,animationEasing:p,isActive:b},function(e){var r=e.width,i=e.height,a=e.x,s=e.y;return u.createElement(sN,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,isActive:v,easing:p},u.createElement("path",cN({},ci(t,!0),{className:y,d:fN(a,s,r,i,h),ref:n})))}):u.createElement("path",cN({},ci(t,!0),{className:y,d:fN(s,l,c,d,h)}))},yN=["points","className","baseLinePoints","connectNulls"];function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xN.apply(this,arguments)}function wN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CN(e){return function(e){if(Array.isArray(e))return NN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return NN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var MN=function(e){return e&&e.x===+e.x&&e.y===+e.y},DN=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){MN(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),MN(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce(function(e,t){return[].concat(CN(e),CN(t))},[])]);var r=n.map(function(e){return e.reduce(function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===n.length?"".concat(r,"Z"):r},SN=function(e){var t=e.points,n=e.className,r=e.baseLinePoints,i=e.connectNulls,o=wN(e,yN);if(!t||!t.length)return null;var a=Ue("recharts-polygon",n);if(r&&r.length){var s=o.stroke&&"none"!==o.stroke,l=function(e,t,n){var r=DN(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(DN(t.reverse(),n).slice(1))}(t,r,i);return u.createElement("g",{className:a},u.createElement("path",xN({},ci(o,!0),{fill:"Z"===l.slice(-1)?o.fill:"none",stroke:"none",d:l})),s?u.createElement("path",xN({},ci(o,!0),{fill:"none",d:DN(t,i)})):null,s?u.createElement("path",xN({},ci(o,!0),{fill:"none",d:DN(r,i)})):null)}var c=DN(t,i);return u.createElement("path",xN({},ci(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",className:a,d:c}))};function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jN.apply(this,arguments)}var EN=function(e){var t=e.cx,n=e.cy,i=e.r,o=Ue("recharts-dot",e.className);return t===+t&&n===+n&&i===+i?r.createElement("circle",jN({},ci(e,!1),qr(e),{className:o,cx:t,cy:n,r:i})):null};function kN(e){return(kN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var PN=["x","y","top","left","width","height","className"];function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WN.apply(this,arguments)}function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AN(e,t,n){return t=function(e){var t=function(e,t){if("object"!=kN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=kN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ON(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var TN=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},VN=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.top,a=void 0===o?0:o,s=e.left,l=void 0===s?0:s,c=e.width,d=void 0===c?0:c,h=e.height,m=void 0===h?0:h,p=e.className,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RN(Object(n),!0).forEach(function(t){AN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:i,top:a,left:l,width:d,height:m},ON(e,PN));return Ar(n)&&Ar(i)&&Ar(d)&&Ar(m)&&Ar(a)&&Ar(l)?u.createElement("path",WN({},ci(f,!0),{className:Ue("recharts-cross",p),d:TN(n,i,d,m,a,l)})):null},FN=_v,IN=Gv,LN=Ac;const BN=c(function(e,t){return e&&e.length?FN(e,LN(t),IN):void 0});var HN=_v,_N=Ac,GN=qv;const zN=c(function(e,t){return e&&e.length?HN(e,_N(t),GN):void 0});var $N=["cx","cy","angle","ticks","axisLine"],UN=["ticks","tick","angle","tickFormatter","stroke"];function KN(e){return(KN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qN.apply(this,arguments)}function XN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XN(Object(n),!0).forEach(function(t){rM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iM(r.key),r)}}function QN(e,t,n){return t=tM(t),function(e,t){if(t&&("object"===KN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eM()?Reflect.construct(t,n||[],tM(e).constructor):t.apply(e,n))}function eM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(eM=function(){return!!e})()}function tM(e){return(tM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nM(e,t){return(nM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rM(e,t,n){return(t=iM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iM(e){var t=function(e,t){if("object"!=KN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=KN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==KN(t)?t:t+""}var oM=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),QN(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nM(e,t)}(e,r.PureComponent),t=e,n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,o=n.cy;return mx(i,o,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,o=BN(i,function(e){return e.coordinate||0});return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:zN(i,function(e){return e.coordinate||0}).coordinate||0,outerRadius:o.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,o=e.axisLine,a=ZN(e,$N),s=i.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=mx(t,n,s[0],r),c=mx(t,n,s[1],r),d=YN(YN(YN({},ci(a,!1)),{},{fill:"none"},ci(o,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return u.createElement("line",qN({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,i=n.tick,o=n.angle,a=n.tickFormatter,s=n.stroke,l=ZN(n,UN),c=this.getTickTextAnchor(),d=ci(l,!1),h=ci(i,!1),m=r.map(function(n,r){var l=t.getTickValueCoord(n),m=YN(YN(YN(YN({textAnchor:c,transform:"rotate(".concat(90-o,", ").concat(l.x,", ").concat(l.y,")")},d),{},{stroke:"none",fill:s},h),{},{index:r},l),{},{payload:n});return u.createElement(xi,qN({className:Ue("recharts-polar-radius-axis-tick",bx(i)),key:"tick-".concat(n.coordinate)},Xr(t.props,n,r)),e.renderTickItem(i,m,a?a(n.value,r):n.value))});return u.createElement(xi,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?u.createElement(xi,{className:Ue("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),r&&this.renderTicks(),kx.renderCallByParent(this.props,this.getViewBox())):null}}],i=[{key:"renderTickItem",value:function(e,t,n){return u.isValidElement(e)?u.cloneElement(e,t):Mt(e)?e(t):u.createElement(im,qN({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],n&&JN(t.prototype,n),i&&JN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();function aM(e){return(aM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sM(){return sM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sM.apply(this,arguments)}function lM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lM(Object(n),!0).forEach(function(t){fM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gM(r.key),r)}}function dM(e,t,n){return t=mM(t),function(e,t){if(t&&("object"===aM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hM()?Reflect.construct(t,n||[],mM(e).constructor):t.apply(e,n))}function hM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(hM=function(){return!!e})()}function mM(e){return(mM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pM(e,t){return(pM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fM(e,t,n){return(t=gM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gM(e){var t=function(e,t){if("object"!=aM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=aM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==aM(t)?t:t+""}rM(oM,"displayName","PolarRadiusAxis"),rM(oM,"axisType","radiusAxis"),rM(oM,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var vM=Math.PI/180,bM=1e-5,yM=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dM(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pM(e,t)}(e,r.PureComponent),t=e,n=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,o=t.orientation,a=t.tickSize||8,s=mx(n,r,i,e.coordinate),l=mx(n,r,i+("inner"===o?-1:1)*a,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*vM);return n>bM?"outer"===t?"start":"end":n<-bM?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,i=e.axisLine,o=e.axisLineType,a=cM(cM({},ci(this.props,!1)),{},{fill:"none"},ci(i,!1));if("circle"===o)return u.createElement(EN,sM({className:"recharts-polar-angle-axis-line"},a,{cx:t,cy:n,r:r}));var s=this.props.ticks.map(function(e){return mx(t,n,r,e.coordinate)});return u.createElement(SN,sM({className:"recharts-polar-angle-axis-line"},a,{points:s}))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,i=n.tick,o=n.tickLine,a=n.tickFormatter,s=n.stroke,l=ci(this.props,!1),c=ci(i,!1),d=cM(cM({},l),{},{fill:"none"},ci(o,!1)),h=r.map(function(n,r){var h=t.getTickLineCoord(n),m=cM(cM(cM({textAnchor:t.getTickTextAnchor(n)},l),{},{stroke:"none",fill:s},c),{},{index:r,payload:n,x:h.x2,y:h.y2});return u.createElement(xi,sM({className:Ue("recharts-polar-angle-axis-tick",bx(i)),key:"tick-".concat(n.coordinate)},Xr(t.props,n,r)),o&&u.createElement("line",sM({className:"recharts-polar-angle-axis-tick-line"},d,h)),i&&e.renderTickItem(i,m,a?a(n.value,r):n.value))});return u.createElement(xi,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:u.createElement(xi,{className:Ue("recharts-polar-angle-axis",this.props.className)},r&&this.renderAxisLine(),this.renderTicks())}}],i=[{key:"renderTickItem",value:function(e,t,n){return u.isValidElement(e)?u.cloneElement(e,t):Mt(e)?e(t):u.createElement(im,sM({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],n&&uM(t.prototype,n),i&&uM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();fM(yM,"displayName","PolarAngleAxis"),fM(yM,"axisType","angleAxis"),fM(yM,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var xM=Zs(Object.getPrototypeOf,Object),wM=ct,CM=xM,NM=ut,MM=Function.prototype,DM=Object.prototype,SM=MM.toString,jM=DM.hasOwnProperty,EM=SM.call(Object);const kM=c(function(e){if(!NM(e)||"[object Object]"!=wM(e))return!1;var t=CM(e);if(null===t)return!0;var n=jM.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&SM.call(n)==EM});var PM=ct,WM=ut;const RM=c(function(e){return!0===e||!1===e||WM(e)&&"[object Boolean]"==PM(e)});function AM(e){return(AM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OM.apply(this,arguments)}function TM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return VM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FM(Object(n),!0).forEach(function(t){LM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=AM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=AM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BM,HM=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},_M={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GM=function(e){var t=IM(IM({},_M),e),n=r.useRef(),i=TM(r.useState(-1),2),o=i[0],a=i[1];r.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}},[]);var s=t.x,l=t.y,c=t.upperWidth,d=t.lowerWidth,h=t.height,m=t.className,p=t.animationEasing,f=t.animationDuration,g=t.animationBegin,v=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||d!==+d||h!==+h||0===c&&0===d||0===h)return null;var b=Ue("recharts-trapezoid",m);return v?u.createElement(sN,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:s,y:l},to:{upperWidth:c,lowerWidth:d,height:h,x:s,y:l},duration:f,animationEasing:p,isActive:v},function(e){var r=e.upperWidth,i=e.lowerWidth,a=e.height,s=e.x,l=e.y;return u.createElement(sN,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,easing:p},u.createElement("path",OM({},ci(t,!0),{className:b,d:HM(s,l,r,i,a),ref:n})))}):u.createElement("g",null,u.createElement("path",OM({},ci(t,!0),{className:b,d:HM(s,l,c,d,h)})))},zM=["option","shapeType","propTransformer","activeClassName","isActive"];function $M(e){return($M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KM(Object(n),!0).forEach(function(t){XM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=$M(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=$M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$M(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YM(e,t){return qM(qM({},t),e)}function ZM(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return u.createElement(bN,n);case"trapezoid":return u.createElement(GM,n);case"sector":return u.createElement(Jx,n);case"symbols":if(function(e){return"symbols"===e}(t))return u.createElement(sa,n);break;default:return null}}function JM(e){var t,n=e.option,i=e.shapeType,o=e.propTransformer,a=void 0===o?YM:o,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,d=UM(e,zM);if(r.isValidElement(n))t=r.cloneElement(n,qM(qM({},d),function(e){return r.isValidElement(e)?e.props:e}(n)));else if(Mt(n))t=n(d);else if(kM(n)&&!RM(n)){var h=a(n,d);t=u.createElement(ZM,{shapeType:i,elementProps:h})}else{var m=d;t=u.createElement(ZM,{shapeType:i,elementProps:m})}return c?u.createElement(xi,{className:l},t):t}function QM(e,t){return null!=t&&"trapezoids"in e.props}function eD(e,t){return null!=t&&"sectors"in e.props}function tD(e,t){return null!=t&&"points"in e.props}function nD(e,t){var n,r,i=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function rD(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function iD(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function oD(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return QM(e,t)?n="trapezoids":eD(e,t)?n="sectors":tD(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return QM(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:eD(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:tD(e,t)?t.payload:{}}(n,t),a=r.filter(function(e,r){var a=sb(o,e),s=n.props[i].filter(function(e){var r=function(e,t){var n;return QM(e,t)?n=nD:eD(e,t)?n=rD:tD(e,t)&&(n=iD),n}(n,t);return r(e,t)}),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l});return r.indexOf(a[a.length-1])}function aD(e){return(aD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sD(){return sD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sD.apply(this,arguments)}function lD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lD(Object(n),!0).forEach(function(t){fD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gD(r.key),r)}}function dD(e,t,n){return t=mD(t),function(e,t){if(t&&("object"===aD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hD()?Reflect.construct(t,n||[],mD(e).constructor):t.apply(e,n))}function hD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(hD=function(){return!!e})()}function mD(e){return(mD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pD(e,t){return(pD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fD(e,t,n){return(t=gD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gD(e){var t=function(e,t){if("object"!=aD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=aD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==aD(t)?t:t+""}var vD=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fD(n=dD(this,e,[t]),"pieRef",null),fD(n,"sectorRefs",[]),fD(n,"id",Vr("recharts-pie-")),fD(n,"handleAnimationEnd",function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Mt(e)&&e()}),fD(n,"handleAnimationStart",function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Mt(e)&&e()}),n.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pD(e,t)}(e,r.PureComponent),t=e,n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.label,i=n.labelLine,o=n.dataKey,a=n.valueKey,s=ci(this.props,!1),l=ci(r,!1),c=ci(i,!1),d=r&&r.offsetRadius||20,h=t.map(function(t,n){var h=(t.startAngle+t.endAngle)/2,m=mx(t.cx,t.cy,t.outerRadius+d,h),p=cD(cD(cD(cD({},s),t),{},{stroke:"none"},l),{},{index:n,textAnchor:e.getTextAnchor(m.x,t.cx)},m),f=cD(cD(cD(cD({},s),t),{},{fill:"none",stroke:t.fill},c),{},{index:n,points:[mx(t.cx,t.cy,t.outerRadius,h),m]}),g=o;return vr(o)&&vr(a)?g="value":vr(o)&&(g=a),u.createElement(xi,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(n)},i&&e.renderLabelLineItem(i,f,"line"),e.renderLabelItem(r,p,Oy(t,g)))});return u.createElement(xi,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,r=n.activeShape,i=n.blendStroke,o=n.inactiveShape;return e.map(function(n,a){if(0===(null==n?void 0:n.startAngle)&&0===(null==n?void 0:n.endAngle)&&1!==e.length)return null;var s=t.isActiveIndex(a),l=o&&t.hasActiveIndex()?o:null,c=s?r:l,d=cD(cD({},n),{},{stroke:i?n.fill:n.stroke,tabIndex:-1});return u.createElement(xi,sD({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},Xr(t.props,n,a),{key:"sector-".concat(null==n?void 0:n.startAngle,"-").concat(null==n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(a)}),u.createElement(JM,sD({option:c,isActive:s,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,r=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,a=t.animationEasing,s=t.animationId,l=this.state,c=l.prevSectors,d=l.prevIsAnimationActive;return u.createElement(sN,{begin:i,duration:o,isActive:r,easing:a,from:{t:0},to:{t:1},key:"pie-".concat(s,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var r=t.t,i=[],o=(n&&n[0]).startAngle;return n.forEach(function(e,t){var n=c&&c[t],a=t>0?gr(e,"paddingAngle",0):0;if(n){var s=Lr(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=cD(cD({},e),{},{startAngle:o+a,endAngle:o+s(r)+a});i.push(l),o=l.endAngle}else{var u=e.endAngle,d=e.startAngle,h=Lr(0,u-d)(r),m=cD(cD({},e),{},{startAngle:o+a,endAngle:o+h+a});i.push(m),o=m.endAngle}}),u.createElement(xi,null,e.renderSectorsStatically(i))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&sb(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,r=t.sectors,i=t.className,o=t.label,a=t.cx,s=t.cy,l=t.innerRadius,c=t.outerRadius,d=t.isAnimationActive,h=this.state.isAnimationFinished;if(n||!r||!r.length||!Ar(a)||!Ar(s)||!Ar(l)||!Ar(c))return null;var m=Ue("recharts-pie",i);return u.createElement(xi,{tabIndex:this.props.rootTabIndex,className:m,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(r),kx.renderCallByParent(this.props,null,!1),(!d||h)&&Gx.renderCallByParent(this.props,r,!1))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(u.isValidElement(e))return u.cloneElement(e,t);if(Mt(e))return e(t);var r=Ue("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return u.createElement(cw,sD({},t,{key:n,type:"linear",className:r}))}},{key:"renderLabelItem",value:function(e,t,n){if(u.isValidElement(e))return u.cloneElement(e,t);var r=n;if(Mt(e)&&(r=e(t),u.isValidElement(r)))return r;var i=Ue("recharts-pie-label-text","boolean"==typeof e||Mt(e)?"":e.className);return u.createElement(im,sD({},t,{alignmentBaseline:"middle",className:i}),r)}}],n&&uD(t.prototype,n),i&&uD(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();BM=vD,fD(vD,"displayName","Pie"),fD(vD,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Td,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),fD(vD,"parseDeltaAngle",function(e,t){return Wr(t-e)*Math.min(Math.abs(t-e),360)}),fD(vD,"getRealPieData",function(e){var t=e.data,n=e.children,r=ci(e,!1),i=oi(n,wh);return t&&t.length?t.map(function(e,t){return cD(cD(cD({payload:e},r),e),i&&i[t]&&i[t].props)}):i&&i.length?i.map(function(e){return cD(cD({},r),e.props)}):[]}),fD(vD,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,a=px(i,o);return{cx:r+Fr(e.cx,i,i/2),cy:n+Fr(e.cy,o,o/2),innerRadius:Fr(e.innerRadius,a,0),outerRadius:Fr(e.outerRadius,a,.8*a),maxRadius:e.maxRadius||Math.sqrt(i*i+o*o)/2}}),fD(vD,"getComposedData",function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?cD(cD({},t.type.defaultProps),t.props):t.props,i=BM.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),p=BM.parseCoordinateOfPie(r,n),f=BM.parseDeltaAngle(a,s),g=Math.abs(f),v=c;vr(c)&&vr(d)?(wi(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v="value"):vr(c)&&(wi(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v=d);var b,y,x=i.filter(function(e){return 0!==Oy(e,v,0)}).length,w=g-x*m-(g>=360?x:x-1)*l,C=i.reduce(function(e,t){var n=Oy(t,v,0);return e+(Ar(n)?n:0)},0);C>0&&(b=i.map(function(e,t){var n,r=Oy(e,v,0),i=Oy(e,u,t),s=(Ar(r)?r:0)/C,c=(n=t?y.endAngle+Wr(f)*l*(0!==r?1:0):a)+Wr(f)*((0!==r?m:0)+s*w),d=(n+c)/2,g=(p.innerRadius+p.outerRadius)/2,b=[{name:i,value:r,payload:e,dataKey:v,type:h}],x=mx(p.cx,p.cy,g,d);return y=cD(cD(cD({percent:s,cornerRadius:o,name:i,tooltipPayload:b,midAngle:d,middleRadius:g,tooltipPosition:x},e),p),{},{value:Oy(e,v),startAngle:n,endAngle:c,payload:e,paddingAngle:Wr(f)*l})}));return cD(cD({},p),{},{sectors:b,data:i})});var bD=Math.ceil,yD=Math.max;var xD=oh,wD=1/0;var CD=function(e){return e?(e=xD(e))===wD||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},ND=function(e,t,n,r){for(var i=-1,o=yD(bD((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a},MD=id,DD=CD;const SD=c(function(e){return function(t,n,r){return r&&"number"!=typeof r&&MD(t,n,r)&&(n=r=void 0),t=DD(t),void 0===n?(n=t,t=0):n=DD(n),r=void 0===r?t<n?1:-1:DD(r),ND(t,n,r,e)}}());function jD(e){return(jD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ED(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ED(Object(n),!0).forEach(function(t){PD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=jD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=jD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WD=["Webkit","Moz","O","ms"];function RD(e){return(RD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AD(){return AD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AD.apply(this,arguments)}function OD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OD(Object(n),!0).forEach(function(t){HD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_D(r.key),r)}}function FD(e,t,n){return t=LD(t),function(e,t){if(t&&("object"===RD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ID()?Reflect.construct(t,n||[],LD(e).constructor):t.apply(e,n))}function ID(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ID=function(){return!!e})()}function LD(e){return(LD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BD(e,t){return(BD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function HD(e,t,n){return(t=_D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _D(e){var t=function(e,t){if("object"!=RD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=RD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==RD(t)?t:t+""}var GD=function(e){return e.changedTouches&&!!e.changedTouches.length},zD=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),HD(n=FD(this,e,[t]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),HD(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),HD(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null==r||r({endIndex:t,startIndex:i})}),n.detachDragEndListener()}),HD(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),HD(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),HD(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),HD(n,"handleSlideDragStart",function(e){var t=GD(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BD(e,t)}(e,r.PureComponent),t=e,i=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.stroke,a=Math.floor(n+i/2)-1;return u.createElement(u.Fragment,null,u.createElement("rect",{x:t,y:n,width:r,height:i,fill:o,stroke:"none"}),u.createElement("line",{x1:t+1,y1:a,x2:t+r-1,y2:a,fill:"none",stroke:"#fff"}),u.createElement("line",{x1:t+1,y1:a+2,x2:t+r-1,y2:a+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return u.isValidElement(t)?u.cloneElement(t,n):Mt(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return TD({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=Am().domain(SD(0,s)).range([i,i+o-a]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],(n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=e.getIndexInRange(i,l),d=e.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=Oy(n[e],i,e);return Mt(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-l-i,a+s-l-r):h<0&&(h=Math.max(h,a-r,a-i));var m=this.getIndex({startX:r+h,endX:i+h});m.startIndex===c&&m.endIndex===u||!d||d(m),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=GD(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,m=s.data,p={startX:this.state.startX,endX:this.state.endX},f=e.pageX-n;f>0?f=Math.min(f,l+c-u-a):f<0&&(f=Math.max(f,l-a)),p[r]=a+f;var g=this.getIndex(p),v=g.startIndex,b=g.endIndex;this.setState(HD(HD({},r,a+f),"brushMoveStartX",e.pageX),function(){var e;d&&(e=m.length-1,("startX"===r&&(i>o?v%h===0:b%h===0)||i<o&&b===e||"endX"===r&&(i>o?b%h===0:v%h===0)||i>o&&b===e)&&d(g))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(HD({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.fill,a=e.stroke;return u.createElement("rect",{stroke:a,fill:o,x:t,y:n,width:r,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,c=r.Children.only(s);return c?u.cloneElement(c,{x:t,y:n,width:i,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(t,n){var r,i,o=this,a=this.props,s=a.y,l=a.travellerWidth,c=a.height,d=a.traveller,h=a.ariaLabel,m=a.data,p=a.startIndex,f=a.endIndex,g=Math.max(t,this.props.x),v=TD(TD({},ci(this.props,!1)),{},{x:g,y:s,width:l,height:c}),b=h||"Min value: ".concat(null===(r=m[p])||void 0===r?void 0:r.name,", Max value: ").concat(null===(i=m[f])||void 0===i?void 0:i.name);return u.createElement(xi,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,v))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,i=n.height,o=n.stroke,a=n.travellerWidth,s=Math.min(e,t)+a,l=Math.max(Math.abs(t-e)-a,0);return u.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:s,y:r,width:l,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,i=e.height,o=e.travellerWidth,a=e.stroke,s=this.state,l=s.startX,c=s.endX,d={pointerEvents:"none",fill:a};return u.createElement(xi,{className:"recharts-brush-texts"},u.createElement(im,AD({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:r+i/2},d),this.getTextOfTick(t)),u.createElement(im,AD({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+o+5,y:r+i/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,i=e.x,o=e.y,a=e.width,s=e.height,l=e.alwaysShowText,c=this.state,d=c.startX,h=c.endX,m=c.isTextActive,p=c.isSlideMoving,f=c.isTravellerMoving,g=c.isTravellerFocused;if(!t||!t.length||!Ar(i)||!Ar(o)||!Ar(a)||!Ar(s)||a<=0||s<=0)return null;var v,b,y,x,w=Ue("recharts-brush",n),C=1===u.Children.count(r),N=(b="none",y=(v="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(x=WD.reduce(function(e,t){return kD(kD({},e),{},PD({},t+y,b))},{}))[v]=b,x);return u.createElement(xi,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(m||p||f||g||l)&&this.renderText())}}])&&VD(t.prototype,n),i&&VD(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();HD(zD,"displayName","Brush"),HD(zD,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $D=Mu;var UD=Fa,KD=Ac,qD=function(e,t){var n;return $D(e,function(e,r,i){return!(n=t(e,r,i))}),!!n},XD=Ke,YD=id;const ZD=c(function(e,t,n){var r=XD(e)?UD:qD;return n&&YD(e,t,n)&&(t=void 0),r(e,KD(t))});var JD=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},QD=$u;var eS=function(e,t,n){"__proto__"==t&&QD?QD(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},tS=Cu,nS=Ac;const rS=c(function(e,t){var n={};return t=nS(t),tS(e,function(e,r,i){eS(n,r,t(e,r,i))}),n});var iS=Mu;var oS=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0},aS=function(e,t){var n=!0;return iS(e,function(e,r,i){return n=!!t(e,r,i)}),n},sS=Ac,lS=Ke,cS=id;const uS=c(function(e,t,n){var r=lS(e)?oS:aS;return n&&cS(e,t,n)&&(t=void 0),r(e,sS(t))});var dS=["x","y"];function hS(e){return(hS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mS(){return mS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mS.apply(this,arguments)}function pS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pS(Object(n),!0).forEach(function(t){gS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gS(e,t,n){return t=function(e){var t=function(e,t){if("object"!=hS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=hS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hS(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bS(e,t){var n=e.x,r=e.y,i=vS(e,dS),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return fS(fS(fS(fS(fS({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function yS(e){return u.createElement(JM,mS({shapeType:"rectangle",propTransformer:bS,activeClassName:"recharts-active-bar"},e))}var xS,wS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var i=Ar(n)||function(e){return vr(e)}(n);return i?e(n,r):(i||ly(0,"minPointSize callback function received a value with type of ".concat(hS(n),". Currently only numbers or null/undefined are supported.")),t)}},CS=["value","background"];function NS(e){return(NS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DS.apply(this,arguments)}function SS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SS(Object(n),!0).forEach(function(t){AS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ES(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OS(r.key),r)}}function kS(e,t,n){return t=WS(t),function(e,t){if(t&&("object"===NS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PS()?Reflect.construct(t,n||[],WS(e).constructor):t.apply(e,n))}function PS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(PS=function(){return!!e})()}function WS(e){return(WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RS(e,t){return(RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function AS(e,t,n){return(t=OS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OS(e){var t=function(e,t){if("object"!=NS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=NS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==NS(t)?t:t+""}var TS=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return AS(t=kS(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),AS(t,"id",Vr("recharts-bar-")),AS(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),AS(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RS(e,t)}(e,r.PureComponent),t=e,n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,i=n.dataKey,o=n.activeIndex,a=n.activeBar,s=ci(this.props,!1);return e&&e.map(function(e,n){var l=n===o,c=l?a:r,d=jS(jS(jS({},s),e),{},{isActive:l,option:c,index:n,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return u.createElement(xi,DS({className:"recharts-bar-rectangle"},Xr(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),u.createElement(yS,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,i=t.isAnimationActive,o=t.animationBegin,a=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state.prevData;return u.createElement(sN,{begin:o,duration:a,isActive:i,easing:s,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var i=t.t,o=n.map(function(e,t){var n=c&&c[t];if(n){var o=Lr(n.x,e.x),a=Lr(n.y,e.y),s=Lr(n.width,e.width),l=Lr(n.height,e.height);return jS(jS({},e),{},{x:o(i),y:a(i),width:s(i),height:l(i)})}if("horizontal"===r){var u=Lr(0,e.height)(i);return jS(jS({},e),{},{y:e.y+e.height-u,height:u})}var d=Lr(0,e.width)(i);return jS(jS({},e),{},{width:d})});return u.createElement(xi,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&sb(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,i=t.activeIndex,o=ci(this.props.background,!1);return n.map(function(t,n){t.value;var a=t.background,s=MS(t,CS);if(!a)return null;var l=jS(jS(jS(jS(jS({},s),{},{fill:"#eee"},a),o),Xr(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return u.createElement(yS,DS({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,i=n.xAxis,o=n.yAxis,a=n.layout,s=oi(n.children,Cy);if(!s)return null;var l="vertical"===a?r[0].height/2:r[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Oy(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return u.createElement(xi,d,s.map(function(e){return u.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:a,offset:l,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,i=e.xAxis,o=e.yAxis,a=e.left,s=e.top,l=e.width,c=e.height,d=e.isAnimationActive,h=e.background,m=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,f=Ue("recharts-bar",r),g=i&&i.allowDataOverflow,v=o&&o.allowDataOverflow,b=g||v,y=vr(m)?this.id:m;return u.createElement(xi,{className:f},g||v?u.createElement("defs",null,u.createElement("clipPath",{id:"clipPath-".concat(y)},u.createElement("rect",{x:g?a:a-l/2,y:v?s:s-c/2,width:g?l:2*l,height:v?c:2*c}))):null,u.createElement(xi,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(y,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,y),(!d||p)&&Gx.renderCallByParent(this.props,n))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],n&&ES(t.prototype,n),i&&ES(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();function VS(e){return(VS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HS(r.key),r)}}function IS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IS(Object(n),!0).forEach(function(t){BS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BS(e,t,n){return(t=HS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HS(e){var t=function(e,t){if("object"!=VS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=VS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VS(t)?t:t+""}xS=TS,AS(TS,"displayName","Bar"),AS(TS,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Td,animationBegin:0,animationDuration:400,animationEasing:"ease"}),AS(TS,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,m=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!m)return null;var p=t.layout,f=n.type.defaultProps,g=void 0!==f?jS(jS({},f),n.props):n.props,v=g.dataKey,b=g.children,y=g.minPointSize,x="horizontal"===p?a:o,w=c?x.scale.domain():null,C=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:x}),N=oi(b,wh),M=d.map(function(e,t){var r,d,h,f,g,b;c?r=function(e,t){if(!t||2!==t.length||!Ar(t[0])||!Ar(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ar(e[0])||e[0]<n)&&(i[0]=n),(!Ar(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],w):(r=Oy(e,v),Array.isArray(r)||(r=[C,r]));var x=wS(y,xS.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var M,D=[a.scale(r[0]),a.scale(r[1])],S=D[0],j=D[1];d=Zy({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:e,index:t}),h=null!==(M=null!=j?j:S)&&void 0!==M?M:void 0,f=m.size;var E=S-j;if(g=Number.isNaN(E)?0:E,b={x:d,y:a.y,width:f,height:a.height},Math.abs(x)>0&&Math.abs(g)<Math.abs(x)){var k=Wr(g||x)*(Math.abs(x)-Math.abs(g));h-=k,g+=k}}else{var P=[o.scale(r[0]),o.scale(r[1])],W=P[0],R=P[1];if(d=W,h=Zy({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:e,index:t}),f=R-W,g=m.size,b={x:o.x,y:h,width:o.width,height:g},Math.abs(x)>0&&Math.abs(f)<Math.abs(x))f+=Wr(f||x)*(Math.abs(x)-Math.abs(f))}return jS(jS(jS({},e),{},{x:d,y:h,width:f,height:g,value:c?r:r[1],payload:e,background:b},N&&N[t]&&N[t].props),{},{tooltipPayload:[ix(n,e)],tooltipPosition:{x:d+f/2,y:h+g/2}})});return jS({data:M,layout:p},h)});var _S=function(e,t,n,r,i){var o=e.width,a=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},d=!!ai(l,TS);return c.reduce(function(o,a){var l,c,h,m,p,f=t[a],g=f.orientation,v=f.domain,b=f.padding,y=void 0===b?{}:b,x=f.mirror,w=f.reversed,C="".concat(g).concat(x?"Mirror":"");if("number"===f.type&&("gap"===f.padding||"no-gap"===f.padding)){var N=v[1]-v[0],M=1/0,D=f.categoricalDomain.sort(Hr);if(D.forEach(function(e,t){t>0&&(M=Math.min((e||0)-(D[t-1]||0),M))}),Number.isFinite(M)){var S=M/N,j="vertical"===f.layout?n.height:n.width;if("gap"===f.padding&&(l=S*j/2),"no-gap"===f.padding){var E=Fr(e.barCategoryGap,S*j),k=S*j/2;l=k-E-(k-E)/j*E}}}c="xAxis"===r?[n.left+(y.left||0)+(l||0),n.left+n.width-(y.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(l||0),n.top+n.height-(y.bottom||0)-(l||0)]:f.range,w&&(c=[c[1],c[0]]);var P=zy(f,i,d),W=P.scale,R=P.realScaleType;W.domain(v).range(c),Uy(W);var A=Xy(W,LS(LS({},f),{},{realScaleType:R}));"xAxis"===r?(p="top"===g&&!x||"bottom"===g&&x,h=n.left,m=u[C]-p*f.height):"yAxis"===r&&(p="left"===g&&!x||"right"===g&&x,h=u[C]-p*f.width,m=n.top);var O=LS(LS(LS({},f),A),{},{realScaleType:R,x:h,y:m,scale:W,width:"xAxis"===r?n.width:f.width,height:"yAxis"===r?n.height:f.height});return O.bandSize=nx(O,A),f.hide||"xAxis"!==r?f.hide||(u[C]+=(p?-1:1)*O.width):u[C]+=(p?-1:1)*O.height,LS(LS({},o),{},BS({},a,O))},{})},GS=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},zS=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&FS(t.prototype,n),r&&FS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();BS(zS,"EPS",1e-4);var $S=function(e){var t=Object.keys(e).reduce(function(t,n){return LS(LS({},t),{},BS({},n,zS.create(e[n])))},{});return LS(LS({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return rS(e,function(e,n){return t[n].apply(e,{bandAware:r,position:i})})},isInRange:function(e){return uS(e,function(e,n){return t[n].isInRange(e)})}})};var US=Ac,KS=il,qS=ll;var XS=function(e){return function(t,n,r){var i=Object(t);if(!KS(t)){var o=US(n);t=qS(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}},YS=CD;var ZS=Oc,JS=Ac,QS=function(e){var t=YS(e),n=t%1;return t==t?n?t-n:t:0},ej=Math.max;const tj=c(XS(function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:QS(n);return i<0&&(i=ej(r+i,0)),ZS(e,JS(t),i)}));var nj=zn(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});function rj(e){return(rj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ij=r.createContext(void 0),oj=r.createContext(void 0),aj=r.createContext(void 0),sj=r.createContext({}),lj=r.createContext(void 0),cj=r.createContext(0),uj=r.createContext(0),dj=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,i=t.offset,o=e.clipPathId,a=e.children,s=e.width,l=e.height,c=nj(i);return u.createElement(ij.Provider,{value:n},u.createElement(oj.Provider,{value:r},u.createElement(sj.Provider,{value:i},u.createElement(aj.Provider,{value:c},u.createElement(lj.Provider,{value:o},u.createElement(cj.Provider,{value:l},u.createElement(uj.Provider,{value:s},a)))))))};function hj(e){var t=Object.keys(e);return 0===t.length?"There are no available ids.":"Available ids are: ".concat(t,".")}var mj=function(e){var t=r.useContext(ij);null==t&&ly(0,"Could not find Recharts context; are you sure this is rendered inside a Recharts wrapper component?");var n=t[e];return null==n&&ly(0,'Could not find xAxis by id "'.concat(e,'" [').concat(rj(e),"]. ").concat(hj(t))),n},pj=function(e){var t=r.useContext(oj);null==t&&ly(0,"Could not find Recharts context; are you sure this is rendered inside a Recharts wrapper component?");var n=t[e];return null==n&&ly(0,'Could not find yAxis by id "'.concat(e,'" [').concat(rj(e),"]. ").concat(hj(t))),n},fj=function(){return r.useContext(uj)},gj=function(){return r.useContext(cj)};function vj(e){return(vj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sj(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yj(e,t,n){return t=wj(t),function(e,t){if(t&&("object"===vj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xj()?Reflect.construct(t,n||[],wj(e).constructor):t.apply(e,n))}function xj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(xj=function(){return!!e})()}function wj(e){return(wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cj(e,t){return(Cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(t){Dj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Dj(e,t,n){return(t=Sj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sj(e){var t=function(e,t){if("object"!=vj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=vj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==vj(t)?t:t+""}function jj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ej(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ej(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kj.apply(this,arguments)}function Pj(e){var t=e.x,n=e.y,i=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,d=r.useContext(lj),h=mj(o),m=pj(a),p=r.useContext(aj);if(!d||!p)return null;wi(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,n,r,i,o,a,s,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var m=l.y,p=e.y.apply(m,{position:o});if(JD(l,"discard")&&!e.y.isInRange(p))return null;var f=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?f.reverse():f}if(t){var g=l.x,v=e.x.apply(g,{position:o});if(JD(l,"discard")&&!e.x.isInRange(v))return null;var b=[{x:v,y:u+h},{x:v,y:u}];return"top"===a?b.reverse():b}if(r){var y=l.segment.map(function(t){return e.apply(t,{position:o})});return JD(l,"discard")&&ZD(y,function(t){return!e.isInRange(t)})?null:y}return null}($S({x:h.scale,y:m.scale}),Or(t),Or(n),i&&2===i.length,p,e.position,h.orientation,m.orientation,e);if(!f)return null;var g=jj(f,2),v=g[0],b=v.x,y=v.y,x=g[1],w=x.x,C=x.y,N=Mj(Mj({clipPath:JD(e,"hidden")?"url(#".concat(d,")"):void 0},ci(e,!0)),{},{x1:b,y1:y,x2:w,y2:C});return u.createElement(xi,{className:Ue("recharts-reference-line",l)},function(e,t){return u.isValidElement(e)?u.cloneElement(e,t):Mt(e)?e(t):u.createElement("line",kj({},t,{className:"recharts-reference-line-line"}))}(s,N),kx.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return GS({x:t,y:n},{x:r,y:i})}({x1:b,y1:y,x2:w,y2:C})))}var Wj=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yj(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cj(e,t)}(e,u.Component),bj(e,[{key:"render",value:function(){return u.createElement(Pj,this.props)}}])}();function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rj.apply(this,arguments)}function Aj(e){return(Aj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oj(Object(n),!0).forEach(function(t){Hj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_j(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fj(e,t,n){return t=Lj(t),function(e,t){if(t&&("object"===Aj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ij()?Reflect.construct(t,n||[],Lj(e).constructor):t.apply(e,n))}function Ij(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ij=function(){return!!e})()}function Lj(e){return(Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bj(e,t){return(Bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Hj(e,t,n){return(t=_j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _j(e){var t=function(e,t){if("object"!=Aj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Aj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Aj(t)?t:t+""}Dj(Wj,"displayName","ReferenceLine"),Dj(Wj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Gj=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Fj(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bj(e,t)}(e,u.Component),Vj(e,[{key:"render",value:function(){var t=this.props,n=t.x,r=t.y,i=t.r,o=t.alwaysShow,a=t.clipPathId,s=Or(n),l=Or(r);if(wi(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=$S({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return JD(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!c)return null;var d=c.x,h=c.y,m=this.props,p=m.shape,f=m.className,g=Tj(Tj({clipPath:JD(this.props,"hidden")?"url(#".concat(a,")"):void 0},ci(this.props,!0)),{},{cx:d,cy:h});return u.createElement(xi,{className:Ue("recharts-reference-dot",f)},e.renderDot(p,g),kx.renderCallByParent(this.props,{x:d-i,y:h-i,width:2*i,height:2*i}))}}])}();function zj(){return zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zj.apply(this,arguments)}function $j(e){return($j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uj(Object(n),!0).forEach(function(t){Qj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eE(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xj(e,t,n){return t=Zj(t),function(e,t){if(t&&("object"===$j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yj()?Reflect.construct(t,n||[],Zj(e).constructor):t.apply(e,n))}function Yj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Yj=function(){return!!e})()}function Zj(e){return(Zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jj(e,t){return(Jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Qj(e,t,n){return(t=eE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eE(e){var t=function(e,t){if("object"!=$j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=$j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==$j(t)?t:t+""}Hj(Gj,"displayName","ReferenceDot"),Hj(Gj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Hj(Gj,"renderDot",function(e,t){return u.isValidElement(e)?u.cloneElement(e,t):Mt(e)?e(t):u.createElement(EN,Rj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var tE=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xj(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jj(e,t)}(e,u.Component),qj(e,[{key:"render",value:function(){var t=this.props,n=t.x1,r=t.x2,i=t.y1,o=t.y2,a=t.className,s=t.alwaysShow,l=t.clipPathId;wi(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Or(n),d=Or(r),h=Or(i),m=Or(o),p=this.props.shape;if(!(c||d||h||m||p))return null;var f=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=$S({x:c.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},m={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!JD(i,"discard")||d.isInRange(h)&&d.isInRange(m)?GS(h,m):null}(c,d,h,m,this.props);if(!f&&!p)return null;var g=JD(this.props,"hidden")?"url(#".concat(l,")"):void 0;return u.createElement(xi,{className:Ue("recharts-reference-area",a)},e.renderRect(p,Kj(Kj({clipPath:g},ci(this.props,!0)),f)),kx.renderCallByParent(this.props,f))}}])}();function nE(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function rE(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function iE(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function oE(e){return(oE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(t){lE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=oE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=oE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cE(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(Ar(l)||Td)return function(e,t){return nE(e,t+1)}(i,"number"==typeof l&&Ar(l)?l:0);var h=[],m="top"===s||"bottom"===s?"width":"height",p=u&&"width"===m?kh(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},f=function(e,r){var i=Mt(c)?c(e.value,r):e.value;return"width"===m?rE(kh(i,{fontSize:t,letterSpacing:n}),p,d):kh(i,{fontSize:t,letterSpacing:n})[m]},g=i.length>=2?Wr(i[1].coordinate-i[0].coordinate):1,v=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,m);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:nE(r,u)};var o,a=c,h=function(){return void 0===o&&(o=n(t,a)),o},m=t.coordinate,p=0===c||iE(e,m,h,d,l);p||(c=0,d=s,u+=1),p&&(d=m+e*(h()/2+i),c+=u)};u<=a.length;)if(o=h())return o.v;return[]}(g,v,f,i,a):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);a[s-1]=u=sE(sE({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),iE(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+i),a[s-1]=sE(sE({},u),{},{isShow:!0}))}for(var m=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=sE(sE({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=sE(sE({},o),{},{tickCoord:o.coordinate});iE(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=sE(sE({},o),{},{isShow:!0}))},f=0;f<m;f++)p(f);return a}(g,v,f,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=sE(sE({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=sE(sE({},c),{},{tickCoord:c.coordinate});iE(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=sE(sE({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(g,v,f,i,a),h.filter(function(e){return e.isShow}))}Qj(tE,"displayName","ReferenceArea"),Qj(tE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Qj(tE,"renderRect",function(e,t){return u.isValidElement(e)?u.cloneElement(e,t):Mt(e)?e(t):u.createElement(bN,zj({},t,{className:"recharts-reference-area-rect"}))});var uE=["viewBox"],dE=["viewBox"],hE=["ticks"];function mE(e){return(mE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pE.apply(this,arguments)}function fE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fE(Object(n),!0).forEach(function(t){NE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ME(r.key),r)}}function yE(e,t,n){return t=wE(t),function(e,t){if(t&&("object"===mE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xE()?Reflect.construct(t,n||[],wE(e).constructor):t.apply(e,n))}function xE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(xE=function(){return!!e})()}function wE(e){return(wE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CE(e,t){return(CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function NE(e,t,n){return(t=ME(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ME(e){var t=function(e,t){if("object"!=mE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=mE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==mE(t)?t:t+""}var DE=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=yE(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CE(e,t)}(e,r.Component),t=e,n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=vE(e,uE),i=this.props,o=i.viewBox,a=vE(i,dE);return!_r(n,o)||!_r(r,a)||!_r(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,m=s.tickSize,p=s.mirror,f=s.tickMargin,g=p?-1:1,v=e.tickSize||m,b=Ar(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=c+ +!p*d)-g*v)-g*f,o=b;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!p*u)-g*v)-g*f,a=b;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +p*u)+g*v)+g*f,a=b;break;default:t=n=e.coordinate,a=(r=(i=c+ +p*d)+g*v)+g*f,o=b}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.orientation,a=e.mirror,s=e.axisLine,l=gE(gE(gE({},ci(this.props,!1)),ci(s,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var c=+("top"===o&&!a||"bottom"===o&&a);l=gE(gE({},l),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var d=+("left"===o&&!a||"right"===o&&a);l=gE(gE({},l),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return u.createElement("line",pE({},l,{className:Ue("recharts-cartesian-axis-line",gr(s,"className"))}))}},{key:"renderTicks",value:function(t,n,r){var i=this,o=this.props,a=o.tickLine,s=o.stroke,l=o.tick,c=o.tickFormatter,d=o.unit,h=cE(gE(gE({},this.props),{},{ticks:t}),n,r),m=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),f=ci(this.props,!1),g=ci(l,!1),v=gE(gE({},f),{},{fill:"none"},ci(a,!1)),b=h.map(function(t,n){var r=i.getTickLineCoord(t),o=r.line,b=r.tick,y=gE(gE(gE(gE({textAnchor:m,verticalAnchor:p},f),{},{stroke:"none",fill:s},g),b),{},{index:n,payload:t,visibleTicksCount:h.length,tickFormatter:c});return u.createElement(xi,pE({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},Xr(i.props,t,n)),a&&u.createElement("line",pE({},v,o,{className:Ue("recharts-cartesian-axis-tick-line",gr(a,"className"))})),l&&e.renderTickItem(l,y,"".concat(Mt(c)?c(t.value,n):t.value).concat(d||"")))});return u.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,i=t.height,o=t.ticksGenerator,a=t.className;if(t.hide)return null;var s=this.props,l=s.ticks,c=vE(s,hE),d=l;return Mt(o)&&(d=l&&l.length>0?o(this.props):o(c)),r<=0||i<=0||!d||!d.length?null:u.createElement(xi,{className:Ue("recharts-cartesian-axis",a),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),kx.renderCallByParent(this.props))}}],i=[{key:"renderTickItem",value:function(e,t,n){var r=Ue(t.className,"recharts-cartesian-axis-tick-value");return u.isValidElement(e)?u.cloneElement(e,gE(gE({},t),{},{className:r})):Mt(e)?e(gE(gE({},t),{},{className:r})):u.createElement(im,pE({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],n&&bE(t.prototype,n),i&&bE(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();NE(DE,"displayName","CartesianAxis"),NE(DE,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var SE=["x1","y1","x2","y2","key"],jE=["offset"];function EE(e){return(EE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(t){WE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=EE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=EE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RE(){return RE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RE.apply(this,arguments)}function AE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var OE=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.ry;return u.createElement("rect",{x:r,y:i,ry:s,width:o,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function TE(e,t){var n;if(u.isValidElement(e))n=u.cloneElement(e,t);else if(Mt(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=AE(t,SE),c=ci(l,!1);c.offset;var d=AE(c,jE);n=u.createElement("line",RE({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function VE(e){var t=e.x,n=e.width,r=e.horizontal,i=void 0===r||r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(r,o){var a=PE(PE({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(o),index:o});return TE(i,a)});return u.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function FE(e){var t=e.y,n=e.height,r=e.vertical,i=void 0===r||r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(r,o){var a=PE(PE({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(o),index:o});return TE(i,a)});return u.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function IE(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var c=s.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==c[0]&&c.unshift(0);var d=c.map(function(e,s){var l=!c[s+1]?i+a-e:c[s+1]-e;if(l<=0)return null;var d=s%t.length;return u.createElement("rect",{key:"react-".concat(s),y:e,x:r,height:l,width:o,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return u.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function LE(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==d[0]&&d.unshift(0);var h=d.map(function(e,t){var n=!d[t+1]?o+s-e:d[t+1]-e;if(n<=0)return null;var c=t%r.length;return u.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:n,height:l,stroke:"none",fill:r[c],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return u.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var BE=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return By(cE(PE(PE(PE({},DE.defaultProps),n),{},{ticks:Hy(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},HE=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return By(cE(PE(PE(PE({},DE.defaultProps),n),{},{ticks:Hy(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},_E={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function GE(e){var t,n,i,o,a,s,l,c,d=fj(),h=gj(),m=r.useContext(sj),p=PE(PE({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:_E.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:_E.fill,horizontal:null!==(i=e.horizontal)&&void 0!==i?i:_E.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:_E.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:_E.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:_E.verticalFill,x:Ar(e.x)?e.x:m.left,y:Ar(e.y)?e.y:m.top,width:Ar(e.width)?e.width:m.width,height:Ar(e.height)?e.height:m.height}),f=p.x,g=p.y,v=p.width,b=p.height,y=p.syncWithTicks,x=p.horizontalValues,w=p.verticalValues,C=(l=r.useContext(ij),Ir(l)),N=(c=r.useContext(oj),tj(c,function(e){return uS(e.domain,Number.isFinite)})||Ir(c));if(!Ar(v)||v<=0||!Ar(b)||b<=0||!Ar(f)||f!==+f||!Ar(g)||g!==+g)return null;var M=p.verticalCoordinatesGenerator||BE,D=p.horizontalCoordinatesGenerator||HE,S=p.horizontalPoints,j=p.verticalPoints;if((!S||!S.length)&&Mt(D)){var E=x&&x.length,k=D({yAxis:N?PE(PE({},N),{},{ticks:E?x:N.ticks}):void 0,width:d,height:h,offset:m},!!E||y);wi(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(EE(k),"]")),Array.isArray(k)&&(S=k)}if((!j||!j.length)&&Mt(M)){var P=w&&w.length,W=M({xAxis:C?PE(PE({},C),{},{ticks:P?w:C.ticks}):void 0,width:d,height:h,offset:m},!!P||y);wi(Array.isArray(W),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(EE(W),"]")),Array.isArray(W)&&(j=W)}return u.createElement("g",{className:"recharts-cartesian-grid"},u.createElement(OE,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),u.createElement(VE,RE({},p,{offset:m,horizontalPoints:S,xAxis:C,yAxis:N})),u.createElement(FE,RE({},p,{offset:m,verticalPoints:j,xAxis:C,yAxis:N})),u.createElement(IE,RE({},p,{horizontalPoints:S})),u.createElement(LE,RE({},p,{verticalPoints:j})))}GE.displayName="CartesianGrid";var zE=["type","layout","connectNulls","ref"],$E=["key"];function UE(e){return(UE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qE(){return qE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qE.apply(this,arguments)}function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(t){ik(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZE(e){return function(e){if(Array.isArray(e))return JE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return JE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ok(r.key),r)}}function ek(e,t,n){return t=nk(t),function(e,t){if(t&&("object"===UE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tk()?Reflect.construct(t,n||[],nk(e).constructor):t.apply(e,n))}function tk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tk=function(){return!!e})()}function nk(e){return(nk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rk(e,t){return(rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ik(e,t,n){return(t=ok(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ok(e){var t=function(e,t){if("object"!=UE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=UE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==UE(t)?t:t+""}var ak=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ik(t=ek(this,e,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),ik(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),ik(t,"getStrokeDasharray",function(n,r,i){var o=i.reduce(function(e,t){return e+t});if(!o)return t.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),s=n%o,l=r-n,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>s){c=[].concat(ZE(i.slice(0,u)),[s-d]);break}var h=c.length%2==0?[0,l]:[l];return[].concat(ZE(e.repeat(i,a)),ZE(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),ik(t,"id",Vr("recharts-line-")),ik(t,"pathRef",function(e){t.mainCurve=e}),ik(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),ik(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rk(e,t)}(e,r.PureComponent),t=e,n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,i=n.xAxis,o=n.yAxis,a=n.layout,s=oi(n.children,Cy);if(!s)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Oy(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return u.createElement(xi,c,s.map(function(e){return u.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:a,dataPointFormatter:l})}))}},{key:"renderDots",value:function(t,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,a=i.points,s=i.dataKey,l=ci(this.props,!1),c=ci(o,!0),d=a.map(function(t,n){var r=YE(YE(YE({key:"dot-".concat(n),r:3},l),c),{},{index:n,cx:t.x,cy:t.y,value:t.value,dataKey:s,payload:t.payload,points:a});return e.renderDotItem(o,r)}),h={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return u.createElement(xi,qE({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,n,r){var i=this.props,o=i.type,a=i.layout,s=i.connectNulls;i.ref;var l=KE(i,zE),c=YE(YE(YE({},ci(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:o,layout:a,connectNulls:s});return u.createElement(cw,qE({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,i=r.points,o=r.strokeDasharray,a=r.isAnimationActive,s=r.animationBegin,l=r.animationDuration,c=r.animationEasing,d=r.animationId,h=r.animateNewValues,m=r.width,p=r.height,f=this.state,g=f.prevPoints,v=f.totalLength;return u.createElement(sN,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var a=r.t;if(g){var s=g.length/i.length,l=i.map(function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],i=Lr(r.x,e.x),o=Lr(r.y,e.y);return YE(YE({},e),{},{x:i(a),y:o(a)})}if(h){var l=Lr(2*m,e.x),c=Lr(p/2,e.y);return YE(YE({},e),{},{x:l(a),y:c(a)})}return YE(YE({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,u=Lr(0,v)(a);if(o){var d="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(u,v,d)}else c=n.generateSimpleStrokeDasharray(v,u);return n.renderCurveStatically(i,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!sb(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,i=t.points,o=t.className,a=t.xAxis,s=t.yAxis,l=t.top,c=t.left,d=t.width,h=t.height,m=t.isAnimationActive,p=t.id;if(n||!i||!i.length)return null;var f=this.state.isAnimationFinished,g=1===i.length,v=Ue("recharts-line",o),b=a&&a.allowDataOverflow,y=s&&s.allowDataOverflow,x=b||y,w=vr(p)?this.id:p,C=null!==(e=ci(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=C.r,M=void 0===N?3:N,D=C.strokeWidth,S=void 0===D?2:D,j=(function(e){return e&&"object"===Qr(e)&&"clipDot"in e}(r)?r:{}).clipDot,E=void 0===j||j,k=2*M+S;return u.createElement(xi,{className:v},b||y?u.createElement("defs",null,u.createElement("clipPath",{id:"clipPath-".concat(w)},u.createElement("rect",{x:b?c:c-d/2,y:y?l:l-h/2,width:b?d:2*d,height:y?h:2*h})),!E&&u.createElement("clipPath",{id:"clipPath-dots-".concat(w)},u.createElement("rect",{x:c-k/2,y:l-k/2,width:d+k,height:h+k}))):null,!g&&this.renderCurve(x,w),this.renderErrorBar(x,w),(g||r)&&this.renderDots(x,E,w),(!m||f)&&Gx.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(ZE(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(ZE(r),ZE(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(u.isValidElement(e))n=u.cloneElement(e,t);else if(Mt(e))n=e(t);else{var r=t.key,i=KE(t,$E),o=Ue("recharts-line-dot","boolean"!=typeof e?e.className:"");n=u.createElement(EN,qE({key:r},i,{className:o}))}return n}}],n&&QE(t.prototype,n),i&&QE(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();function sk(e){return(sk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lk(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pk(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ck(e,t,n){return t=dk(t),function(e,t){if(t&&("object"===sk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uk()?Reflect.construct(t,n||[],dk(e).constructor):t.apply(e,n))}function uk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(uk=function(){return!!e})()}function dk(e){return(dk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hk(e,t){return(hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mk(e,t,n){return(t=pk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pk(e){var t=function(e,t){if("object"!=sk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=sk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==sk(t)?t:t+""}function fk(){return fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fk.apply(this,arguments)}function gk(e){var t=e.xAxisId,n=fj(),i=gj(),o=mj(t);return null==o?null:r.createElement(DE,fk({},o,{className:Ue("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return Hy(e,!0)}}))}ik(ak,"displayName","Line"),ik(ak,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Td,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),ik(ak,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return YE({points:l.map(function(e,t){var l=Oy(e,a);return"horizontal"===u?{x:Yy({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:vr(l)?null:r.scale(l),value:l,payload:e}:{x:vr(l)?null:n.scale(l),y:Yy({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}}),layout:u},c)});var vk=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ck(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hk(e,t)}(e,r.Component),lk(e,[{key:"render",value:function(){return r.createElement(gk,this.props)}}])}();function bk(e){return(bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yk(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dk(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xk(e,t,n){return t=Ck(t),function(e,t){if(t&&("object"===bk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wk()?Reflect.construct(t,n||[],Ck(e).constructor):t.apply(e,n))}function wk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(wk=function(){return!!e})()}function Ck(e){return(Ck=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nk(e,t){return(Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Mk(e,t,n){return(t=Dk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dk(e){var t=function(e,t){if("object"!=bk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=bk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==bk(t)?t:t+""}function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sk.apply(this,arguments)}mk(vk,"displayName","XAxis"),mk(vk,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var jk=function(e){var t=e.yAxisId,n=fj(),i=gj(),o=pj(t);return null==o?null:r.createElement(DE,Sk({},o,{className:Ue("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return Hy(e,!0)}}))},Ek=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xk(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nk(e,t)}(e,r.Component),yk(e,[{key:"render",value:function(){return r.createElement(jk,this.props)}}])}();function kk(e){return function(e){if(Array.isArray(e))return Pk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pk(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Mk(Ek,"displayName","YAxis"),Mk(Ek,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var Wk=function(e,t,n,r,i){var o=oi(e,Wj),a=oi(e,Gj),s=[].concat(kk(o),kk(a)),l=oi(e,tE),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===n&&JD(t.props,"extendDomain")&&Ar(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(u,"1"),m="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&JD(t.props,"extendDomain")&&Ar(t.props[h])&&Ar(t.props[m])){var r=t.props[h],i=t.props[m];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e},d)}return i&&i.length&&(d=i.reduce(function(e,t){return Ar(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},Rk={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,m=u.length;for(c=0;c<m;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(Rk);var Ak=new(c(Rk.exports)),Ok="recharts.syncMouseEvents";function Tk(e){return(Tk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vk(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ik(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fk(e,t,n){return(t=Ik(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ik(e){var t=function(e,t){if("object"!=Tk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Tk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Tk(t)?t:t+""}var Lk=function(){return Vk(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Fk(this,"activeIndex",0),Fk(this,"coordinateList",[]),Fk(this,"layout","horizontal")},[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=o?o:this.container,this.layout=null!=s?s:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function Bk(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[mx(t,n,r,i),mx(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Hk(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Bk(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=mx(s,l,c,d),m=mx(s,l,u,d);r=h.x,i=h.y,o=m.x,a=m.y}return[{x:r,y:i},{x:o,y:a}]}function _k(e){return(_k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gk(Object(n),!0).forEach(function(t){$k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $k(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=_k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_k(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uk(e){var t,n,i,o=e.element,a=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,m=e.layout,p=e.chartName,f=null!==(t=o.props.cursor)&&void 0!==t?t:null===(n=o.type.defaultProps)||void 0===n?void 0:n.cursor;if(!o||!f||!s||!l||"ScatterChart"!==p&&"axis"!==a)return null;var g=cw;if("ScatterChart"===p)i=l,g=VN;else if("BarChart"===p)i=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(m,l,u,h),g=bN;else if("radial"===m){var v=Bk(l),b=v.cx,y=v.cy,x=v.radius;i={cx:b,cy:y,startAngle:v.startAngle,endAngle:v.endAngle,innerRadius:x,outerRadius:x},g=Jx}else i={points:Hk(m,l,u)},g=cw;var w=zk(zk(zk(zk({stroke:"#ccc",pointerEvents:"none"},u),i),ci(f,!1)),{},{payload:c,payloadIndex:d,className:Ue("recharts-tooltip-cursor",f.className)});return r.isValidElement(f)?r.cloneElement(f,w):r.createElement(g,w)}var Kk=["item"],qk=["children","className","width","height","style","compact","title","desc"];function Xk(e){return(Xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yk(){return Yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yk.apply(this,arguments)}function Zk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||oP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jk(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qk(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uP(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eP(e,t,n){return t=nP(t),function(e,t){if(t&&("object"===Xk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tP()?Reflect.construct(t,n||[],nP(e).constructor):t.apply(e,n))}function tP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tP=function(){return!!e})()}function nP(e){return(nP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rP(e,t){return(rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function iP(e){return function(e){if(Array.isArray(e))return aP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oP(e,t){if(e){if("string"==typeof e)return aP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aP(e,t):void 0}}function aP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(t){cP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cP(e,t,n){return(t=uP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uP(e){var t=function(e,t){if("object"!=Xk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Xk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xk(t)?t:t+""}var dP={xAxis:["bottom","top"],yAxis:["left","right"]},hP={width:"100%",height:"100%"},mP={x:0,y:0};function pP(e){return e}var fP=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!=n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(iP(e),iP(n)):e},[]);return o.length>0?o:e&&e.length&&Ar(r)&&Ar(i)?e.slice(r,i+1):[]};function gP(e){return"number"===e?[0,"auto"]:void 0}var vP=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=fP(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce(function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=Br(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(iP(i),[ix(s,c)]):i},[])},bP=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(Wr(u-c)!==Wr(d-u)){var m=[];if(Wr(d-u)===Wr(s[1]-s[0])){h=d;var p=u+s[1]-s[0];m[0]=Math.min(p,(p+c)/2),m[1]=Math.max(p,(p+c)/2)}else{h=c;var f=d+s[1]-s[0];m[0]=Math.min(u,(f+u)/2),m[1]=Math.max(u,(f+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){o=r[l].index;break}}else{var v=Math.min(c,d),b=Math.max(c,d);if(e>(v+u)/2&&e<=(b+u)/2){o=r[l].index;break}}}else for(var y=0;y<a;y++)if(0===y&&e<=(n[y].coordinate+n[y+1].coordinate)/2||y>0&&y<a-1&&e>(n[y].coordinate+n[y-1].coordinate)/2&&e<=(n[y].coordinate+n[y+1].coordinate)/2||y===a-1&&e>(n[y].coordinate+n[y-1].coordinate)/2){o=n[y].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=vP(e,t,c,u),h=function(e,t,n,r){var i=t.find(function(e){return e&&e.index===n});if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return lP(lP(lP({},r),mx(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return lP(lP(lP({},r),mx(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return mP}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},yP=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=Ly(c,i);return n.reduce(function(t,n){var m,p=void 0!==n.type.defaultProps?lP(lP({},n.type.defaultProps),n.props):n.props,f=p.type,g=p.dataKey,v=p.allowDataOverflow,b=p.allowDuplicatedCategory,y=p.scale,x=p.ticks,w=p.includeHidden,C=p[o];if(t[C])return t;var N,M,D,S=fP(e.data,{graphicalItems:r.filter(function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===C}),dataStartIndex:s,dataEndIndex:l}),j=S.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],i=null==e?void 0:e[1];if(r&&i&&Ar(r)&&Ar(i))return!0}return!1})(p.domain,v,f)&&(N=tx(p.domain,null,v),!h||"number"!==f&&"auto"===y||(D=Ty(S,g,"category")));var E=gP(f);if(!N||0===N.length){var k,P=null!==(k=p.domain)&&void 0!==k?k:E;if(g){if(N=Ty(S,g,f),"category"===f&&h){var W=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(N);b&&W?(M=N,N=SD(0,j)):b||(N=rx(P,N,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(iP(e),[t])},[]))}else if("category"===f)N=b?N.filter(function(e){return""!==e&&!vr(e)}):rx(P,N,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||vr(t)?e:[].concat(iP(e),[t])},[]);else if("number"===f){var R=function(e,t,n,r,i){var o=t.map(function(t){return Fy(e,t,n,i,r)}).filter(function(e){return!vr(e)});return o&&o.length?o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(S,r.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===C&&(w||!i)}),g,i,c);R&&(N=R)}!h||"number"!==f&&"auto"===y||(D=Ty(S,g,"category"))}else N=h?SD(0,j):a&&a[C]&&a[C].hasStack&&"number"===f?"expand"===d?[0,1]:Jy(a[C].stackGroups,s,l):Iy(S,r.filter(function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===C&&(w||!n)}),f,c,!0);if("number"===f)N=Wk(u,N,C,i,x),P&&(N=tx(P,N,v));else if("category"===f&&P){var A=P;N.every(function(e){return A.indexOf(e)>=0})&&(N=A)}}return lP(lP({},t),{},cP({},C,lP(lP({},p),{},{axisType:i,domain:N,categoricalDomain:D,duplicateDomain:M,originalDomain:null!==(m=p.domain)&&void 0!==m?m:E,isCategorical:h,layout:c})))},{})},xP=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=oi(c,i),h={};return d&&d.length?h=yP(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=fP(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,m=Ly(c,i),p=-1;return n.reduce(function(e,t){var f,g=(void 0!==t.type.defaultProps?lP(lP({},t.type.defaultProps),t.props):t.props)[o],v=gP("number");return e[g]?e:(p++,m?f=SD(0,h):a&&a[g]&&a[g].hasStack?(f=Jy(a[g].stackGroups,s,l),f=Wk(u,f,g,i)):(f=tx(v,Iy(d,n.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i}),"number",c),r.defaultProps.allowDataOverflow),f=Wk(u,f,g,i)),lP(lP({},e),{},cP({},g,lP(lP({axisType:i},r.defaultProps),{},{hide:!0,orientation:gr(dP,"".concat(i,".").concat(p%2),null),domain:f,originalDomain:v,isCategorical:m,layout:c}))))},{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),h},wP=function(e){var t=e.children,n=e.defaultShowTooltip,r=ai(t,zD),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},CP=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},NP=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=ai(c,zD),h=ai(c,mu),m=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:lP(lP({},e),{},cP({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:lP(lP({},e),{},cP({},r,gr(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),f=lP(lP({},p),m),g=f.bottom;d&&(f.bottom+=d.props.height||zD.defaultProps.height),h&&t&&(f=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=jy({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,m=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===m)&&"center"!==h&&Ar(e[h]))return Ry(Ry({},e),{},Ay({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==m&&Ar(e[m]))return Ry(Ry({},e),{},Ay({},m,e[m]+(d||0)))}return e}(f,0,n,t));var v=s-f.left-f.right,b=l-f.top-f.bottom;return lP(lP({brushBottom:g},f),{},{width:Math.max(v,0),height:Math.max(b,0)})},MP=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},DP=function(e){var t=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=void 0===i?"axis":i,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,m=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,m=e.maxBarSize,p=CP(u),f=p.numericAxisName,g=p.cateAxisName,v=function(e){return!(!e||!e.length)&&e.some(function(e){var t=ti(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),b=[];return n.forEach(function(n,p){var y=fP(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),x=void 0!==n.type.defaultProps?lP(lP({},n.type.defaultProps),n.props):n.props,w=x.dataKey,C=x.maxBarSize,N=x["".concat(f,"Id")],M=x["".concat(g,"Id")],D=l.reduce(function(e,r){var i,o,a=t["".concat(r.axisType,"Map")],s=x["".concat(r.axisType,"Id")];a&&a[s]||"zAxis"===r.axisType||ly(0,"Specifying a(n) ".concat(r.axisType,"Id requires a corresponding ").concat(r.axisType,"Id on the targeted graphical component ").concat(null!==(i=null==n||null===(o=n.type)||void 0===o?void 0:o.displayName)&&void 0!==i?i:""));var l=a[s];return lP(lP({},e),{},cP(cP({},r.axisType,l),"".concat(r.axisType,"Ticks"),Hy(l)))},{}),S=D[g],j=D["".concat(g,"Ticks")],E=r&&r[N]&&r[N].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?Ry(Ry({},e.type.defaultProps),e.props):e.props).stackId;if(Or(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[N].stackGroups),k=ti(n.type).indexOf("Bar")>=0,P=nx(S,j),W=[],R=v&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var m=c[u[d]],p=m.items,f=m.cateAxisId,g=p.filter(function(e){return ti(e.type).indexOf("Bar")>=0});if(g&&g.length){var v=g[0].type.defaultProps,b=void 0!==v?Ry(Ry({},v),g[0].props):g[0].props,y=b.barSize,x=b[f];o[x]||(o[x]=[]);var w=vr(y)?t:y;o[x].push({item:g[0],stackList:g.slice(1),barSize:vr(w)?void 0:Fr(w,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:MP(D,g)});if(k){var A,O,T=vr(C)?m:C,V=null!==(A=null!==(O=nx(S,j,!0))&&void 0!==O?O:T)&&void 0!==A?A:0;W=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=Fr(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,m=o.reduce(function(e,t){return e+t.barSize||0},0);(m+=(s-1)*c)>=r&&(m-=(s-1)*c,c=0),m>=r&&h>0&&(d=!0,m=s*(h*=.9));var p={offset:((r-m)/2|0)-c,size:0};l=o.reduce(function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(ky(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:p})}),r},u)}else{var f=Fr(n,r,0,!0);r-2*f-(s-1)*c<=0&&(c=0);var g=(r-2*f-(s-1)*c)/s;g>1&&(g>>=0);var v=a===+a?Math.min(g,a):g;l=o.reduce(function(e,t,n){var r=[].concat(ky(e),[{item:t.item,position:{offset:f+(g+c)*n+(g-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:h,bandSize:V!==P?V:P,sizeList:R[M],maxBarSize:T}),V!==P&&(W=W.map(function(e){return lP(lP({},e),{},{position:lP(lP({},e.position),{},{offset:e.position.offset-V/2})})}))}var F,I,L=n&&n.type&&n.type.getComposedData;L&&b.push({props:lP(lP({},L(lP(lP({},D),{},{displayedData:y,props:e,dataKey:w,item:n,bandSize:P,barPosition:W,offset:i,stackedData:E,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},cP(cP(cP({key:n.key||"item-".concat(p)},f,D[f]),g,D[g]),"animationId",o)),childIndex:(F=n,I=e.children,ii(I).indexOf(F)),item:n})}),b},p=function(e,r){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!si({props:i}))return null;var c=i.children,u=i.layout,h=i.stackOffset,p=i.data,f=i.reverseStackOrder,g=CP(u),v=g.numericAxisName,b=g.cateAxisName,y=oi(c,n),x=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce(function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?Ry(Ry({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(Or(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[Vr("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return Ry(Ry({},e),{},Ay({},s,l))},{});return Object.keys(a).reduce(function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,o){var a=s.stackGroups[o];return Ry(Ry({},t),{},Ay({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:qy(e,a.items,i)}))},{})),Ry(Ry({},t),{},Ay({},o,s))},{})}(p,y,"".concat(v,"Id"),"".concat(b,"Id"),h,f),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return lP(lP({},e),{},cP({},n,xP(i,lP(lP({},t),{},{graphicalItems:y,stackGroups:t.axisType===v&&x,dataStartIndex:o,dataEndIndex:a}))))},{}),C=NP(lP(lP({},w),{},{props:i,graphicalItems:y}),null==r?void 0:r.legendBBox);Object.keys(w).forEach(function(e){w[e]=d(i,w[e],C,e.replace("Map",""),t)});var N,M,D=w["".concat(b,"Map")],S=(N=Ir(D),{tooltipTicks:M=Hy(N,!1,!0),orderedTooltipTicks:ld(M,function(e){return e.coordinate}),tooltipAxis:N,tooltipAxisBandSize:nx(N,M)}),j=m(i,lP(lP({},w),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:y,stackGroups:x,offset:C}));return lP(lP({formattedGraphicalItems:j,graphicalItems:y,offset:C,stackGroups:x},S),w)},f=function(){function e(n){var i,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cP(a=eP(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),cP(a,"accessibilityManager",new Lk),cP(a,"handleLegendBBoxUpdate",function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(lP({legendBBox:e},p({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},lP(lP({},a.state),{},{legendBBox:e}))))}}),cP(a,"handleReceiveSyncEvent",function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!=typeof a.props.syncMethod)return;a.applySyncEvent(t)}}),cP(a,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState(function(){return lP({dataStartIndex:t,dataEndIndex:n},p({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))}),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),cP(a,"handleMouseEnter",function(e){var t=a.getMouseInfo(e);if(t){var n=lP(lP({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;Mt(r)&&r(n,e)}}),cP(a,"triggeredAfterMouseMove",function(e){var t=a.getMouseInfo(e),n=t?lP(lP({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;Mt(r)&&r(n,e)}),cP(a,"handleItemMouseEnter",function(e){a.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),cP(a,"handleItemMouseLeave",function(){a.setState(function(){return{isTooltipActive:!1}})}),cP(a,"handleMouseMove",function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)}),cP(a,"handleMouseLeave",function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;Mt(n)&&n(t,e)}),cP(a,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&ei[t]?ei[t]:null}(e),r=gr(a.props,"".concat(n));n&&Mt(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)}),cP(a,"handleClick",function(e){var t=a.getMouseInfo(e);if(t){var n=lP(lP({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;Mt(r)&&r(n,e)}}),cP(a,"handleMouseDown",function(e){var t=a.props.onMouseDown;Mt(t)&&t(a.getMouseInfo(e),e)}),cP(a,"handleMouseUp",function(e){var t=a.props.onMouseUp;Mt(t)&&t(a.getMouseInfo(e),e)}),cP(a,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),cP(a,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])}),cP(a,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])}),cP(a,"handleDoubleClick",function(e){var t=a.props.onDoubleClick;Mt(t)&&t(a.getMouseInfo(e),e)}),cP(a,"handleContextMenu",function(e){var t=a.props.onContextMenu;Mt(t)&&t(a.getMouseInfo(e),e)}),cP(a,"triggerSyncEvent",function(e){void 0!==a.props.syncId&&Ak.emit(Ok,a.props.syncId,e,a.eventEmitterSymbol)}),cP(a,"applySyncEvent",function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(lP({dataStartIndex:o,dataEndIndex:s},p({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=a.state,h=d.offset,m=d.tooltipTicks;if(!h)return;if("function"==typeof r)u=r(m,e);else if("value"===r){u=-1;for(var f=0;f<m.length;f++)if(m[f].value===e.activeLabel){u=f;break}}var g=lP(lP({},h),{},{x:h.left,y:h.top}),v=Math.min(l,g.x+g.width),b=Math.min(c,g.y+g.height),y=m[u]&&m[u].value,x=vP(a.state,a.props.data,u),w=m[u]?{x:"horizontal"===n?m[u].coordinate:v,y:"horizontal"===n?b:m[u].coordinate}:mP;a.setState(lP(lP({},e),{},{activeLabel:y,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else a.setState(e)}),cP(a,"renderCursor",function(e){var n,r=a.state,i=r.isTooltipActive,o=r.activeCoordinate,s=r.activePayload,l=r.offset,c=r.activeTooltipIndex,d=r.tooltipAxisBandSize,h=a.getTooltipEventType(),m=null!==(n=e.props.active)&&void 0!==n?n:i,p=a.props.layout,f=e.key||"_recharts-cursor";return u.createElement(Uk,{key:f,activeCoordinate:o,activePayload:s,activeTooltipIndex:c,chartName:t,element:e,isActive:m,layout:p,offset:l,tooltipAxisBandSize:d,tooltipEventType:h})}),cP(a,"renderPolarAxis",function(e,t,n){var i=gr(e,"type.axisType"),o=gr(a.state,"".concat(i,"Map")),s=e.type.defaultProps,l=void 0!==s?lP(lP({},s),e.props):e.props,c=o&&o[l["".concat(i,"Id")]];return r.cloneElement(e,lP(lP({},c),{},{className:Ue(i,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:Hy(c,!0)}))}),cP(a,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,i=t.polarAngles,o=t.polarRadius,s=a.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=Ir(l),d=Ir(c),h=d.cx,m=d.cy,p=d.innerRadius,f=d.outerRadius;return r.cloneElement(e,{polarAngles:Array.isArray(i)?i:Hy(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(o)?o:Hy(u,!0).map(function(e){return e.coordinate}),cx:h,cy:m,innerRadius:p,outerRadius:f,key:e.key||"polar-grid",radialLines:n})}),cP(a,"renderLegend",function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,i=t.width,o=t.height,s=a.props.margin||{},l=i-(s.left||0)-(s.right||0),u=jy({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=Jk(u,Kk);return r.cloneElement(d,lP(lP({},h),{},{chartWidth:i,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))}),cP(a,"renderTooltip",function(){var e,t=a.props,n=t.children,i=t.accessibilityLayer,o=ai(n,Kd);if(!o)return null;var s=a.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,m=null!==(e=o.props.active)&&void 0!==e?e:l;return r.cloneElement(o,{viewBox:lP(lP({},h),{},{x:h.left,y:h.top}),active:m,label:d,payload:m?u:[],coordinate:c,accessibilityLayer:i})}),cP(a,"renderBrush",function(e){var t=a.props,n=t.margin,i=t.data,o=a.state,s=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,u=o.updateId;return r.cloneElement(e,{key:e.key||"_recharts-brush",onChange:Gy(a.handleBrushChange,e.props.onChange),data:i,x:Ar(e.props.x)?e.props.x:s.left,y:Ar(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:Ar(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),cP(a,"renderReferenceElement",function(e,t,n){if(!e)return null;var i=a.clipPathId,o=a.state,s=o.xAxisMap,l=o.yAxisMap,c=o.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,m=void 0===h?u.xAxisId:h,p=d.yAxisId,f=void 0===p?u.yAxisId:p;return r.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[m],yAxis:l[f],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:i})}),cP(a,"renderActivePoints",function(t){var n=t.item,r=t.activePoint,i=t.basePoint,o=t.childIndex,a=t.isRange,s=[],l=n.props.key,c=void 0!==n.item.type.defaultProps?lP(lP({},n.item.type.defaultProps),n.item.props):n.item.props,u=c.activeDot,d=lP(lP({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:Vy(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},ci(u,!1)),qr(u));return s.push(e.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(o))),i?s.push(e.renderActiveDot(u,lP(lP({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s}),cP(a,"renderGraphicChild",function(e,t,n){var i=a.filterFormatItem(e,t,n);if(!i)return null;var o=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=ai(a.props.children,Kd),m=i.props,p=m.points,f=m.isRange,g=m.baseLine,v=void 0!==i.item.type.defaultProps?lP(lP({},i.item.type.defaultProps),i.item.props):i.item.props,b=v.activeDot,y=v.hide,x=v.activeBar,w=v.activeShape,C=Boolean(!y&&l&&h&&(b||x||w)),N={};"axis"!==o&&h&&"click"===h.props.trigger?N={onClick:Gy(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(N={onMouseLeave:Gy(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Gy(a.handleItemMouseEnter,e.props.onMouseEnter)});var M=r.cloneElement(e,lP(lP({},i.props),N));if(C){if(!(u>=0)){var D,S=(null!==(D=a.getItemByXY(a.state.activeCoordinate))&&void 0!==D?D:{graphicalItem:M}).graphicalItem,j=S.item,E=void 0===j?e:j,k=S.childIndex,P=lP(lP(lP({},i.props),N),{},{activeIndex:k});return[r.cloneElement(E,P),null,null]}var W,R;if(c.dataKey&&!c.allowDuplicatedCategory){var A="function"==typeof c.dataKey?function(e){return"function"==typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());W=Br(p,A,d),R=f&&g&&Br(g,A,d)}else W=null==p?void 0:p[u],R=f&&g&&g[u];if(w||x){var O=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[r.cloneElement(e,lP(lP(lP({},i.props),N),{},{activeIndex:O})),null,null]}if(!vr(W))return[M].concat(iP(a.renderActivePoints({item:i,activePoint:W,basePoint:R,childIndex:u,isRange:f})))}return f?[M,null,null]:[M,null]}),cP(a,"renderCustomized",function(e,t,n){return r.cloneElement(e,lP(lP({key:"recharts-customized-".concat(n)},a.props),a.state))}),cP(a,"renderMap",{CartesianGrid:{handler:pP,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:pP},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:pP},YAxis:{handler:pP},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(i=n.id)&&void 0!==i?i:Vr("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=mh(a.triggeredAfterMouseMove,null!==(o=n.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rP(e,t)}(e,r.Component),Qk(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=ai(t,Kd);if(o){var a=o.props.defaultIndex;if(!("number"!=typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=vP(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=lP(lP({},d),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var m={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(m),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var n,r;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}});return null}},{key:"componentDidUpdate",value:function(e){ui([ai(e.children,Kd)],[ai(this.props.children,Kd)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=ai(this.props.children,Kd);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=bP(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var m=Ir(c).scale,p=Ir(u).scale,f=m&&m.invert?m.invert(o.chartX):null,g=p&&p.invert?p.invert(o.chartY):null;return lP(lP({},o),{},{xValue:f,yValue:g},h)}return h?lP(lP({},o),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=Ir(l);return vx({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=ai(e,Kd),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),lP(lP({},qr(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){Ak.on(Ok,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ak.removeListener(Ok,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===ti(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,i=t.height,o=t.width;return u.createElement("defs",null,u.createElement("clipPath",{id:e},u.createElement("rect",{x:n,y:r,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=Zk(t,2),r=n[0],i=n[1];return lP(lP({},e),{},cP({},r,i.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=Zk(t,2),r=n[0],i=n[1];return lP(lP({},e),{},cP({},r,i.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?lP(lP({},l.type.defaultProps),l.props):l.props,u=ti(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return gN(e,t)});if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find(function(t){return vx(e,t)});if(h)return{graphicalItem:a,payload:h}}else if(QM(a,r)||eD(a,r)||tD(a,r)){var m=oD({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?m:c.activeIndex;return{graphicalItem:lP(lP({},a),{},{childIndex:p}),payload:tD(a,r)?c.data[m]:a.props.data[m]}}}return null}},{key:"render",value:function(){var e=this;if(!si(this))return null;var t,n,r=this.props,i=r.children,o=r.className,a=r.width,s=r.height,l=r.style,c=r.compact,d=r.title,h=r.desc,m=Jk(r,qk),p=ci(m,!1);if(c)return u.createElement(dj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},u.createElement(gi,Yk({},p,{width:a,height:s,title:d,desc:h}),this.renderClipPath(),hi(i,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var f=this.parseEventsOfWrapper();return u.createElement(dj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},u.createElement("div",Yk({className:Ue("recharts-wrapper",o),style:lP({position:"relative",cursor:"default",width:a,height:s},l)},f,{ref:function(t){e.container=t}}),u.createElement(gi,Yk({},p,{width:a,height:s,title:d,desc:h,style:hP}),this.renderClipPath(),hi(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();cP(f,"displayName",t),cP(f,"defaultProps",lP({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),cP(f,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=wP(e);return lP(lP(lP({},h),{},{updateId:0},p(lP(lP({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!_r(c,t.prevMargin)){var m=wP(e),f={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=lP(lP({},bP(t,r,s)),{},{updateId:t.updateId+1}),v=lP(lP(lP({},m),f),g);return lP(lP(lP({},v),p(lP({props:e},v),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!ui(i,t.prevChildren)){var b,y,x,w,C=ai(i,zD),N=C&&null!==(b=null===(y=C.props)||void 0===y?void 0:y.startIndex)&&void 0!==b?b:u,M=C&&null!==(x=null===(w=C.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,D=N!==u||M!==d,S=!vr(r)&&!D?t.updateId:t.updateId+1;return lP(lP({updateId:S},p(lP(lP({props:e},t),{},{updateId:S,dataStartIndex:N,dataEndIndex:M}),t)),{},{prevChildren:i,dataStartIndex:N,dataEndIndex:M})}return null}),cP(f,"renderActiveDot",function(e,t,n){var i;return i=r.isValidElement(e)?r.cloneElement(e,t):Mt(e)?e(t):u.createElement(EN,t),u.createElement(xi,{className:"recharts-active-dot",key:n},i)});var g=r.forwardRef(function(e,t){return u.createElement(f,Yk({},e,{ref:t}))});return g.displayName=f.displayName,g},SP=DP({chartName:"LineChart",GraphicalChild:ak,axisComponents:[{axisType:"xAxis",AxisComp:vk},{axisType:"yAxis",AxisComp:Ek}],formatAxisMap:_S}),jP=DP({chartName:"BarChart",GraphicalChild:TS,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:vk},{axisType:"yAxis",AxisComp:Ek}],formatAxisMap:_S}),EP=DP({chartName:"PieChart",GraphicalChild:vD,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:yM},{axisType:"radiusAxis",AxisComp:oM}],formatAxisMap:function(e,t,n,r,i){var o=e.width,a=e.height,s=e.startAngle,l=e.endAngle,c=Fr(e.cx,o,o/2),u=Fr(e.cy,a,a/2),d=px(o,a,n),h=Fr(e.innerRadius,d,0),m=Fr(e.outerRadius,d,.8*d);return Object.keys(t).reduce(function(e,n){var o,a=t[n],d=a.domain,p=a.reversed;if(vr(a.range))"angleAxis"===r?o=[s,l]:"radiusAxis"===r&&(o=[h,m]),p&&(o=[o[1],o[0]]);else{var f=cx(o=a.range,2);s=f[0],l=f[1]}var g=zy(a,i),v=g.realScaleType,b=g.scale;b.domain(d).range(o),Uy(b);var y=Xy(b,sx(sx({},a),{},{realScaleType:v})),x=sx(sx(sx({},a),y),{},{range:o,radius:m,realScaleType:v,scale:b,cx:c,cy:u,innerRadius:h,outerRadius:m,startAngle:s,endAngle:l});return sx(sx({},e),{},lx({},n,x))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const kP=["#166534","#22c55e","#86efac","#f59e0b","#ef4444","#8b5cf6"],PP=["facebook","google","tiktok","instagram","twitter","linkedin","youtube","other"],WP=()=>{var e;const{projectId:t}=s(),[n,i]=r.useState([]),[o,l]=r.useState(null),[c,u]=r.useState(!0),[d,h]=r.useState(!1),[m,p]=r.useState(!1),[f,g]=r.useState(null),[v,b]=r.useState({name:"",channel:"facebook",start_date:"",end_date:""}),[y,w]=r.useState([{date:"",impressions:0,clicks:0,spend:0,conversions:0}]),[C,N]=r.useState(!1);r.useEffect(()=>{M()},[t]);const M=async()=>{try{const[e,n]=await Promise.all([D.getCampaigns(t),D.getAggregatedMetrics(t,{groupBy:"day"})]);i(e.campaigns),l(n)}catch(e){console.error("Failed to load ads data:",e)}finally{u(!1)}},S=()=>{h(!1),g(null),b({name:"",channel:"facebook",start_date:"",end_date:""})},j=()=>{p(!1),g(null),w([{date:"",impressions:0,clicks:0,spend:0,conversions:0}])},E=(e,t,n)=>{const r=[...y];r[e][t]="date"===t?n:parseFloat(n)||0,w(r)},k=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0),P=e=>new Intl.NumberFormat("en-US").format(e||0);return c?x.jsxDEV("div",{className:"flex items-center justify-center py-20",children:x.jsxDEV("div",{className:"w-8 h-8 border-2 border-primary-200 border-t-primary-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:162,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:161,columnNumber:7},void 0):x.jsxDEV("div",{className:"max-w-6xl mx-auto animate-fade-in",children:[x.jsxDEV("div",{className:"flex items-center justify-between mb-8",children:[x.jsxDEV("div",{className:"flex items-center gap-4",children:[x.jsxDEV(a,{to:`/project/${t}`,className:"icon-btn",children:x.jsxDEV(A,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:173,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:172,columnNumber:11},void 0),x.jsxDEV("div",{children:[x.jsxDEV("h1",{className:"text-xl font-bold text-surface-900",children:"Ads Report"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:176,columnNumber:13},void 0),x.jsxDEV("p",{className:"text-surface-500 text-sm",children:"Track your advertising performance"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:177,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:175,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:171,columnNumber:9},void 0),x.jsxDEV("button",{onClick:()=>h(!0),className:"btn-primary",children:[x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:181,columnNumber:11},void 0),"New Campaign"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:180,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:170,columnNumber:7},void 0),(null==o?void 0:o.totals)&&x.jsxDEV("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{icon:Z,label:"Impressions",value:P(o.totals.total_impressions),color:"text-blue-600",bg:"bg-blue-50"},{icon:ce,label:"Clicks",value:P(o.totals.total_clicks),sub:`CTR: ${o.totals.overall_ctr||0}%`,color:"text-purple-600",bg:"bg-purple-50"},{icon:X,label:"Spend",value:k(o.totals.total_spend),sub:`CPC: ${k(o.totals.overall_cpc)}`,color:"text-emerald-600",bg:"bg-emerald-50"},{icon:ye,label:"Conversions",value:P(o.totals.total_conversions),sub:`CPA: ${k(o.totals.overall_cpa)}`,color:"text-amber-600",bg:"bg-amber-50"}].map((e,t)=>x.jsxDEV("div",{className:"card p-5",children:[x.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[x.jsxDEV("div",{className:`p-2 rounded-lg ${e.bg}`,children:x.jsxDEV(e.icon,{className:`w-5 h-5 ${e.color}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:198,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:197,columnNumber:17},void 0),x.jsxDEV("span",{className:"text-surface-500 text-sm",children:e.label},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:200,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:196,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-2xl font-bold text-surface-900",children:e.value},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:202,columnNumber:15},void 0),e.sub&&x.jsxDEV("p",{className:"text-sm text-surface-500 mt-1",children:e.sub},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:203,columnNumber:27},void 0)]},t,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:195,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:188,columnNumber:9},void 0),(null==o?void 0:o.daily)&&o.daily.length>0&&x.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[x.jsxDEV("div",{className:"card p-6",children:[x.jsxDEV("h3",{className:"font-semibold text-surface-900 mb-4",children:"Performance Trend"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:213,columnNumber:13},void 0),x.jsxDEV(xh,{width:"100%",height:280,children:x.jsxDEV(SP,{data:o.daily,children:[x.jsxDEV(GE,{strokeDasharray:"3 3",stroke:"#e5e5e5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:216,columnNumber:17},void 0),x.jsxDEV(vk,{dataKey:"period",stroke:"#737373",fontSize:12},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:217,columnNumber:17},void 0),x.jsxDEV(Ek,{stroke:"#737373",fontSize:12},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:218,columnNumber:17},void 0),x.jsxDEV(Kd,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e5e5",borderRadius:"8px"}},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:219,columnNumber:17},void 0),x.jsxDEV(mu,{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:220,columnNumber:17},void 0),x.jsxDEV(ak,{type:"monotone",dataKey:"impressions",stroke:"#166534",strokeWidth:2,name:"Impressions"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:221,columnNumber:17},void 0),x.jsxDEV(ak,{type:"monotone",dataKey:"clicks",stroke:"#22c55e",strokeWidth:2,name:"Clicks"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:222,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:215,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:214,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:212,columnNumber:11},void 0),x.jsxDEV("div",{className:"card p-6",children:[x.jsxDEV("h3",{className:"font-semibold text-surface-900 mb-4",children:"Spend & Conversions"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:228,columnNumber:13},void 0),x.jsxDEV(xh,{width:"100%",height:280,children:x.jsxDEV(jP,{data:o.daily,children:[x.jsxDEV(GE,{strokeDasharray:"3 3",stroke:"#e5e5e5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:231,columnNumber:17},void 0),x.jsxDEV(vk,{dataKey:"period",stroke:"#737373",fontSize:12},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:232,columnNumber:17},void 0),x.jsxDEV(Ek,{stroke:"#737373",fontSize:12},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:233,columnNumber:17},void 0),x.jsxDEV(Kd,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e5e5",borderRadius:"8px"}},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:234,columnNumber:17},void 0),x.jsxDEV(mu,{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:235,columnNumber:17},void 0),x.jsxDEV(TS,{dataKey:"spend",fill:"#166534",name:"Spend ($)",radius:[4,4,0,0]},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:236,columnNumber:17},void 0),x.jsxDEV(TS,{dataKey:"conversions",fill:"#22c55e",name:"Conversions",radius:[4,4,0,0]},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:237,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:230,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:229,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:227,columnNumber:11},void 0),(null==(e=null==o?void 0:o.by_channel)?void 0:e.length)>0&&x.jsxDEV("div",{className:"card p-6 lg:col-span-2",children:[x.jsxDEV("h3",{className:"font-semibold text-surface-900 mb-4",children:"Performance by Channel"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:244,columnNumber:15},void 0),x.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxDEV(xh,{width:"100%",height:220,children:x.jsxDEV(EP,{children:[x.jsxDEV(vD,{data:o.by_channel,dataKey:"spend",nameKey:"channel",cx:"50%",cy:"50%",outerRadius:80,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,children:o.by_channel.map((e,t)=>x.jsxDEV(wh,{fill:kP[t%kP.length]},t,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:249,columnNumber:65},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:248,columnNumber:21},void 0),x.jsxDEV(Kd,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e5e5",borderRadius:"8px"}},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:251,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:247,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:246,columnNumber:17},void 0),x.jsxDEV("div",{className:"space-y-2",children:o.by_channel.map((e,t)=>x.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-surface-50 rounded-lg",children:[x.jsxDEV("div",{className:"flex items-center gap-3",children:[x.jsxDEV("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:kP[t%kP.length]}},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:258,columnNumber:25},void 0),x.jsxDEV("span",{className:"text-surface-700 capitalize text-sm",children:e.channel},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:259,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:257,columnNumber:23},void 0),x.jsxDEV("div",{className:"text-right",children:[x.jsxDEV("p",{className:"text-surface-900 font-medium text-sm",children:k(e.spend)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:262,columnNumber:25},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500",children:[P(e.conversions)," conv."]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:263,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:261,columnNumber:23},void 0)]},e.channel,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:256,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:254,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:245,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:243,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:211,columnNumber:9},void 0),x.jsxDEV("div",{className:"card",children:[x.jsxDEV("div",{className:"px-6 py-4 border-b border-surface-100",children:x.jsxDEV("h3",{className:"font-semibold text-surface-900",children:"Campaigns"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:277,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:276,columnNumber:9},void 0),0===n.length?x.jsxDEV("div",{className:"text-center py-12 px-6",children:[x.jsxDEV("p",{className:"text-surface-500 mb-4",children:"No campaigns yet"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:282,columnNumber:13},void 0),x.jsxDEV("button",{onClick:()=>h(!0),className:"btn-primary btn-sm",children:[x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:284,columnNumber:15},void 0),"Create First Campaign"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:283,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:281,columnNumber:11},void 0):x.jsxDEV("div",{className:"overflow-x-auto",children:x.jsxDEV("table",{className:"w-full",children:[x.jsxDEV("thead",{children:x.jsxDEV("tr",{className:"border-b border-surface-100 bg-surface-50",children:[x.jsxDEV("th",{className:"text-left py-3 px-6 text-sm font-medium text-surface-600",children:"Name"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:293,columnNumber:19},void 0),x.jsxDEV("th",{className:"text-left py-3 px-6 text-sm font-medium text-surface-600",children:"Channel"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:294,columnNumber:19},void 0),x.jsxDEV("th",{className:"text-right py-3 px-6 text-sm font-medium text-surface-600",children:"Impressions"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:295,columnNumber:19},void 0),x.jsxDEV("th",{className:"text-right py-3 px-6 text-sm font-medium text-surface-600",children:"Clicks"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:296,columnNumber:19},void 0),x.jsxDEV("th",{className:"text-right py-3 px-6 text-sm font-medium text-surface-600",children:"Spend"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:297,columnNumber:19},void 0),x.jsxDEV("th",{className:"text-right py-3 px-6 text-sm font-medium text-surface-600",children:"Conv."},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:298,columnNumber:19},void 0),x.jsxDEV("th",{className:"text-right py-3 px-6 text-sm font-medium text-surface-600",children:"Actions"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:299,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:292,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:291,columnNumber:15},void 0),x.jsxDEV("tbody",{children:n.map(e=>x.jsxDEV("tr",{className:"border-b border-surface-50 hover:bg-surface-50 transition-colors",children:[x.jsxDEV("td",{className:"py-3 px-6 text-surface-900 text-sm",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:305,columnNumber:21},void 0),x.jsxDEV("td",{className:"py-3 px-6",children:x.jsxDEV("span",{className:"badge badge-primary capitalize text-xs",children:e.channel},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:306,columnNumber:47},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:306,columnNumber:21},void 0),x.jsxDEV("td",{className:"py-3 px-6 text-right text-surface-600 text-sm",children:P(e.total_impressions)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:307,columnNumber:21},void 0),x.jsxDEV("td",{className:"py-3 px-6 text-right text-surface-600 text-sm",children:P(e.total_clicks)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:308,columnNumber:21},void 0),x.jsxDEV("td",{className:"py-3 px-6 text-right text-surface-600 text-sm",children:k(e.total_spend)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:309,columnNumber:21},void 0),x.jsxDEV("td",{className:"py-3 px-6 text-right text-surface-600 text-sm",children:P(e.total_conversions)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:310,columnNumber:21},void 0),x.jsxDEV("td",{className:"py-3 px-6 text-right",children:x.jsxDEV("div",{className:"flex items-center justify-end gap-1",children:[x.jsxDEV("button",{onClick:()=>(e=>{g(e),w([{date:"",impressions:0,clicks:0,spend:0,conversions:0}]),p(!0)})(e),className:"text-xs text-primary-700 hover:text-primary-800 font-medium px-2 py-1",children:"Add Metrics"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:313,columnNumber:25},void 0),x.jsxDEV("button",{onClick:()=>(e=>{var t,n;g(e),b({name:e.name,channel:e.channel,start_date:(null==(t=e.start_date)?void 0:t.split("T")[0])||"",end_date:(null==(n=e.end_date)?void 0:n.split("T")[0])||""}),h(!0)})(e),className:"icon-btn p-1",children:x.jsxDEV(he,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:314,columnNumber:101},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:314,columnNumber:25},void 0),x.jsxDEV("button",{onClick:()=>(async e=>{if(confirm("Delete this campaign and all its metrics?"))try{await D.deleteCampaign(e),M()}catch(t){console.error("Failed to delete campaign:",t)}})(e.id),className:"icon-btn p-1 text-red-500 hover:text-red-600",children:x.jsxDEV(xe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:315,columnNumber:140},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:315,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:312,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:311,columnNumber:21},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:304,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:302,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:290,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:289,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:275,columnNumber:7},void 0),d&&x.jsxDEV("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:x.jsxDEV("div",{className:"card w-full max-w-md animate-scale-in",children:[x.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-surface-100",children:[x.jsxDEV("h2",{className:"text-lg font-semibold text-surface-900",children:f?"Edit Campaign":"New Campaign"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:331,columnNumber:15},void 0),x.jsxDEV("button",{onClick:S,className:"icon-btn",children:x.jsxDEV(Se,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:332,columnNumber:73},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:332,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:330,columnNumber:13},void 0),x.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),v.name.trim()){N(!0);try{f?await D.updateCampaign(f.id,v):await D.createCampaign({project_id:parseInt(t),...v}),M(),S()}catch(n){console.error("Failed to save campaign:",n)}finally{N(!1)}}},className:"p-6 space-y-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Campaign Name"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:336,columnNumber:17},void 0),x.jsxDEV("input",{type:"text",value:v.name,onChange:e=>b({...v,name:e.target.value}),className:"input",placeholder:"Summer Sale Campaign",required:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:337,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:335,columnNumber:15},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Channel"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:340,columnNumber:17},void 0),x.jsxDEV("select",{value:v.channel,onChange:e=>b({...v,channel:e.target.value}),className:"input",children:PP.map(e=>x.jsxDEV("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:342,columnNumber:47},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:341,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:339,columnNumber:15},void 0),x.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Start Date"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:346,columnNumber:22},void 0),x.jsxDEV("input",{type:"date",value:v.start_date,onChange:e=>b({...v,start_date:e.target.value}),className:"input"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:346,columnNumber:65},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:346,columnNumber:17},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"End Date"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:347,columnNumber:22},void 0),x.jsxDEV("input",{type:"date",value:v.end_date,onChange:e=>b({...v,end_date:e.target.value}),className:"input"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:347,columnNumber:63},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:347,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:345,columnNumber:15},void 0),x.jsxDEV("div",{className:"flex gap-3 pt-2",children:[x.jsxDEV("button",{type:"button",onClick:S,className:"flex-1 btn-secondary",children:"Cancel"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:350,columnNumber:17},void 0),x.jsxDEV("button",{type:"submit",disabled:C,className:"flex-1 btn-primary",children:C?"Saving...":f?"Update":"Create"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:351,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:349,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:334,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:329,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:328,columnNumber:9},void 0),m&&x.jsxDEV("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto animate-fade-in",children:x.jsxDEV("div",{className:"card w-full max-w-3xl my-8 animate-scale-in",children:[x.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-surface-100",children:[x.jsxDEV("div",{children:[x.jsxDEV("h2",{className:"text-lg font-semibold text-surface-900",children:"Add Metrics"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:364,columnNumber:17},void 0),x.jsxDEV("p",{className:"text-sm text-surface-500",children:null==f?void 0:f.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:365,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:363,columnNumber:15},void 0),x.jsxDEV("button",{onClick:j,className:"icon-btn",children:x.jsxDEV(Se,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:367,columnNumber:72},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:367,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:362,columnNumber:13},void 0),x.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),!f)return;const t=y.filter(e=>e.date);if(0!==t.length){N(!0);try{await D.ingestMetrics(f.id,t),M(),j()}catch(n){console.error("Failed to ingest metrics:",n)}finally{N(!1)}}},className:"p-6",children:[x.jsxDEV("div",{className:"overflow-x-auto mb-4",children:x.jsxDEV("table",{className:"w-full text-sm",children:[x.jsxDEV("thead",{children:x.jsxDEV("tr",{className:"border-b border-surface-200",children:[x.jsxDEV("th",{className:"text-left py-2 px-2 font-medium text-surface-600",children:"Date"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:374,columnNumber:23},void 0),x.jsxDEV("th",{className:"text-left py-2 px-2 font-medium text-surface-600",children:"Impressions"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:375,columnNumber:23},void 0),x.jsxDEV("th",{className:"text-left py-2 px-2 font-medium text-surface-600",children:"Clicks"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:376,columnNumber:23},void 0),x.jsxDEV("th",{className:"text-left py-2 px-2 font-medium text-surface-600",children:"Spend ($)"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:377,columnNumber:23},void 0),x.jsxDEV("th",{className:"text-left py-2 px-2 font-medium text-surface-600",children:"Conversions"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:378,columnNumber:23},void 0),x.jsxDEV("th",{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:379,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:373,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:372,columnNumber:19},void 0),x.jsxDEV("tbody",{children:y.map((e,t)=>x.jsxDEV("tr",{children:[x.jsxDEV("td",{className:"py-2 px-2",children:x.jsxDEV("input",{type:"date",value:e.date,onChange:e=>E(t,"date",e.target.value),className:"input py-1.5 text-sm",required:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:385,columnNumber:51},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:385,columnNumber:25},void 0),x.jsxDEV("td",{className:"py-2 px-2",children:x.jsxDEV("input",{type:"number",value:e.impressions,onChange:e=>E(t,"impressions",e.target.value),className:"input py-1.5 text-sm",min:"0"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:386,columnNumber:51},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:386,columnNumber:25},void 0),x.jsxDEV("td",{className:"py-2 px-2",children:x.jsxDEV("input",{type:"number",value:e.clicks,onChange:e=>E(t,"clicks",e.target.value),className:"input py-1.5 text-sm",min:"0"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:387,columnNumber:51},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:387,columnNumber:25},void 0),x.jsxDEV("td",{className:"py-2 px-2",children:x.jsxDEV("input",{type:"number",value:e.spend,onChange:e=>E(t,"spend",e.target.value),className:"input py-1.5 text-sm",min:"0",step:"0.01"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:388,columnNumber:51},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:388,columnNumber:25},void 0),x.jsxDEV("td",{className:"py-2 px-2",children:x.jsxDEV("input",{type:"number",value:e.conversions,onChange:e=>E(t,"conversions",e.target.value),className:"input py-1.5 text-sm",min:"0"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:389,columnNumber:51},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:389,columnNumber:25},void 0),x.jsxDEV("td",{className:"py-2 px-2",children:y.length>1&&x.jsxDEV("button",{type:"button",onClick:()=>(e=>{y.length>1&&w(y.filter((t,n)=>n!==e))})(t),className:"icon-btn p-1 text-red-500",children:x.jsxDEV(xe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:390,columnNumber:177},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:390,columnNumber:78},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:390,columnNumber:25},void 0)]},t,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:384,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:382,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:371,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:370,columnNumber:15},void 0),x.jsxDEV("button",{type:"button",onClick:()=>{w([...y,{date:"",impressions:0,clicks:0,spend:0,conversions:0}])},className:"text-sm text-primary-700 hover:text-primary-800 font-medium flex items-center gap-1 mb-4",children:[x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:396,columnNumber:161},void 0),"Add Row"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:396,columnNumber:15},void 0),x.jsxDEV("div",{className:"flex gap-3",children:[x.jsxDEV("button",{type:"button",onClick:j,className:"flex-1 btn-secondary",children:"Cancel"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:398,columnNumber:17},void 0),x.jsxDEV("button",{type:"submit",disabled:C,className:"flex-1 btn-primary",children:C?"Saving...":"Save Metrics"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:399,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:397,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:369,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:361,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:360,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdsReport.jsx",lineNumber:168,columnNumber:5},void 0)},RP={create:x.jsxDEV(me,{className:"w-4 h-4 text-emerald-600"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:18,columnNumber:11},void 0),update:x.jsxDEV(de,{className:"w-4 h-4 text-amber-600"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:19,columnNumber:11},void 0),delete:x.jsxDEV(we,{className:"w-4 h-4 text-red-600"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:20,columnNumber:11},void 0)},AP=()=>{var e,t,n;const[i,o]=r.useState("logs"),[a,s]=r.useState([]),[l,c]=r.useState(null),[u,d]=r.useState([]),[h,m]=r.useState(!0),[p,f]=r.useState({page:1,totalPages:1,total:0}),[g,v]=r.useState({user_id:"",object_type:"",action:"",start_date:"",end_date:""});r.useEffect(()=>{b()},[i,p.page,g]);const b=async()=>{m(!0);try{if("logs"===i){const e=await D.getAuditLogs({page:p.page,limit:20,...g});s(e.data),f({page:e.pagination.page,totalPages:e.pagination.totalPages,total:e.pagination.total})}else if("stats"===i){const e=await D.getAuditStats();c(e)}else if("users"===i){const e=await D.getUsers();d(e.users)}}catch(e){console.error("Failed to load admin data:",e)}finally{m(!1)}},y=(e,t)=>{v({...g,[e]:t}),f({...p,page:1})},w=e=>{if(!e)return x.jsxDEV("span",{className:"text-surface-400",children:"-"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:65,columnNumber:26},void 0);let t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch{return x.jsxDEV("span",{className:"text-surface-400",children:"-"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:68,columnNumber:60},void 0)}return x.jsxDEV("pre",{className:"text-xs text-surface-600 bg-surface-50 p-2 rounded-lg overflow-x-auto max-w-md border border-surface-100",children:JSON.stringify(t,null,2)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:71,columnNumber:7},void 0)},C=[{id:"logs",label:"Audit Logs",icon:J},{id:"stats",label:"Statistics",icon:W},{id:"users",label:"Users",icon:De}];return x.jsxDEV("div",{className:"max-w-6xl mx-auto animate-fade-in",children:[x.jsxDEV("div",{className:"flex items-center gap-4 mb-8",children:[x.jsxDEV("div",{className:"p-3 rounded-xl bg-primary-100",children:x.jsxDEV(ve,{className:"w-6 h-6 text-primary-700"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:88,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:87,columnNumber:9},void 0),x.jsxDEV("div",{children:[x.jsxDEV("h1",{className:"text-xl font-bold text-surface-900",children:"Admin Panel"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:91,columnNumber:11},void 0),x.jsxDEV("p",{className:"text-surface-500 text-sm",children:"Monitor user activity and system logs"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:92,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:90,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:86,columnNumber:7},void 0),x.jsxDEV("div",{className:"flex gap-1 mb-6 border-b border-surface-200",children:C.map(e=>{const t=e.icon;return x.jsxDEV("button",{onClick:()=>{o(e.id),f({page:1,totalPages:1,total:0})},className:"flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 -mb-px transition-all "+(i===e.id?"border-primary-600 text-primary-700":"border-transparent text-surface-500 hover:text-surface-700 hover:border-surface-300"),children:[x.jsxDEV(t,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:110,columnNumber:15},void 0),e.label]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:101,columnNumber:13},void 0)})},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:97,columnNumber:7},void 0),"logs"===i&&x.jsxDEV("div",{className:"card",children:[x.jsxDEV("div",{className:"flex flex-wrap gap-4 p-6 border-b border-surface-100",children:[x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"block text-xs text-surface-500 mb-1",children:"Object Type"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:123,columnNumber:15},void 0),x.jsxDEV("select",{value:g.object_type,onChange:e=>y("object_type",e.target.value),className:"input py-1.5 text-sm w-32",children:[x.jsxDEV("option",{value:"",children:"All"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:125,columnNumber:17},void 0),x.jsxDEV("option",{value:"project",children:"Project"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:126,columnNumber:17},void 0),x.jsxDEV("option",{value:"mission",children:"Mission"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:127,columnNumber:17},void 0),x.jsxDEV("option",{value:"task",children:"Task"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:128,columnNumber:17},void 0),x.jsxDEV("option",{value:"comment",children:"Comment"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:129,columnNumber:17},void 0),x.jsxDEV("option",{value:"campaign",children:"Campaign"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:130,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:124,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:122,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"block text-xs text-surface-500 mb-1",children:"Action"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:134,columnNumber:15},void 0),x.jsxDEV("select",{value:g.action,onChange:e=>y("action",e.target.value),className:"input py-1.5 text-sm w-28",children:[x.jsxDEV("option",{value:"",children:"All"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:136,columnNumber:17},void 0),x.jsxDEV("option",{value:"create",children:"Create"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:137,columnNumber:17},void 0),x.jsxDEV("option",{value:"update",children:"Update"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:138,columnNumber:17},void 0),x.jsxDEV("option",{value:"delete",children:"Delete"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:139,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:135,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:133,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"block text-xs text-surface-500 mb-1",children:"Start Date"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:143,columnNumber:15},void 0),x.jsxDEV("input",{type:"date",value:g.start_date,onChange:e=>y("start_date",e.target.value),className:"input py-1.5 text-sm"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:144,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:142,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"block text-xs text-surface-500 mb-1",children:"End Date"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:147,columnNumber:15},void 0),x.jsxDEV("input",{type:"date",value:g.end_date,onChange:e=>y("end_date",e.target.value),className:"input py-1.5 text-sm"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:148,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:146,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:121,columnNumber:11},void 0),h?x.jsxDEV("div",{className:"flex items-center justify-center py-12",children:x.jsxDEV("div",{className:"w-8 h-8 border-2 border-primary-200 border-t-primary-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:154,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:153,columnNumber:13},void 0):0===a.length?x.jsxDEV("div",{className:"text-center py-12",children:[x.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-surface-100 flex items-center justify-center mx-auto mb-3",children:x.jsxDEV(J,{className:"w-6 h-6 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:159,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:158,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-surface-500",children:"No audit logs found"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:161,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:157,columnNumber:13},void 0):x.jsxDEV(x.Fragment,{children:[x.jsxDEV("div",{className:"overflow-x-auto",children:x.jsxDEV("table",{className:"w-full text-sm",children:[x.jsxDEV("thead",{children:x.jsxDEV("tr",{className:"border-b border-surface-100 bg-surface-50",children:[x.jsxDEV("th",{className:"text-left py-3 px-6 font-medium text-surface-600",children:"Time"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:169,columnNumber:23},void 0),x.jsxDEV("th",{className:"text-left py-3 px-6 font-medium text-surface-600",children:"User"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:170,columnNumber:23},void 0),x.jsxDEV("th",{className:"text-left py-3 px-6 font-medium text-surface-600",children:"Action"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:171,columnNumber:23},void 0),x.jsxDEV("th",{className:"text-left py-3 px-6 font-medium text-surface-600",children:"Object"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:172,columnNumber:23},void 0),x.jsxDEV("th",{className:"text-left py-3 px-6 font-medium text-surface-600",children:"Changes"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:173,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:168,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:167,columnNumber:19},void 0),x.jsxDEV("tbody",{children:a.map(e=>{return x.jsxDEV("tr",{className:"border-b border-surface-50 hover:bg-surface-50 transition-colors",children:[x.jsxDEV("td",{className:"py-3 px-6",children:x.jsxDEV("div",{className:"flex items-center gap-2 text-surface-500",children:[x.jsxDEV(K,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:181,columnNumber:29},void 0),(t=e.created_at,new Date(t).toLocaleString())]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:180,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:179,columnNumber:25},void 0),x.jsxDEV("td",{className:"py-3 px-6",children:x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(Oe,{user:{name:e.user_name,email:e.user_email},size:"sm"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:187,columnNumber:29},void 0),x.jsxDEV("div",{children:[x.jsxDEV("p",{className:"text-surface-900",children:e.user_name||"Unknown"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:189,columnNumber:31},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500",children:e.user_email},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:190,columnNumber:31},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:188,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:186,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:185,columnNumber:25},void 0),x.jsxDEV("td",{className:"py-3 px-6",children:x.jsxDEV("div",{className:"flex items-center gap-2",children:[RP[e.action],x.jsxDEV("span",{className:"text-surface-700 capitalize",children:e.action},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:197,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:195,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:194,columnNumber:25},void 0),x.jsxDEV("td",{className:"py-3 px-6",children:[x.jsxDEV("span",{className:"badge badge-default capitalize",children:e.object_type},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:201,columnNumber:27},void 0),x.jsxDEV("span",{className:"text-xs text-surface-500 ml-2",children:["#",e.object_id]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:202,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:200,columnNumber:25},void 0),x.jsxDEV("td",{className:"py-3 px-6",children:w(e.changes)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:204,columnNumber:25},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:178,columnNumber:23},void 0);var t})},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:176,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:166,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:165,columnNumber:15},void 0),x.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-t border-surface-100",children:[x.jsxDEV("p",{className:"text-sm text-surface-500",children:["Showing ",a.length," of ",p.total," logs"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:213,columnNumber:17},void 0),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("button",{onClick:()=>f({...p,page:p.page-1}),disabled:p.page<=1,className:"icon-btn disabled:opacity-50 disabled:cursor-not-allowed",children:x.jsxDEV(G,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:216,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:215,columnNumber:19},void 0),x.jsxDEV("span",{className:"text-sm text-surface-600",children:["Page ",p.page," of ",p.totalPages]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:218,columnNumber:19},void 0),x.jsxDEV("button",{onClick:()=>f({...p,page:p.page+1}),disabled:p.page>=p.totalPages,className:"icon-btn disabled:opacity-50 disabled:cursor-not-allowed",children:x.jsxDEV(z,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:220,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:219,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:214,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:212,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:164,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:119,columnNumber:9},void 0),"stats"===i&&x.jsxDEV("div",{className:"space-y-6",children:h?x.jsxDEV("div",{className:"flex items-center justify-center py-12",children:x.jsxDEV("div",{className:"w-8 h-8 border-2 border-primary-200 border-t-primary-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:233,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:232,columnNumber:13},void 0):l&&x.jsxDEV(x.Fragment,{children:[x.jsxDEV("div",{className:"card p-6",children:[x.jsxDEV("h3",{className:"font-semibold text-surface-900 mb-4",children:"Most Active Users (Last 7 Days)"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:239,columnNumber:17},void 0),x.jsxDEV("div",{className:"space-y-2",children:null==(e=l.top_users)?void 0:e.map((e,t)=>x.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-surface-50 rounded-lg",children:[x.jsxDEV("div",{className:"flex items-center gap-3",children:[x.jsxDEV("span",{className:"text-lg font-bold text-surface-400 w-6",children:["#",t+1]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:244,columnNumber:25},void 0),x.jsxDEV(Oe,{user:e,size:"md"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:245,columnNumber:25},void 0),x.jsxDEV("div",{children:[x.jsxDEV("p",{className:"font-medium text-surface-900 text-sm",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:247,columnNumber:27},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500",children:e.email},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:248,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:246,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:243,columnNumber:23},void 0),x.jsxDEV("div",{className:"text-right",children:[x.jsxDEV("p",{className:"font-bold text-surface-900",children:e.action_count},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:252,columnNumber:25},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500",children:"actions"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:253,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:251,columnNumber:23},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:242,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:240,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:238,columnNumber:15},void 0),x.jsxDEV("div",{className:"card p-6",children:[x.jsxDEV("h3",{className:"font-semibold text-surface-900 mb-4",children:"Actions by Type"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:262,columnNumber:17},void 0),x.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:null==(t=l.by_action)?void 0:t.map(e=>x.jsxDEV("div",{className:"bg-surface-50 p-4 rounded-lg border border-surface-100",children:[x.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[RP[e.action],x.jsxDEV("span",{className:"text-sm text-surface-700 capitalize",children:e.action},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:268,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:266,columnNumber:23},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500 capitalize",children:e.object_type},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:270,columnNumber:23},void 0),x.jsxDEV("p",{className:"text-xl font-bold text-surface-900 mt-1",children:e.count},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:271,columnNumber:23},void 0)]},`${e.action}-${e.object_type}`,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:265,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:263,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:261,columnNumber:15},void 0),x.jsxDEV("div",{className:"card p-6",children:[x.jsxDEV("h3",{className:"font-semibold text-surface-900 mb-4",children:"Daily Activity (Last 7 Days)"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:279,columnNumber:17},void 0),x.jsxDEV("div",{className:"flex items-end gap-2 h-32",children:null==(n=l.daily_activity)?void 0:n.map(e=>{const t=Math.max(...l.daily_activity.map(e=>e.count)),n=t>0?e.count/t*100:0;return x.jsxDEV("div",{className:"flex-1 flex flex-col items-center gap-2",children:[x.jsxDEV("div",{className:"w-full bg-primary-600 rounded-t-md transition-all duration-300",style:{height:`${n}%`,minHeight:"4px"}},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:286,columnNumber:25},void 0),x.jsxDEV("span",{className:"text-xs text-surface-500",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short"})},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:287,columnNumber:25},void 0),x.jsxDEV("span",{className:"text-xs font-medium text-surface-700",children:e.count},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:288,columnNumber:25},void 0)]},e.date,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:285,columnNumber:23},void 0)})},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:280,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:278,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:236,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:230,columnNumber:9},void 0),"users"===i&&x.jsxDEV("div",{className:"card",children:[x.jsxDEV("div",{className:"px-6 py-4 border-b border-surface-100",children:x.jsxDEV("h3",{className:"font-semibold text-surface-900",children:"All Users"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:302,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:301,columnNumber:11},void 0),h?x.jsxDEV("div",{className:"flex items-center justify-center py-12",children:x.jsxDEV("div",{className:"w-8 h-8 border-2 border-primary-200 border-t-primary-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:307,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:306,columnNumber:13},void 0):x.jsxDEV("div",{className:"overflow-x-auto",children:x.jsxDEV("table",{className:"w-full text-sm",children:[x.jsxDEV("thead",{children:x.jsxDEV("tr",{className:"border-b border-surface-100 bg-surface-50",children:[x.jsxDEV("th",{className:"text-left py-3 px-6 font-medium text-surface-600",children:"User"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:314,columnNumber:21},void 0),x.jsxDEV("th",{className:"text-left py-3 px-6 font-medium text-surface-600",children:"Email"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:315,columnNumber:21},void 0),x.jsxDEV("th",{className:"text-left py-3 px-6 font-medium text-surface-600",children:"Role"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:316,columnNumber:21},void 0),x.jsxDEV("th",{className:"text-left py-3 px-6 font-medium text-surface-600",children:"Joined"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:317,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:313,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:312,columnNumber:17},void 0),x.jsxDEV("tbody",{children:u.map(e=>x.jsxDEV("tr",{className:"border-b border-surface-50 hover:bg-surface-50 transition-colors",children:[x.jsxDEV("td",{className:"py-3 px-6",children:x.jsxDEV("div",{className:"flex items-center gap-3",children:[x.jsxDEV(Oe,{user:e,size:"md"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:325,columnNumber:27},void 0),x.jsxDEV("span",{className:"text-surface-900",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:326,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:324,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:323,columnNumber:23},void 0),x.jsxDEV("td",{className:"py-3 px-6 text-surface-600",children:e.email},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:329,columnNumber:23},void 0),x.jsxDEV("td",{className:"py-3 px-6",children:x.jsxDEV("span",{className:"badge capitalize "+("admin"===e.role?"badge-warning":"badge-default"),children:e.role},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:331,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:330,columnNumber:23},void 0),x.jsxDEV("td",{className:"py-3 px-6 text-surface-600",children:new Date(e.created_at).toLocaleDateString()},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:333,columnNumber:23},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:322,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:320,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:311,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:310,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:300,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/AdminPanel.jsx",lineNumber:84,columnNumber:5},void 0)};let OP=0;const TP=()=>{const[e,t]=r.useState([]),n=r.useCallback((e,n="info",r=3e3)=>{const i=++OP,o={id:i,message:e,type:n,duration:r};return t(e=>[...e,o]),i},[]),i=r.useCallback(e=>{t(t=>t.filter(t=>t.id!==e))},[]),o=r.useCallback((e,t)=>n(e,"success",t),[n]),a=r.useCallback((e,t)=>n(e,"error",t),[n]),s=r.useCallback((e,t)=>n(e,"info",t),[n]);return{toasts:e,addToast:n,removeToast:i,success:o,error:a,info:s}},VP=({message:e,type:t="info",onClose:n,duration:i=3e3})=>{r.useEffect(()=>{if(i>0){const e=setTimeout(()=>{n()},i);return()=>clearTimeout(e)}},[i,n]);const o={success:B,error:R,info:te},a=o[t]||o.info;return x.jsxDEV("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border shadow-elevated animate-slide-down ${{success:"bg-emerald-50 text-emerald-700 border-emerald-200",error:"bg-red-50 text-red-700 border-red-200",info:"bg-primary-50 text-primary-700 border-primary-200"}[t]}`,role:"alert",children:[x.jsxDEV(a,{className:"w-5 h-5 flex-shrink-0"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Toast.jsx",lineNumber:33,columnNumber:7},void 0),x.jsxDEV("p",{className:"text-sm font-medium flex-1",children:e},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Toast.jsx",lineNumber:34,columnNumber:7},void 0),x.jsxDEV("button",{onClick:n,className:"flex-shrink-0 p-1 rounded hover:bg-black/10 transition-colors","aria-label":"Close",children:x.jsxDEV(Se,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Toast.jsx",lineNumber:40,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Toast.jsx",lineNumber:35,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Toast.jsx",lineNumber:29,columnNumber:5},void 0)},FP=({toasts:e,removeToast:t})=>x.jsxDEV("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-md",children:e.map(e=>x.jsxDEV(VP,{message:e.message,type:e.type,onClose:()=>t(e.id),duration:e.duration},e.id,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/ToastContainer.jsx",lineNumber:8,columnNumber:9},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/ToastContainer.jsx",lineNumber:6,columnNumber:5},void 0);var IP=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const r=t?this.allAsyncListeners:this.allSyncListeners;let i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const r=this.getListeners(e,n,!1);r&&(r.delete(t),0===r.size&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const t=e.event;t instanceof Event&&(e.eventPath=t.composedPath())}const{frameworkOverrides:r}=this,i=e=>{const n=r?()=>r.wrapIncoming(e):e;t?this.dispatchAsync(n):n()},o=this.getListeners(n,t,!1);if(((null==o?void 0:o.size)??0)>0){const t=new Set(o);for(const n of t)(null==o?void 0:o.has(n))&&i(()=>n(e))}const a=this.getGlobalListeners(t);if(a.size>0){const t=new Set(a);for(const r of t)i(()=>r(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const e=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(e):e(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];for(const t of e)t()}};function LP(e){return null==e||""===e?null:e}function BP(e){return null!=e&&""!==e}function HP(e){return!BP(e)}function _P(e){return null!=e&&"function"==typeof e.toString?e.toString():null}function GP(e,t,n=!1){const r=null==e,i=null==t;if((null==e?void 0:e.toNumber)&&(e=e.toNumber()),(null==t?void 0:t.toNumber)&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function o(e,t){return e>t?1:e<t?-1:0}if("string"!=typeof e)return o(e,t);if(!n)return o(e,t);try{return e.localeCompare(t)}catch(a){return o(e,t)}}var zP=/[&<>"']/g,$P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function UP(e){return(null==e?void 0:e.toString().toString())??null}function KP(e){var t;return(null==(t=UP(e))?void 0:t.replace(zP,e=>$P[e]))??null}function qP(e){return e.eRootDiv.getRootNode()}function XP(e){return qP(e).activeElement}function YP(e){const{gos:t,eRootDiv:n}=e;let r=null;const i=t.get("getDocument");return i&&BP(i)?r=i():n&&(r=n.ownerDocument),r&&BP(r)?r:document}function ZP(e){return YP(e).defaultView||window}function JP(e){let t=null,n=null;try{t=YP(e).fullscreenElement}catch(r){}finally{t||(t=qP(e));const r=t.querySelector("body");n=r||(t instanceof ShadowRoot?t:t instanceof Document?null==t?void 0:t.documentElement:t)}return n}function QP(e,t,n){null==n||"string"==typeof n&&""==n?tW(e,t):eW(e,t,n)}function eW(e,t,n){e.setAttribute(nW(t),n.toString())}function tW(e,t){e.removeAttribute(nW(t))}function nW(e){return`aria-${e}`}function rW(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function iW(e,t){QP(e,"label",t)}function oW(e,t){QP(e,"labelledby",t)}function aW(e,t){QP(e,"live",t)}function sW(e,t){QP(e,"invalid",t)}function lW(e,t){QP(e,"hidden",t)}function cW(e,t){eW(e,"colindex",t)}var uW="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function dW(e){if(!e)return!1;if(!e.matches("input, select, button, textarea"))return!1;return!!e.matches(uW)&&NW(e)}function hW(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-hidden",!t),r||lW(e,!t)}function mW(e,t){const n="disabled",r=t?e=>e.setAttribute(n,""):e=>e.removeAttribute(n);r(e);const i=e.querySelectorAll("input")??[];for(const o of i)r(o)}function pW(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof n){if(++r>n)break}else if(e===n)break}return!1}function fW(e){const{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:o,borderLeftWidth:a,paddingTop:s,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:d,marginRight:h,marginBottom:m,marginLeft:p,boxSizing:f}=window.getComputedStyle(e),g=Number.parseFloat;return{height:g(t||"0"),width:g(n||"0"),borderTopWidth:g(r||"0"),borderRightWidth:g(i||"0"),borderBottomWidth:g(o||"0"),borderLeftWidth:g(a||"0"),paddingTop:g(s||"0"),paddingRight:g(l||"0"),paddingBottom:g(c||"0"),paddingLeft:g(u||"0"),marginTop:g(d||"0"),marginRight:g(h||"0"),marginBottom:g(m||"0"),marginLeft:g(p||"0"),boxSizing:f}}function gW(e){const t=fW(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom-t.borderTopWidth-t.borderBottomWidth:t.height}function vW(e){const t=fW(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight-t.borderLeftWidth-t.borderRightWidth:t.width}function bW(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function yW(e,t,n){n&&(t*=-1),e.scrollLeft=t}function xW(e){for(;null==e?void 0:e.firstChild;)e.firstChild.remove()}function wW(e){(null==e?void 0:e.parentNode)&&e.remove()}function CW(e){return!!e.offsetParent}function NW(e){if(e.checkVisibility)return e.checkVisibility({checkVisibilityCSS:!0});return!(!CW(e)||"visible"!==window.getComputedStyle(e).visibility)}function MW(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function DW(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):SW(e,t)}function SW(e,t){t=EW(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function jW(e,t){t=EW(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function EW(e){return"number"==typeof e?`${e}px`:e}function kW(e){return e instanceof Node||e instanceof HTMLElement}function PW(e,t,n){null==n||""===n?e.removeAttribute(t):e.setAttribute(t,n.toString())}function WW(e,t,n){const r=ZP(e).ResizeObserver,i=r?new r(n):null;return null==i||i.observe(t),()=>null==i?void 0:i.disconnect()}function RW(e,t){const n=ZP(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var AW,OW="data-ref";function TW(){return AW??(AW=document.createTextNode(" ")),AW.cloneNode()}function VW(e){const{attrs:t,children:n,cls:r,ref:i,role:o,tag:a}=e,s=document.createElement(a);if(r&&(s.className=r),i&&s.setAttribute(OW,i),o&&s.setAttribute("role",o),t)for(const l of Object.keys(t))s.setAttribute(l,t[l]);if(n)if("string"==typeof n)s.textContent=n;else{let e=!0;for(const t of n)t&&("string"==typeof t?(s.appendChild(document.createTextNode(t)),e=!1):"function"==typeof t?s.appendChild(t()):(e&&(s.appendChild(TW()),e=!1),s.append(VW(t)),s.appendChild(TW())))}return s}var FW=["touchstart","touchend","touchmove","touchcancel","scroll"],IW=["wheel"],LW={},BW=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t=>{if("boolean"==typeof LW[t])return LW[t];const n=document.createElement(e[t]||"div");return LW[t="on"+t]=t in n}})();var HW=e=>{const t=FW.includes(e),n=IW.includes(e);return!!t||!n&&void 0};function _W(e,t,n){if(0===n)return!1;const r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}var GW=(e,t)=>{const n=e.identifier;for(let r=0,i=t.length;r<i;++r){const e=t[r];if(e.identifier===n)return e}return null};function zW(e,t){return e.gos.isElementInThisInstance(t.target)}function $W(e,t,n){const r=e.getBoundingClientRect().height,i=function(e){const t=JP(e);return(null==t?void 0:t.clientWidth)??(window.innerWidth||-1)}(n)-2,o=function(e){const t=JP(e);return(null==t?void 0:t.clientHeight)??(window.innerHeight||-1)}(n)-2;if(!e.offsetParent)return;const a=function(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:o}=fW(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(o||0)}}(e.offsetParent),{clientY:s,clientX:l}=t;let c=s-a.top-r/2,u=l-a.left-10;const d=YP(n),h=d.defaultView||window,m=h.pageYOffset||d.documentElement.scrollTop,p=h.pageXOffset||d.documentElement.scrollLeft;i>0&&u+e.clientWidth>i+p&&(u=i+p-e.clientWidth),u<0&&(u=0),o>0&&c+e.clientHeight>o+m&&(c=o+m-e.clientHeight),c<0&&(c=0),e.style.left=`${u}px`,e.style.top=`${c}px`}var UW=(e,...t)=>{for(const n of t){const[t,r,i,o]=n;t.addEventListener(r,i,o),e.push(n)}},KW=e=>{if(e){for(const[t,n,r,i]of e)t.removeEventListener(n,r,i);e.length=0}},qW=e=>{e.cancelable&&e.preventDefault()};function XW(e,t){return t}function YW(e){return(null==e?void 0:e.getLocaleTextFunc())??XW}var ZW=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new IP),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){var r;null==(r=this.localEventService)||r.removeEventListener(e,t,n)}dispatchLocalEvent(e){var t;null==(t=this.localEventService)||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const r of Object.keys(t)){const i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;if(function(e){return void 0!==e.__addEventListener}(e))e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null);else{const i=function(e){return"global"===e.eventServiceType}(e);e instanceof HTMLElement?function(e,t,n){const r=HW(t);let i;null!=r&&(i={passive:r}),e.addEventListener(t,n,i)}(e,t,n):i?e.addListener(t,n):e.addEventListener(t,n),r=i?()=>(e.removeListener(t,n),null):()=>(e.removeEventListener(t,n),null)}return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(e=>e!==r),null)}setupPropertyListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(e=>e!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupPropertyListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,r=e=>{if(e.changeSet){if(e.changeSet&&e.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=e.changeSet.id}const r={type:"propertyChanged",changeSet:e.changeSet,source:e.source};t(r)};for(const i of e)this.setupPropertyListener(i,r)}getLocaleTextFunc(){return YW(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};var JW=class extends ZW{},QW={};function eR(e,t){QW[t]||(e(),QW[t]=!0)}var tR={pending:!1,funcs:[]},nR={pending:!1,funcs:[]};function rR(e,t="setTimeout",n){const r="raf"===t?nR:tR;if(r.funcs.push(e),r.pending)return;r.pending=!0;const i=()=>{const e=r.funcs.slice();r.funcs.length=0,r.pending=!1;for(const t of e)t()};"raf"===t?RW(n,i):window.setTimeout(i,0)}function iR(e,t,n){let r;return function(...i){const o=this;window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(o,i)},n)}}function oR(e,t){let n=0;return function(...r){const i=Date.now();i-n<t||(n=i,e.apply(this,r))}}var aR=new Set(["__proto__","constructor","prototype"]);function sR(e,t,n=!0,r=!1){BP(t)&&function(e,t){if(null!=e)if(Array.isArray(e))for(let n=0;n<e.length;n++)t(n.toString(),e[n]);else for(const n of Object.keys(e).filter(e=>!aR.has(e)))t(n,e[n])}(t,(t,i)=>{let o=e[t];if(o!==i){if(r){if(null==o&&null!=i){"object"==typeof i&&i.constructor===Object&&(o={},e[t]=o)}}lR(i)&&lR(o)&&!Array.isArray(o)?sR(o,i,n,r):(n||void 0!==i)&&(e[t]=i)}})}function lR(e){return"object"==typeof e&&null!==e}var cR=class e{static applyGlobalGridOptions(t){if(!e.gridOptions)return{...t};let n={};return sR(n,e.gridOptions,!0,!0),"deep"===e.mergeStrategy?sR(n,t,!0,!0):n={...n,...t},e.gridOptions.context&&(n.context=e.gridOptions.context),t.context&&("deep"===e.mergeStrategy&&n.context&&sR(t.context,n.context,!0,!0),n.context=t.context),n}static applyGlobalGridOption(t,n){if("deep"===e.mergeStrategy){const r=dR(t);if(r&&"object"==typeof r&&"object"==typeof n)return e.applyGlobalGridOptions({[t]:n})[t]}return n}};cR.gridOptions=void 0,cR.mergeStrategy="shallow";var uR=cR;function dR(e){var t;return null==(t=uR.gridOptions)?void 0:t[e]}var hR={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1},mR="https://www.ag-grid.com";function pR(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function fR(e,...t){eR(()=>console.warn("AG Grid: "+e,...t),e+(null==t?void 0:t.join("")))}function gR(e,...t){eR(()=>console.error("AG Grid: "+e,...t),e+(null==t?void 0:t.join("")))}var vR,bR=new Set,yR={},xR={},wR=!1,CR=!1;function NR(e){var t;vR||(vR=e.version);const n=e=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${e} Please update all modules to the same version.`;e.version?function(e){const[t,n]=e.version.split(".")||[],[r,i]=vR.split(".")||[];return t===r&&n===i}(e)||gR(n(`'${e.moduleName}' is version ${e.version} but the other modules are version ${vR}.`)):gR(n(`'${e.moduleName}' is incompatible.`));const r=null==(t=e.validate)?void 0:t.call(e);r&&!r.isValid&&gR(`${r.message}`)}function MR(e,t,n=!1){n||(wR=!0),NR(e);const r=e.rowModels??["all"];let i;bR.add(e),void 0!==t?(CR=!0,void 0===xR[t]&&(xR[t]={}),i=xR[t]):i=yR;for(const o of r)void 0===i[o]&&(i[o]={}),i[o][e.moduleName]=e;if(e.dependsOn)for(const o of e.dependsOn)MR(o,t,n)}function DR(e,t,n){const r=n=>{var r,i,o;return!!(null==(r=yR[n])?void 0:r[e])||!!(null==(o=null==(i=xR[t])?void 0:i[n])?void 0:o[e])};return r(n)||r("all")}function SR(){return CR}var jR="34.3.1",ER="_version_",kR=`${mR}/javascript-data-grid`;function PR(e,t,n){return[TR(e,t,n)]}function WR(e,t,n,r,i){e(`${r?"warning":"error"} #${t}`,...PR(t,n,i))}function RR(e){let t=e;return e instanceof Error?t=e.toString():"object"==typeof e&&(t=function(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))"object"!=typeof e[n]&&"function"!=typeof e[n]&&(t[n]=e[n]);return JSON.stringify(t)}(e)),t}function AR(e,t){return`${e}?${t.toString()}`}function OR(e,t){const n=new URLSearchParams;if(n.append(ER,jR),t)for(const o of Object.keys(t))n.append(o,RR(t[o]));const r=`${kR}/errors/${e}`,i=AR(r,n);return i.length<=2e3?i:function(e,t,n){const r=Array.from(t.entries()).sort((e,t)=>t[1].length-e[1].length);let i=AR(e,t);for(const[o,a]of r){if(o===ER)continue;const r=i.length-n;if(r<=0)break;const s="...",l=r+s.length,c=a.length-l>100?a.slice(0,a.length-l)+s:a.slice(0,100)+s;t.set(o,c),i=AR(e,t)}return i}(r,n,2e3)}var TR=(e,t,n)=>`${`${n?n+" \n":""}Visit ${OR(e,t)}`}${n?"":" \n  Alternatively register the ValidationModule to see the full message in the console."}`;function VR(...e){WR(fR,e[0],e[1],!0)}function FR(...e){WR(gR,e[0],e[1],!1)}function IR(e,t,n){WR(gR,e,t,!1,n)}function LR(...e){return function(e,t){const n=t[0];return`error #${n} `+PR(n,t[1],e).join(" ")}(void 0,e)}function BR(e,t){return e.get("rowModelType")===t}function HR(e,t){return BR(e,"clientSide")}function _R(e,t){return BR(e,"serverSide")}function GR(e,t){return e.get("domLayout")===t}function zR(e){return void 0!==function(e){const t="beanName"in e&&"gos"===e.beanName?e.get("rowSelection"):e.rowSelection;if("string"==typeof t)switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(null==t?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}(e)}function $R(e){return"function"==typeof e.get("getRowHeight")}function UR(e,t,n=!1,r){const{gos:i,environment:o}=e;if(null==r&&(r=o.getDefaultRowHeight()),$R(i)){if(n)return{height:r,estimated:!0};const e={node:t,data:t.data},o=i.getCallback("getRowHeight")(e);if(qR(o))return 0===o&&VR(23),{height:Math.max(1,o),estimated:!1}}if(t.detail&&i.get("masterDetail"))return function(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");if(qR(t))return{height:t,estimated:!1};return{height:300,estimated:!1}}(i);const a=i.get("rowHeight");return{height:a&&qR(a)?a:r,estimated:!1}}function KR(e){const{environment:t,gos:n}=e,r=n.get("rowHeight");if(!r||HP(r))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return-1!==i?i:(VR(24),t.getDefaultRowHeight())}function qR(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)}function XR(e,t,n){const r=t[e.getDomDataKey()];return r?r[n]:void 0}function YR(e,t,n,r){const i=e.getDomDataKey();let o=t[i];HP(o)&&(o={},t[i]=o),o[n]=r}function ZR(e){return!e.get("ensureDomOrder")&&e.get("animateRows")}function JR(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||GR(e,"print"))}function QR(e){const t=e.get("autoGroupColumnDef");return!(null==t?void 0:t.comparator)&&!e.get("treeData")}function eA(e,t){return!t&&"groupRows"===e.get("groupDisplayType")}function tA(e){const t=e.get("cellSelection");return void 0!==t?!!t:e.get("enableRangeSelection")}function nA(e,t=!0){const n=e.get("rowSelection");return"object"!=typeof n?t?"all":void 0:"multiRow"===n.mode?n.selectAll:"all"}function rA(e){return"legacy"===e.get("columnMenu")}function iA(e,t){return e.addCommon(t)}function oA(e,t){var n;return e[t]??(null==(n=e.gridOptions)?void 0:n[t])??dR(t)??hR[t]}function aA({gos:e},t){return 2===t.button||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var sA={resizable:!0,sortable:!0},lA=0;function cA(){return lA++}function uA(e){return e instanceof dA}var dA=class extends JW{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=cA(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new IP,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=KP(n)}destroy(){var e;super.destroy(),null==(e=this.beans.rowSpanSvc)||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;null==t||t.initCol(this);const i=e.hide;this.visible=void 0!==i?!i:!e.initialHide,null==n||n.initCol(this),null==r||r.initCol(this)}setColDef(e,t,n){var r;const i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&(null==(r=this.beans.rowSpanSvc)||r.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get("suppressFieldDotNotation");this.fieldContainsDots=BP(t)&&t.includes(".")&&!r,this.tooltipFieldContainsDots=BP(n)&&n.includes(".")&&!r}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;null==(e=this.beans.tooltipSvc)||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&(null==(e=this.beans.rowSpanSvc)||e.register(this))}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;e&&t&&this.addManagedListeners(t,{colDefChanged:t=>{const n=e.recreateColDef(this.colDef);this.setColDef(n,n,t.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,r=e.initialWidth;return t=null!=n?n:null!=r?r:200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return(null==(t=this.beans.showRowGroupCols)?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var n,r,i;this.frameworkEventListenerService=null==(r=(n=this.beans.frameworkOverrides).createLocalEventListenerWrapper)?void 0:r.call(n,this.frameworkEventListenerService,this.colEventSvc);const o=(null==(i=this.frameworkEventListenerService)?void 0:i.wrap(e,t))??t;this.colEventSvc.addEventListener(e,o)}removeEventListener(e,t){var n;const r=(null==(n=this.frameworkEventListenerService)?void 0:n.unwrap(e,t))??t;this.colEventSvc.removeEventListener(e,r)}createColumnFunctionCallbackParams(e){return iA(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return(null==(t=this.beans.cellNavigation)?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return(null==(t=this.beans.editSvc)?void 0:t.isCellEditable({rowNode:e,column:this}))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return(null==(t=this.beans.selectionSvc)?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,(null==(t=this.colDef)?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??sA[e]}isColumnFunc(e,t){if("boolean"==typeof t)return t;if("function"==typeof t){return t(this.createColumnFunctionCallbackParams(e))}return!1}createColumnEvent(e,t){return iA(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return HP(this.sort)}isSorting(){return BP(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return VR(261),!!(null==(e=this.beans.colHover)?void 0:e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,t){const n=!0===e;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;null==e?void 0:e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!(null==e?void 0:e.isPadding()))return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return iA(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(HP(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(HP(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,null!=this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}dispatchColEvent(e,t,n){const r=this.createColumnEvent(e,t);n&&sR(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function hA(e){return e instanceof mA}var mA=class extends JW{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=cA(),this.expandableListenerRemoveCallback=null,this.expanded=!!(null==e?void 0:e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(e=>e.isVisible())}isPadding(){return this.padding}setExpanded(e){this.expanded=void 0!==e&&e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)uA(t)?e(t):hA(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){if(this.children)for(const t of this.children)uA(t)?e.push(t):hA(t)&&t.addLeafColumns(e)}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);for(const t of this.getLeafColumns())t.__addEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=()=>{for(const t of this.getLeafColumns())t.__removeEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let o=0,a=r.length;o<a;o++){const i=r[o];if(!i.isVisible())continue;const a=i.getColumnGroupShow();"open"===a?(e=!0,n=!0):"closed"===a?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{for(const r of n){hA(r)&&r.isPadding()?t(r.children):e.push(r)}};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},pA={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function fA(e,t,n){const r={},i=e.gos;return Object.assign(r,i.get("defaultColGroupDef")),Object.assign(r,t),i.validateColDef(r,n),r}var gA=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=_P(e);let n=0;for(;;){let r=e??t;if(r?0!==n&&(r+="_"+n):r=n,!this.existingKeys[r]){const t=String(r);return e&&n>0&&VR(273,{providedId:e,usedId:t}),this.existingKeys[t]=!0,t}n++}}};function vA(e){if(null==e?void 0:e.length)return e[e.length-1]}function bA(e,t,n){if(e===t)return!0;if(!e||!t)return null==e&&null==t;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function yA(e,t){if(e)for(const n of e)t(n)}function xA(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function wA(e,t,n){for(let r=0;r<t.length;r++)xA(e,t[r]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var CA="ag-Grid-AutoColumn";function NA(e){return e.reduce((e,t)=>e+t.getActualWidth(),0)}function MA(e,t,n){const r={};if(!t)return;FA(null,t,e=>{r[e.getInstanceId()]=e}),n&&FA(null,n,e=>{r[e.getInstanceId()]=null});const i=Object.values(r).filter(e=>null!=e);e.context.destroyBeans(i)}function DA(e){const t="string"==typeof e?e:"getColId"in e?e.getColId():e.colId;return(null==t?void 0:t.startsWith("ag-Grid-SelectionColumn"))??!1}function SA(e){const t="string"==typeof e?e:"getColId"in e?e.getColId():e.colId;return(null==t?void 0:t.startsWith("ag-Grid-RowNumbersColumn"))??!1}function jA(e){let t=[];return e instanceof Array?t=e:"string"==typeof e&&(t=e.split(",")),t}function EA(e){return"optionsUpdated"===e?"gridOptionsChanged":e}function kA(e,t){const n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}var PA=(e,t)=>{hA(e)&&e.setupExpandable(),e.originalParent=t};function WA(e,t=null,n,r,i){const o=new gA,{existingCols:a,existingGroups:s,existingColKeys:l}=function(e){const t=[],n=[],r=[];e&&FA(null,e,e=>{if(hA(e)){const t=e;n.push(t)}else{const n=e;r.push(n.getId()),t.push(n)}});return{existingCols:t,existingGroups:n,existingColKeys:r}}(r);o.addExistingKeys(l);const c=RA(e,t,0,n,a,o,s,i),{colGroupSvc:u}=e,d=(null==u?void 0:u.findMaxDepth(c,0))??0,h=u?u.balanceColumnTree(c,0,d,o):c;return FA(null,h,PA),{columnTree:h,treeDepth:d}}function RA(e,t,n,r,i,o,a,s){if(!t)return[];const{colGroupSvc:l}=e,c=new Array(t.length);for(let u=0;u<c.length;u++){const d=t[u];l&&VA(d)?c[u]=l.createProvidedColumnGroup(r,d,n,i,o,a,s):c[u]=AA(e,r,d,i,o,s)}return c}function AA(e,t,n,r,i,o){var a;const s=function(e,t){if(!t)return;for(let n=0;n<t.length;n++){const r=t[n].getUserProvidedColDef();if(!r)continue;if(null!=e.colId){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(null!=e.field){if(r.field===e.field)return{idx:n,column:t[n]}}else if(r===e)return{idx:n,column:t[n]}}return}(n,r);s&&(null==r||r.splice(s.idx,1));let l=null==s?void 0:s.column;if(l){const t=TA(e,n,l.getColId());l.setColDef(t,n,o),function(e,t,n,r){OA(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);const i=t.getFlex();if(null!=i&&i>0)return;if(null!=n.width)t.setActualWidth(n.width,r);else{const e=t.getActualWidth();t.setActualWidth(e,r)}}(e,l,t,o)}else{const r=i.getUniqueKey(n.colId,n.field),o=TA(e,n,r);l=new dA(o,n,r,t),e.context.createBean(l)}return null==(a=e.dataTypeSvc)||a.addColumnListeners(l),l}function OA(e,t,n,r,i,o,a,s){const{sortSvc:l,pinnedCols:c,colFlex:u}=e;void 0!==n&&t.setVisible(!n,s),l&&(l.updateColSort(t,r,s),void 0!==i&&l.setColSortIndex(t,i)),void 0!==o&&(null==c||c.setColPinned(t,o)),void 0!==a&&(null==u||u.setColFlex(t,a))}function TA(e,t,n,r){const{gos:i,dataTypeSvc:o}=e,a={};sR(a,i.get("defaultColDef"),!1,!0);const s=function(e,t,n,r){var i;const o=null==(i=e.dataTypeSvc)?void 0:i.updateColDefAndGetColumnType(t,n,r),a=n.type??o??t.type;return t.type=a,a?jA(a):void 0}(e,a,t,n);s&&function(e,t,n){if(!t.length)return;const r=Object.assign({},pA),i=e.gos.get("columnTypes")||{};for(const o of Object.keys(i)){const e=i[o];if(o in r)VR(34,{key:o});else{e.type&&VR(35),r[o]=e}}for(const o of t){const e=r[o.trim()];e?sR(n,e,!1,!0):VR(36,{t:o})}}(e,s,a);const l=a.cellDataType;sR(a,t,!1,!0),void 0!==l&&(a.cellDataType=l);const c=i.get("autoGroupColumnDef"),u=QR(i);return t.rowGroup&&c&&u&&sR(a,{sort:c.sort,initialSort:c.initialSort},!1,!0),o&&(o.postProcess(a),o.validateColDef(a)),i.validateColDef(a,n,r),a}function VA(e){return void 0!==e.children}function FA(e,t,n){if(t)for(let r=0;r<t.length;r++){const i=t[r];hA(i)&&FA(i,i.getChildren(),n),n(i,e)}}function IA(e,t){const n=[],r=[],i=[];e.forEach(e=>{const t=e.getColDef().lockPosition;"right"===t?i.push(e):"left"===t||!0===t?n.push(e):r.push(e)});return t.get("enableRtl")?[...i,...r,...n]:[...n,...r,...i]}function LA(e,t){let n=!0;return FA(null,t,t=>{if(!hA(t))return;const r=t,i=r.getColGroupDef();if(!(null==i?void 0:i.marryChildren))return;const o=[];for(const n of r.getLeafColumns()){const t=e.indexOf(n);o.push(t)}Math.max.apply(Math,o)-Math.min.apply(Math,o)>r.getLeafColumns().length-1&&(n=!1)}),n}function BA(e,t){if(!e||0==e.length)return;const n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function HA(e,t,n){if(!t.length)return;const r=1===t.length?t[0]:null,i=BA(t,e=>e.getPinned());e.dispatchEvent({type:"columnPinned",pinned:null!=i?i:null,columns:t,column:r,source:n})}function _A(e,t,n,r,i=null){(null==t?void 0:t.length)&&e.dispatchEvent({type:"columnResized",columns:t,column:1===t.length?t[0]:null,flexColumns:i,finished:n,source:r})}function GA(e,t,n){var r;const{colModel:i,rowGroupColsSvc:o,pivotColsSvc:a,autoColSvc:s,selectionColSvc:l,colAnimation:c,visibleCols:u,pivotResultCols:d,environment:h,valueColsSvc:m,eventSvc:p,gos:f}=e,g=i.getColDefCols()??[],v=null==l?void 0:l.getColumns();if(!g.length&&!(null==v?void 0:v.length))return!1;if((null==t?void 0:t.state)&&!t.state.forEach)return VR(32),!1;const b=(r,i,s,l,c)=>{if(!r)return;const u=((e,t)=>(n,r)=>{const i={value1:void 0,value2:void 0};let o=!1;return e&&(void 0!==e[n]&&(i.value1=e[n],o=!0),BP(r)&&void 0!==e[r]&&(i.value2=e[r],o=!0)),!o&&t&&(void 0!==t[n]&&(i.value1=t[n]),BP(r)&&void 0!==t[r]&&(i.value2=t[r])),i})(i,t.defaultState),d=u("flex").value1;if(OA(e,r,u("hide").value1,u("sort").value1,u("sortIndex").value1,u("pinned").value1,d,n),null==d){const e=u("width").value1;if(null!=e){const t=r.getColDef().minWidth??h.getDefaultColumnMinWidth();null!=t&&e>=t&&r.setActualWidth(e,n)}}!c&&r.isPrimary()&&(null==m||m.syncColumnWithState(r,n,u),null==o||o.syncColumnWithState(r,n,u,s),null==a||a.syncColumnWithState(r,n,u,l))},y=(r,c,d)=>{var h,m;const g=zA(e,n),v=c.slice(),y={},x={},w=[],C=[],N=[];let M=0;const D=(null==o?void 0:o.columns.slice())??[],S=(null==a?void 0:a.columns.slice())??[];for(const e of r){const t=e.colId;if(t.startsWith(CA)){w.push(e),N.push(e);continue}if(DA(t)){C.push(e),N.push(e);continue}const n=d(t);n?(b(n,e,y,x,!1),xA(v,n)):(N.push(e),M+=1)}const j=e=>b(e,null,y,x,!1);v.forEach(j),null==o||o.sortColumns(UA.bind(o,y,D)),null==a||a.sortColumns(UA.bind(a,x,S)),i.refreshCols(!1,n);const E=(e,t,n=[])=>{for(const r of t){const t=e(r.colId);xA(n,t),b(t,r,null,null,!0)}n.forEach(j)};return E(e=>(null==s?void 0:s.getColumn(e))??null,w,null==(h=null==s?void 0:s.getColumns())?void 0:h.slice()),E(e=>(null==l?void 0:l.getColumn(e))??null,C,null==(m=null==l?void 0:l.getColumns())?void 0:m.slice()),function(e,t,n){if(!e.applyOrder||!e.state)return;const r=[];for(const i of e.state)null!=i.colId&&r.push(i.colId);!function(e,t,n,r){if(null==e)return;let i=[];const o={};for(const s of t){if(o[s])continue;const t=e.map[s];t&&(i.push(t),o[s]=!0)}let a=0;for(const s of e.list){const e=s.getColId();if(null!=o[e])continue;e.startsWith(CA)?i.splice(a++,0,s):i.push(s)}if(i=IA(i,r),!LA(i,n.getColTree()))return void VR(39);e.list=i}(t.cols,r,t,n)}(t,i,f),u.refresh(n),p.dispatchEvent({type:"columnEverythingChanged",source:n}),g(),{unmatchedAndAutoStates:N,unmatchedCount:M}};null==c||c.start();let{unmatchedAndAutoStates:x,unmatchedCount:w}=y(t.state||[],g,e=>i.getColDefCol(e));if(x.length>0||BP(t.defaultState)){w=y(x,(null==(r=null==d?void 0:d.getPivotResultCols())?void 0:r.list)??[],e=>(null==d?void 0:d.getPivotResultCol(e))??null).unmatchedCount}return null==c||c.finish(),0===w}function zA(e,t){const{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:i,colModel:o,sortSvc:a,eventSvc:s}=e,l={rowGroupColumns:(null==n?void 0:n.columns.slice())??[],pivotColumns:(null==r?void 0:r.columns.slice())??[],valueColumns:(null==i?void 0:i.columns.slice())??[]},c=$A(e),u={};for(const d of c)u[d.colId]=d;return()=>{const i=(e,n,r,i)=>{if(bA(n.map(i),r.map(i)))return;const o=new Set(n);for(const t of r)o.delete(t)||o.add(t);const a=[...o];s.dispatchEvent({type:e,columns:a,column:1===a.length?a[0]:null,source:t})},d=e=>{const t=[];return o.forAllCols(n=>{const r=u[n.getColId()];r&&e(r,n)&&t.push(n)}),t},h=e=>e.getColId();i("columnRowGroupChanged",l.rowGroupColumns,(null==n?void 0:n.columns)??[],h),i("columnPivotChanged",l.pivotColumns,(null==r?void 0:r.columns)??[],h);const m=d((e,t)=>{const n=null!=e.aggFunc,r=n!=t.isValueActive(),i=n&&e.aggFunc!=t.getAggFunc();return r||i});m.length>0&&function(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&1==n.length?n[0]:null,source:r})}(s,"columnValueChanged",m,t);_A(s,d((e,t)=>e.width!=t.getActualWidth()),!0,t);HA(s,d((e,t)=>e.pinned!=t.getPinned()),t);!function(e,t,n){if(!t.length)return;const r=1===t.length?t[0]:null,i=BA(t,e=>e.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:r,source:n})}(s,d((e,t)=>e.hide==t.isVisible()),t);const p=d((e,t)=>e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex());p.length>0&&(null==a||a.dispatchSortChangedEvents(t,p));const f=$A(e);!function(e,t,n,r,i){const o={};for(const u of t)o[u.colId]=u;const a={};for(const u of e)o[u.colId]&&(a[u.colId]=!0);const s=e.filter(e=>a[e.colId]),l=t.filter(e=>a[e.colId]),c=[];if(l.forEach((e,t)=>{const n=null==s?void 0:s[t];if(n&&n.colId!==e.colId){const e=r.getCol(n.colId);e&&c.push(e)}}),!c.length)return;i.dispatchEvent({type:"columnMoved",columns:c,column:1===c.length?c[0]:null,finished:!0,source:n})}(c,f,t,o,s)}}function $A(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e;if(HP(t.getColDefCols())||!t.isAlive())return[];const i=null==n?void 0:n.columns,o=null==r?void 0:r.columns,a=[];t.forAllCols(e=>(e=>{const t=e.isRowGroupActive()&&i?i.indexOf(e):null,n=e.isPivotActive()&&o?o.indexOf(e):null,r=e.isValueActive()?e.getAggFunc():null,s=null!=e.getSort()?e.getSort():null,l=null!=e.getSortIndex()?e.getSortIndex():null;a.push({colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:l,aggFunc:r,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:n,flex:e.getFlex()??null})})(e));const s=new Map(t.getCols().map((e,t)=>[e.getColId(),t]));return a.sort((e,t)=>(s.has(e.colId)?s.get(e.colId):-1)-(s.has(t.colId)?s.get(t.colId):-1)),a}var UA=(e,t,n,r)=>{const i=e[n.getId()],o=e[r.getId()],a=null!=i,s=null!=o;if(a&&s)return i-o;if(a)return-1;if(s)return 1;const l=t.indexOf(n),c=t.indexOf(r),u=l>=0;return u&&c>=0?l-c:u?-1:1},KA=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return n="number"!=typeof t?0:t+1,this.existingIds[e]=n,n}},qA=class extends JW{};function XA(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var YA=null,ZA=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){var n;if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){for(const e of n)this.toggleCss(e,t);return}}this.cssClassStates[e]!==t&&e.length&&(null==(n=this.getGui())||n.classList.toggle(e,t),this.cssClassStates[e]=t)}},JA=0,QA=class extends ZW{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=JA++,this.cssManager=new ZA(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(e=>[e.selector,e])),e&&this.setTemplate(e)}preConstruct(){var e,t;this.wireTemplate(this.getGui());const n="component-"+(null==(t=null==(e=Object.getPrototypeOf(this))?void 0:e.constructor)?void 0:t.name);for(const r of this.css??[])this.beans.environment.addGlobalCSS(r,n)}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(OW):null}applyElementsToComponent(e,t,n,r=null){if(void 0===t&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===YA)this[t]=r??e;else{const e=null==n?void 0:n[t];if(!this.suppressDataRefValidation&&!e)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const r of e.childNodes??[])n.push(r);for(const r of n){if(!(r instanceof HTMLElement))continue;const n=this.createComponentFromElement(r,e=>{const t=e.getGui();if(t)for(const n of r.attributes??[])t.setAttribute(n.name,n.value)},t);if(n){if(n.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);const e=Array.prototype.slice.call(r.children);n.addItems(e)}this.swapComponentForNode(n,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)}}createComponentFromElement(e,t,n){const r=e.nodeName,i=this.getDataRefAttribute(e),o=0===r.indexOf("AG-"),a=o?this.componentSelectors.get(r):null;let s=null;if(a){const e=n&&i?n[i]:void 0;s=new a.component(e),s.setParentComponent(this),this.createBean(s,null,t)}else if(o)throw new Error(`selector: ${r}`);return this.applyElementsToComponent(e,i,n,s),s}swapComponentForNode(e,t,n){const r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui());for(const n of e)n.setAttribute("tabindex",t.toString())}setTemplate(e,t,n){let r;r="string"==typeof e||null==e?MW(e):VW(e),this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let i=0;i<t.length;i++){const e=t[i];this.componentSelectors.set(e.selector,e)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return null==e?null:(n||(n=this.eGui),kW(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};n&&r&&r.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};n&&r&&r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;!function(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-invisible",!t),r||lW(e,!t)}(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;hW(this.eGui,e,{skipAriaHidden:n});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},eO=class extends QA{},tO=class e{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(e=>this.onDone(e),e=>this.onReject(e))}static all(t){return t.length?new e(e=>{let n=t.length;const r=new Array(n);t.forEach((t,i)=>{t.then(t=>{r[i]=t,n--,0===n&&e(r)})})}):e.resolve()}static resolve(t=null){return new e(e=>e(t))}then(t){return new e(e=>{1===this.status?e(t(this.resolution)):this.waiters.push(n=>e(t(n)))})}onDone(e){this.status=1,this.resolution=e;for(const t of this.waiters)t(e)}onReject(e){}};var nO={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},rO={name:"headerComponent",optionalMethods:["refresh"]},iO={name:"innerHeaderComponent"},oO={name:"innerHeaderGroupComponent"},aO={name:"headerGroupComponent"},sO={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},lO={name:"loadingCellRenderer",cellRenderer:!0},cO={name:"loadingOverlayComponent",optionalMethods:["refresh"]},uO={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},dO={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},hO={name:"loadingCellRenderer",cellRenderer:!0},mO={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},pO={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function fO(e,t,n){return e.getCompDetails(t,sO,void 0,n)}function gO(e,t,n){return e.getCompDetails(t,lO,"agSkeletonCellRenderer",n,!0)}function vO(e){const t=e;return null!=(null==t?void 0:t.getFrameworkComponentInstance)?t.getFrameworkComponentInstance():e}function bO(e){return"object"==typeof e&&!!e.getComp}var yO,xO,wO,CO,NO,MO,DO,SO="Backspace",jO="Tab",EO="Enter",kO="Escape",PO=" ",WO="ArrowLeft",RO="ArrowUp",AO="ArrowRight",OO="ArrowDown",TO="Delete",VO="F2",FO="PageUp",IO="PageDown",LO="Home",BO="End",HO="KeyA",_O="KeyC",GO="KeyD",zO="KeyV",$O="KeyX",UO="KeyY",KO="KeyZ";function qO(){return void 0===yO&&(yO=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),yO}function XO(){return void 0===xO&&(xO=/(firefox)/i.test(navigator.userAgent)),xO}function YO(){return void 0===wO&&(wO=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),wO}function ZO(){return void 0===CO&&(CO=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),CO}function JO(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return-1!==t||null!==n&&(""!==n||XO())?t.toString():null}function QO(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;0===n&&0===t.clientWidth&&(n=null),t.parentNode&&t.remove(),null!=n&&(MO=n,NO=0===n)}function eT(){return null==NO&&QO(),NO}var tT=new RegExp("[T ]"),nT=new RegExp("^\\d{4}-\\d{2}-\\d{2}(T\\d{2}:\\d{2}:\\d{2}\\D?)?");function rT(e,t){return e.toString().padStart(t,"0")}function iT(e,t=!0,n="T"){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(e=>rT(e,2)).join("-");return t&&(r+=n+[e.getHours(),e.getMinutes(),e.getSeconds()].map(e=>rT(e,2)).join(":")),r}function oT(e,t=!1){return!!aT(e,t)}function aT(e,t=!1,n){if(!e)return null;if(!nT.test(e))return null;const[r,i]=e.split(tT);if(!r)return null;const o=r.split("-").map(e=>Number.parseInt(e,10));if(3!==o.filter(e=>!isNaN(e)).length)return null;const[a,s,l]=o,c=new Date(a,s-1,l);if(c.getFullYear()!==a||c.getMonth()!==s-1||c.getDate()!==l)return null;if(!i&&t)return null;if(!i||"00:00:00"===i)return c;const[u,d,h]=i.split(":").map(e=>Number.parseInt(e,10));if(u>=0&&u<24)c.setHours(u);else if(t)return null;if(d>=0&&d<60)c.setMinutes(d);else if(t)return null;if(h>=0&&h<60)c.setSeconds(h);else if(t)return null;return c}var sT=!1,lT=0;function cT(e){const t=sT,n="keydown"===e.type;n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(sT=n)}function uT(e){const t=YP(e);var n;return n=t,lT>0||(n.addEventListener("keydown",cT),n.addEventListener("mousedown",cT)),lT++,()=>{lT--,function(e){lT>0||(e.removeEventListener("keydown",cT),e.removeEventListener("mousedown",cT))}(t)}}function dT(e,t,n=!1){let r=uW;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');const i=Array.prototype.slice.apply(e.querySelectorAll("[tabindex], input, select, button, textarea, [href]")).filter(e=>NW(e)),o=Array.prototype.slice.apply(e.querySelectorAll(r));if(!o.length)return i;return a=o,i.filter(e=>-1===a.indexOf(e));var a}function hT(e,t=!1,n=!1,r=!1){const i=dT(e,r?".ag-tab-guard":null,n),o=t?vA(i):i[0];return!!o&&(o.focus({preventScroll:!0}),!0)}function mT(e,t,n,r){const i=dT(t,null),o=XP(e);let a;a=i.indexOf(o);const s=a+(r?-1:1);return s<0||s>=i.length?null:i[s]}var pT=class extends QA{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}")}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i}=this.config;null!=i&&this.setDisabled(i),null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=n&&this.setLabelWidth(n),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;xW(t),"string"==typeof e?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),""===e?(hW(t,!1),rW(t,"presentation")):(hW(t,!0),rW(t,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const t=this.getGui().classList;return t.toggle("ag-label-align-left","left"===e),t.toggle("ag-label-align-right","right"===e),t.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||DW(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return mW(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},fT=class extends pT{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),null!=n&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();null==n||""==n||null!==e.getAttribute("aria-label")?oW(e,""):oW(e,t??"")}setAriaLabel(e){return iW(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return SW(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}};var gT,vT,bT,yT=class extends fT{constructor(e,t,n="text",r="input"){super(e,(null==e?void 0:e.template)??function(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}(r),[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=YA,this.eWrapper=YA,this.eInput=YA}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:o}=this.config;null!=i&&this.setInputName(i),null!=o&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){"input"===this.displayFieldTag&&(this.inputType=e,PW(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return DW(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return PW(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return iW(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return mW(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(!0===e)PW(this.eInput,"autocomplete",null);else{const t="string"==typeof e?e:"off";PW(this.eInput,"autocomplete",t)}return this}},xT={selector:"AG-CHECKBOX",component:class extends yT{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;"boolean"==typeof e&&this.setReadOnly(e),"boolean"==typeof t&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const r=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",!0===e),t.toggle("ag-indeterminate",null==e)}}},wT="object"!=typeof window||!(null==(t=null==(e=null==window?void 0:window.document)?void 0:e.fonts)?void 0:t.forEach),CT=(e,t,n,r,i,o)=>{if(wT)return;r&&(e=`@layer ${CSS.escape(r)} { ${e} }`);let a=MT.map.get(t);if(a||(a=[],MT.map.set(t,a)),a.some(t=>t.css===e))return;const s=document.createElement("style");o&&s.setAttribute("nonce",o),s.dataset.agGlobalCss=n,s.textContent=e;const l={css:e,el:s,priority:i};let c;for(const u of a){if(u.priority>i)break;c=u}if(c){c.el.insertAdjacentElement("afterend",s);const e=a.indexOf(c);a.splice(e+1,0,l)}else t.insertBefore(s,t.querySelector(":not(title, meta)")),a.push(l)},NT=(e,t,n,r)=>{CT(':where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',e,"shared",t,0,n),null==r||r.forEach((r,i)=>r.forEach(r=>CT(r,e,i,t,0,n)))},MT=(gT="object"==typeof window?window:{}).agStyleInjectionState??(gT.agStyleInjectionState={map:new WeakMap,grids:new Set}),DT=e=>new ET(e),ST="$default",jT=0,ET=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:i}){this.feature=e,this.css=r,this.cssImports=i,this.modeParams={[ST]:{...n[ST]??{},...t??{}},...n}}use(e,t,n){let r=this._inject;if(null==r){let{css:e}=this;if(e){const t=`ag-theme-${this.feature??"part"}-${++jT}`;"function"==typeof e&&(e=e()),e=`:where(.${t}) {\n${e}\n}\n`;for(const n of this.cssImports??[])e=`@import url(${JSON.stringify(n)});\n${e}`;r={css:e,class:t}}else r=!1;this._inject=r}return r&&e&&CT(r.css,e,r.class,t,1,n),!!r&&r.class}},kT=e=>{return`--ag-${t=e,t.replace(/[A-Z]/g,e=>`-${e}`).toLowerCase()}`;var t},PT=e=>`var(${kT(e)})`,WT=e=>({ref:"accentColor",mix:e}),RT=e=>({ref:"foregroundColor",mix:e}),AT=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),OT={ref:"backgroundColor"},TT={ref:"foregroundColor"},VT={ref:"accentColor"},FT={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:RT(.15),chromeBackgroundColor:AT(.02),browserColorScheme:"light"},IT={...FT,textColor:TT,accentColor:"#2196f3",invalidColor:"#e02525",fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],subtleTextColor:{ref:"textColor",mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:WT(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},dragAndDropImageBackgroundColor:OT,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:"invalidColor",onto:"dragAndDropImageBackgroundColor",mix:.5}},dragAndDropImageShadow:{ref:"popupShadow"},iconSize:16,iconColor:"inherit",toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:VT,toggleButtonOffBackgroundColor:AT(.3),toggleButtonSwitchBackgroundColor:OT,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}}},LT=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],BT=(e=>{const t=new Map;return n=>{const r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}})(e=>(e=e.toLowerCase(),LT.find(t=>e.endsWith(t.toLowerCase()))??"length")),HT=e=>"object"==typeof e&&(null==e?void 0:e.ref)?PT(e.ref):"string"==typeof e?e:"number"==typeof e&&String(e),_T=e=>{if("string"==typeof e)return e;if(e&&"ref"in e){const t=PT(e.ref);if(null==e.mix)return t;return`color-mix(in srgb, ${e.onto?PT(e.onto):"transparent"}, ${t} ${((e,t,n)=>Math.max(t,Math.min(n,e)))(100*e.mix,0,100)}%)`}return!1},GT=e=>{if("string"==typeof e)return e;if("number"==typeof e)return`${e}px`;if(e&&"calc"in e){return`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,e=>"-"===e[0]?e:" "+PT(e)+" ")})`}return!(!e||!("ref"in e))&&PT(e.ref)},zT=(e,t)=>"string"==typeof e?e:!0===e?zT({},t):!1===e?"columnBorder"===t?zT({color:"transparent"},t):"none":e&&"ref"in e?PT(e.ref):$T(e.style??"solid")+" "+GT(e.width??{ref:"borderWidth"})+" "+_T(e.color??{ref:"borderColor"}),$T=HT,UT=e=>"string"==typeof e?e.includes(",")?e:KT(e):e&&"googleFont"in e?UT(e.googleFont):e&&"ref"in e?PT(e.ref):!!Array.isArray(e)&&e.map(e=>("object"==typeof e&&"googleFont"in e&&(e=e.googleFont),KT(e))).join(", "),KT=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),qT=e=>"string"==typeof e?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?qT({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):!(!e||!("ref"in e))&&PT(e.ref),XT={color:_T,colorScheme:HT,length:GT,scale:HT,border:zT,borderStyle:$T,shadow:e=>"string"==typeof e?e:!1===e?"none":e&&"ref"in e?PT(e.ref):[GT(e.offsetX??0),GT(e.offsetY??0),GT(e.radius??0),GT(e.spread??0),_T(e.color??{ref:"foregroundColor"})].join(" "),image:qT,fontFamily:UT,fontWeight:HT,duration:(e,t,n)=>"string"==typeof e?e:"number"==typeof e?(e>=10&&n.warn(104,{value:e,param:t}),`${e}s`):!(!e||!("ref"in e))&&PT(e.ref)},YT=(e,t,n)=>{const r=BT(e);return XT[r](t,e,n)},ZT=class e{constructor(e,t=[]){this.themeLogger=e,this.parts=t}withPart(t){return"function"==typeof t&&(t=t()),t instanceof ET?new e(this.themeLogger,[...this.parts,t]):(this.themeLogger.preInitErr(259,"Invalid part",{part:t}),this)}withoutPart(e){return this.withPart(DT({feature:e}))}withParams(e,t=ST){return this.withPart(DT({modeParams:{[t]:e}}))}_startUse({styleContainer:e,cssLayer:t,nonce:n,loadThemeGoogleFonts:r,moduleCss:i}){if(wT)return;tV(),NT(e,t,n,i);const o=QT(this);if(o.length>0)for(const a of o)r&&nV(a,n);for(const a of this.parts)a.use(e,t,n)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=JT(this.parts).map(e=>e.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let e=this._paramsCache;if(!e){const t={[ST]:{...IT}};for(const e of JT(this.parts))for(const n of Object.keys(e.modeParams)){const r=e.modeParams[n];if(r){const e=t[n]??(t[n]={}),i=new Set;for(const t of Object.keys(r)){const n=r[t];void 0!==n&&(e[t]=n,i.add(t))}if(n===ST)for(const n of Object.keys(t)){const e=t[n];if(n!==ST)for(const t of i)delete e[t]}}}this._paramsCache=e=t}return e}_getPerInstanceCss(e){const t="##SELECTOR##";let n=this._paramsCssCache;if(!n){let e="",r="";const i=this._getModeParams();for(const t of Object.keys(i)){const n=i[t];if(t!==ST){const n=`:where([data-ag-theme-mode="${"object"==typeof CSS?CSS.escape(t):t}"]) & {\n`;e+=n,r+=n}for(const t of Object.keys(n).sort()){const i=n[t],o=YT(t,i,this.themeLogger);if(!1===o)this.themeLogger.error(107,{key:t,value:i});else{const n=kT(t),i=n.replace("--ag-","--ag-inherited-");e+=`\t${n}: var(${i}, ${o});\n`,r+=`\t${i}: var(${n});\n`}}t!==ST&&(e+="}\n",r+="}\n")}let o=`${t} {\n${e}}\n`;o+=`:has(> ${t}):not(${t}) {\n${r}}\n`,this._paramsCssCache=n=o}return n.replaceAll(t,`:where(.${e})`)}},JT=e=>{const t=new Map;for(const r of e)t.set(r.feature,r);const n=[];for(const r of e)r.feature&&t.get(r.feature)!==r||n.push(r);return n},QT=e=>{const t=new Set,n=e=>{if(Array.isArray(e))e.forEach(n);else{const n=null==e?void 0:e.googleFont;"string"==typeof n&&t.add(n)}};return Object.values(e._getModeParams()).flatMap(e=>Object.values(e)).forEach(n),Array.from(t).sort()},eV=!1,tV=()=>{if(!eV){eV=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},nV=async(e,t)=>{const n=`@import url('https://${rV}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');\n`;CT(n,document.head,`googleFont:${e}`,void 0,0,t)},rV="fonts.googleapis.com",iV=1,oV=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=iV++,(null==e?void 0:e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){this.id=e.id,this.beans.context=this,this.destroyCallback=e.destroyCallback;for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];for(const t of e.beanClasses){const e=new t;e.beanName?this.beans[e.beanName]=e:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(e)}for(const t of e.derivedBeans??[]){const{beanName:e,bean:n}=t(this);this.beans[e]=n,this.createdBeans.push(n)}e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){var n,r,i,o;const a=this.beans;for(const s of e)null==(n=s.preWireBeans)||n.call(s,a),null==(r=s.wireBeans)||r.call(s,a);for(const s of e)null==(i=s.preConstruct)||i.call(s);t&&e.forEach(t);for(const s of e)null==(o=s.postConstruct)||o.call(s)}getBeans(){return this.beans}getBean(e){return this.beans[e]}getId(){return this.id}destroy(){var e;if(this.destroyed)return;this.destroyed=!0;const t=this.getBeanInstances();this.beanDestroyComparator&&t.sort(this.beanDestroyComparator),this.destroyBeans(t),this.beans={},this.createdBeans=[],null==(e=this.destroyCallback)||e.call(this)}destroyBean(e){var t;null==(t=null==e?void 0:e.destroy)||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},aV=0,sV=class extends ZW{constructor(){super(...arguments),this.beanName="environment",this.paramsClass="ag-theme-params-"+ ++aV,this.globalCSS=[]}wireBeans(e){this.eRootDiv=e.eRootDiv}postConstruct(){const{gos:e,eRootDiv:t}=this;e.setInstanceDomData(t),this.eStyleContainer=e.get("themeStyleContainer")??(t.getRootNode()===document?document.head:t),this.cssLayer=e.get("themeCssLayer"),this.styleNonce=e.get("styleNonce"),this.addManagedPropertyListener("theme",()=>this.handleThemeChange()),this.handleThemeChange(),this.initVariables(),this.addDestroyFunc(()=>(e=>{if(MT.grids.delete(e),0===MT.grids.size){MT.map=new WeakMap;for(const e of document.head.querySelectorAll("style[data-ag-global-css]"))e.remove()}})(this)),this.mutationObserver=new MutationObserver(()=>{this.fireStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}applyThemeClasses(e,t=[]){const{theme:n}=this;let r;r=n?`${this.paramsClass} ${n._getCssClass()}`:this.applyLegacyThemeClasses();for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(r){const n=e.className;e.className=`${n}${n?" ":""}${r}${(null==t?void 0:t.length)?" "+t.join(" "):""}`}}applyLegacyThemeClasses(){let e="";this.mutationObserver.disconnect();let t=this.eRootDiv;for(;t;){let n=!1;for(const r of Array.from(t.classList))r.startsWith("ag-theme-")&&(n=!0,e=e?`${e} ${r}`:r);n&&this.mutationObserver.observe(t,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}return e}addGlobalCSS(e,t){this.theme?CT(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}handleThemeChange(){const{gos:e,theme:t}=this,n=e.get("theme");let r;if("legacy"===n)r=void 0;else{const e=n??this.getDefaultTheme();e instanceof ZT?r=e:this.themeError(e)}r!==t&&this.handleNewTheme(r),this.postProcessThemeChange(r,n)}handleNewTheme(e){const{gos:t,eRootDiv:n,globalCSS:r}=this,i=this.getAdditionalCss();if(e){o=this,MT.grids.add(o),NT(this.eStyleContainer,this.cssLayer,this.styleNonce,i);for(const[e,t]of r)CT(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce);r.length=0}var o;this.theme=e,null==e||e._startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:i});let a=this.eParamsStyle;if(!a){a=this.eParamsStyle=VW({tag:"style"});const e=t.get("styleNonce");e&&a.setAttribute("nonce",e),n.appendChild(a)}wT||(a.textContent=(null==e?void 0:e._getPerInstanceCss(this.paramsClass))||""),this.applyThemeClasses(n),this.fireStylesChangedEvent("themeChanged")}},lV=class extends ZW{constructor(){super(...arguments),this.beanName="registry"}registerDynamicBeans(e){if(e){this.dynamicBeans??(this.dynamicBeans={});for(const t of Object.keys(e))this.dynamicBeans[t]=e[t]}}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(this.getDynamicError(e,!0));const r=this.dynamicBeans[e];if(null!=r)return new r(...n);if(t)throw new Error(this.getDynamicError(e,!1))}},cV=class extends ZW{constructor(){super(...arguments),this.beanName="eventSvc",this.eventServiceType="global",this.globalSvc=new IP}addListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchEvent(e){this.globalSvc.dispatchEvent(this.gos.addCommon(e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(this.gos.addCommon(e))}},uV=(e,t)=>{if(null!=t&&(null==e?void 0:e.setPointerCapture))try{return e.setPointerCapture(t),e.hasPointerCapture(t)}catch{}return!1},dV=e=>{const{eElement:t,onLost:n}=e;t&&n&&(t.removeEventListener("lostpointercapture",n),e.onLost=null)},hV=(e,t)=>{dV(e);const{eElement:n,pointerId:r}=e;n&&t.pointerId===r&&uV(n,r)},mV=e=>{if(bT){if(bT.has(e))return!1}else bT=new WeakSet;return bT.add(e),!0},pV=class extends ZW{constructor(){super(...arguments),this.beanName="dragSvc",this.dragging=!1,this.drag=null,this.dragSources=[]}get startTarget(){var e;return(null==(e=this.drag)?void 0:e.start.target)??null}isPointer(){return!!(null==vT?void 0:vT.has(qP(this.beans)))}hasPointerCapture(){var e,t,n;const r=null==(e=this.drag)?void 0:e.pointerCapture;return!(!r||!(null==(n=(t=this.beans.eRootDiv).hasPointerCapture)?void 0:n.call(t,r.pointerId)))}destroy(){this.drag&&this.cancelDrag();const e=this.dragSources;for(const t of e)fV(t);e.length=0,super.destroy()}removeDragSource(e){const t=this.dragSources;for(let n=0,r=t.length;n<r;++n){const r=t[n];if(r.params===e){t.splice(n,1),fV(r);break}}}addDragSource(e){if(!this.isAlive())return;const{eElement:t,includeTouch:n}=e,r=[];let i;if(n){const e=t.style;e&&(i=e.touchAction,e.touchAction="none")}const o={handlers:r,params:e,oldTouchAction:i};this.dragSources.push(o);UW(r,[t,"pointerdown",t=>this.onPointerDown(e,t),{passive:!1}],[t,"mousedown",t=>this.onMouseDown(e,t)]);const a=this.gos.get("suppressTouch");if(n&&!a){UW(r,[t,"touchstart",t=>this.onTouchStart(e,t),{passive:!1}])}}cancelDrag(e){var t,n;const r=this.drag;e??(e=null==r?void 0:r.eElement),e&&this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),null==(n=null==r?void 0:(t=r.params).onDragCancel)||n.call(t),this.destroyDrag()}shouldPreventMouseEvent(e){const t=e.type;return("mousemove"===t||"pointermove"===t)&&e.cancelable&&zW(this.beans,e)&&!dW(vV(e))}initDrag(e,...t){this.drag=e;const n=this.beans,r=e=>this.onScroll(e),i=qP(n),o=YP(n);UW(e.handlers,[i,"contextmenu",qW],[i,"keydown",e=>this.onKeyDown(e)],[o,"scroll",r,{capture:!0}],[o.defaultView||window,"scroll",r],...t)}destroyDrag(){this.dragging=!1;const e=this.drag;if(e){const t=e.rootEl;(null==vT?void 0:vT.get(t))===e&&(null==vT||vT.delete(t)),this.drag=null,(e=>{if(!e)return;dV(e);const{eElement:t,pointerId:n}=e;if(t){try{t.releasePointerCapture(n)}catch{}e.eElement=null}})(e.pointerCapture),KW(e.handlers)}}onPointerDown(e,t){if(this.isPointer())return;const n=this.beans;if(null==bT?void 0:bT.has(t))return;const r=t.pointerType;if("touch"===r){if(n.gos.get("suppressTouch")||!e.includeTouch)return;if(e.stopPropagationForTouch&&t.stopPropagation(),dW(vV(t)))return}if(!t.isPrimary)return;if("mouse"===r&&0!==t.button)return;this.destroyDrag();const i=qP(n),o=e.eElement,a=t.pointerId,s=new gV(i,e,t,a);vT??(vT=new WeakMap),vT.set(i,s);this.initDrag(s,[i,"pointerup",e=>{e.pointerId===a&&this.onMouseOrPointerUp(e)}],[i,"pointercancel",e=>{e.pointerId===a&&mV(e)&&this.cancelDrag()}],[i,"pointermove",e=>{e.pointerId===a&&this.onMouseOrPointerMove(e)},{passive:!1}],[i,"touchmove",qW,{passive:!1}],[o,"mousemove",qW,{passive:!1}]),0===e.dragStartPixels?this.onMouseOrPointerMove(t):mV(t)}onTouchStart(e,t){if(this.gos.get("suppressTouch")||!e.includeTouch)return;if(!mV(t))return;if(dW(vV(t)))return;if(e.stopPropagationForTouch&&t.stopPropagation(),this.isPointer())return void qW(t);this.destroyDrag();const n=this.beans,r=qP(n),i=new gV(r,e,t.touches[0]),o=e=>this.onTouchUp(e),a=t.target??e.eElement;this.initDrag(i,[qP(n),"touchmove",qW,{passive:!1}],[a,"touchmove",e=>this.onTouchMove(e),{passive:!0}],[a,"touchend",o,{passive:!0}],[a,"touchcancel",o,{passive:!0}]),0===e.dragStartPixels&&this.onMove(i.start)}onMouseDown(e,t){if(0!==t.button)return;if(null==bT?void 0:bT.has(t))return;if(this.isPointer())return;const n=this.beans;this.destroyDrag();const r=new gV(qP(n),e,t),i=qP(n);this.initDrag(r,[i,"mousemove",e=>this.onMouseOrPointerMove(e)],[i,"mouseup",e=>this.onMouseOrPointerUp(e)]),0===e.dragStartPixels?this.onMouseOrPointerMove(t):mV(t)}onScroll(e){var t;if(!mV(e))return;const n=this.drag,r=null==n?void 0:n.lastDrag;r&&this.dragging&&(null==(t=n.params)||t.onDragging(r))}onMouseOrPointerMove(e){var t;mV(e)&&(qO()&&(null==(t=YP(this.beans).getSelection())||t.removeAllRanges()),this.shouldPreventMouseEvent(e)&&qW(e),this.onMove(e))}onTouchMove(e){const t=this.drag;if(!t||!mV(e))return;const n=GW(t.start,e.touches);n&&(e.preventDefault(),this.onMove(n))}onMove(e){const t=this.drag;if(!t)return;t.lastDrag=e;const n=t.params;if(!this.dragging){const r=t.start;if(_W(e,r,n.dragStartPixels??4))return;if(this.dragging=!0,n.capturePointer&&(t.pointerCapture=((e,t)=>{if("undefined"==typeof PointerEvent||!(t instanceof PointerEvent))return null;const n=t.pointerId;if(!uV(e,n))return null;const r={eElement:e,pointerId:n,onLost(e){hV(r,e)}};return e.addEventListener("lostpointercapture",r.onLost),r})(this.beans.eRootDiv,e)),this.eventSvc.dispatchEvent({type:"dragStarted",target:n.eElement}),n.onDragStart(r),this.drag!==t)return;if(n.onDragging(r),this.drag!==t)return}n.onDragging(e)}onTouchUp(e){const t=this.drag;t&&mV(e)&&this.onUp(GW(t.start,e.changedTouches))}onMouseOrPointerUp(e){mV(e)&&this.onUp(e)}onUp(e){const t=this.drag;t&&(e||(e=t.lastDrag),e&&this.dragging&&(this.dragging=!1,t.params.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t.params.eElement})),this.destroyDrag())}onKeyDown(e){e.key===kO&&this.cancelDrag()}},fV=e=>{KW(e.handlers);const t=e.oldTouchAction;if(null!=t){const n=e.params.eElement.style;n&&(n.touchAction=t)}},gV=class{constructor(e,t,n,r=null){this.rootEl=e,this.params=t,this.start=n,this.pointerId=r,this.handlers=[],this.lastDrag=null,this.pointerCapture=null,this.eElement=t.eElement}},vV=e=>{const t=e.target;return t instanceof Element?t:null},bV=class extends ZW{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageParent=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.lastDropTarget=null}addDragSource(e,t=!1){const n={capturePointer:!0,dragSource:e,eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:t=>this.onDragStart(e,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push(n),this.beans.dragSvc.addDragSource(n)}setDragImageCompIcon(e,t=!1){const n=this.dragImageComp;n&&(t||this.dragImageLastIcon!==e)&&(this.dragImageLastIcon=e,n.setIcon(e,t))}removeDragSource(e){var t;const{dragSourceAndParamsList:n,beans:r}=this,i=n.find(t=>t.dragSource===e);i&&(null==(t=r.dragSvc)||t.removeDragSource(i),xA(n,i))}destroy(){const{dragSourceAndParamsList:e,dropTargets:t,beans:n}=this,r=n.dragSvc;for(const i of e)null==r||r.removeDragSource(i);e.length=0,t.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){const e=this.lastMouseEvent;e&&this.onDragging(e,!0)}onDragStart(e,t){var n;this.lastMouseEvent=t,this.dragSource=e,this.dragItem=e.getDragItem();const r=e.eElement.getBoundingClientRect();this.dragInitialSourcePointerOffsetX=t.clientX-r.left,this.dragInitialSourcePointerOffsetY=t.clientY-r.top,null==(n=e.onDragStarted)||n.call(e),this.createAndUpdateDragImageComp(e)}onDragStop(e){var t,n;const{dragSource:r,lastDropTarget:i}=this;if(null==(t=null==r?void 0:r.onDragStopped)||t.call(r),i){const t=this.dropTargetEvent(i,e,!1);null==(n=i.onDragStop)||n.call(i,t)}this.clearDragAndDropProperties()}onDragCancel(){var e,t;const{dragSource:n,lastDropTarget:r,lastMouseEvent:i}=this;if(null==(e=null==n?void 0:n.onDragCancelled)||e.call(n),r&&i){const e=this.dropTargetEvent(r,i,!1);null==(t=r.onDragCancel)||t.call(r,e)}this.clearDragAndDropProperties()}onDragging(e,t=!1){var n,r,i;this.positionDragImageComp(e);const o=this.findCurrentDropTarget(e),{lastDropTarget:a,dragSource:s,dragItem:l}=this;let c=!1;if(o!==a){if(c=!0,a){const r=this.dropTargetEvent(a,e,t);null==(n=a.onDragLeave)||n.call(a,r)}if(null===a||o?null===a&&o&&this.handleEnter(s,l):this.handleExit(s,l),o){const n=this.dropTargetEvent(o,e,t);null==(r=o.onDragEnter)||r.call(o,n)}this.lastDropTarget=o}else if(o){const n=this.dropTargetEvent(o,e,t);null==(i=o.onDragging)||i.call(o,n),(null==n?void 0:n.changed)&&(c=!0)}this.lastMouseEvent=e,c&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageParent=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.dragSource=null}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let r=!1;const i=(e,t)=>{for(const n of t){const{width:t,height:r,left:i,right:o,top:a,bottom:s}=n.getBoundingClientRect();if(0===t||0===r)return!1;const l=e.clientX>=i&&e.clientX<o,c=e.clientY>=a&&e.clientY<s;if(!l||!c)return!1}return!0};for(const s of n)if(i(e,s)){r=!0;break}const{eElement:o,type:a}=this.dragSource;return!(t.targetContainsSource&&!t.getContainer().contains(o))&&(r&&t.isInterestedIn(a,o))}findCurrentDropTarget(e){const t=this.dropTargets.filter(t=>this.isMouseOnDropTarget(e,t)),n=t.length;if(0===n)return null;if(1===n)return t[0];const r=qP(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const i of r)for(const e of t){if(-1!==this.getAllContainersFromDropTarget(e).flatMap(e=>e).indexOf(i))return e}return null}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.find(t=>t.external&&t.getContainer()===e)||null}dropTargetEvent(e,t,n){const{dragSource:r,dragItem:i,lastDraggingEvent:o,lastMouseEvent:a,dragInitialSourcePointerOffsetX:s,dragInitialSourcePointerOffsetY:l}=this,c=e.getContainer(),u=c.getBoundingClientRect(),{clientX:d,clientY:h}=t,m=d-((null==a?void 0:a.clientX)||0),p=h-((null==a?void 0:a.clientY)||0),f=this.createEvent({event:t,x:d-u.left,y:h-u.top,vDirection:p>0?"down":p<0?"up":null,hDirection:m<0?"left":m>0?"right":null,initialSourcePointerOffsetX:s,initialSourcePointerOffsetY:l,dragSource:r,fromNudge:n,dragItem:i,dropZoneTarget:c,dropTarget:(null==o?void 0:o.dropTarget)??null,changed:!!(null==o?void 0:o.changed)});return this.lastDraggingEvent=f,f}positionDragImageComp(e){var t;const n=null==(t=this.dragImageComp)?void 0:t.getGui();n&&$W(n,e,this.beans)}removeDragImageComp(e){var t;this.dragImageComp===e&&(this.dragImageComp=null),e&&(null==(t=e.getGui())||t.remove(),this.destroyBean(e))}createAndUpdateDragImageComp(e){const t=this.createDragImageComp(e)??null;this.dragImageCompPromise=t,null==t||t.then(e=>{if(t!==this.dragImageCompPromise||!this.lastMouseEvent||!this.isAlive())return void this.destroyBean(e);this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;const n=this.dragImageComp;n!==e&&(this.dragImageComp=e,this.removeDragImageComp(n)),e&&(this.appendDragImageComp(e),this.updateDragImageComp())})}appendDragImageComp(e){var t;const n=e.getGui(),r=n.style;r.position="absolute",r.zIndex="9999",(null==(t=this.beans.dragSvc)?void 0:t.hasPointerCapture())&&(r.pointerEvents="none"),this.gos.setInstanceDomData(n),this.beans.environment.applyThemeClasses(n),r.top="20px",r.left="20px";const i=JP(this.beans);this.dragImageParent=i,i?i.appendChild(n):this.warnNoBody()}updateDragImageComp(){var e;const{dragImageComp:t,dragSource:n,lastDropTarget:r,lastDraggingEvent:i,dragImageLastLabel:o}=this;if(!t)return;this.setDragImageCompIcon((null==(e=null==r?void 0:r.getIconName)?void 0:e.call(r,i))??null);let a=null==n?void 0:n.dragItemName;"function"==typeof a&&(a=a(i)),a||(a=""),o!==a&&(this.dragImageLastLabel=a,t.setLabel(a))}};function yV(e,t){return e+"_"+t}function xV(e){return e instanceof wV}var wV=class extends JW{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=KP(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return yV(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every(e=>e.isMoving())}checkLeft(){for(const e of this.displayedChildren)xV(e)&&e.checkLeft();if(this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const e=vA(this.displayedChildren).getLeft();this.setLeft(e)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;for(const t of this.displayedChildren??[])e+=t.getActualWidth();return e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;for(const t of this.displayedChildren)t.isResizable()&&(e=!0);return e}getMinWidth(){let e=0;for(const t of this.displayedChildren)e+=t.getMinWidth();return e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!(null==(e=this.getColGroupDef())?void 0:e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){for(const t of this.displayedChildren??[])uA(t)?e.push(t):xV(t)&&t.addDisplayedLeafColumns(e)}addLeafColumns(e){for(const t of this.children??[])uA(t)?e.push(t):xV(t)&&t.addLeafColumns(e)}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&(null==e?void 0:e.isPadding())?1+e.getPaddingLevel():0}calculateDisplayedColumns(){var e;this.displayedChildren=[];let t=this;for(;null==t?void 0:t.isPadding();)t=t.getParent();if(!(!!t&&t.getProvidedColumnGroup().isExpandable()))return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});for(const n of this.children??[]){if(xV(n)&&!(null==(e=n.displayedChildren)?void 0:e.length))continue;switch(n.getColumnGroupShow()){case"open":t.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":t.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n)}}this.dispatchLocalEvent({type:"displayedChildrenChanged"})}};function CV(e){return VW(e)}new Set(Object.values({agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"}));var NV="__ag_Grid_Stop_Propagation";function MV(e){e[NV]=!0}function DV(e){return!0===e[NV]}var SV=class extends JW{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;const t=mT(this.beans,this.eFocusable,0,e.shiftKey);t&&(t.focus(),e.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add("ag-focus-managed"),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:e=>{if(e.defaultPrevented||DV(e))return;const{callbacks:t}=this;t.shouldStopEventPropagation(e)?MV(e):e.key===jO?t.onTabKeyDown(e):t.handleKeyDown&&t.handleKeyDown(e)}})}},jV={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},EV=class extends JW{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e},n=t.autoHeight?jV.AUTO_HEIGHT:t.print?jV.PRINT:jV.NORMAL;this.view.updateLayoutClasses(n,t)}},kV="Viewport",PV="fakeVScrollComp",WV=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],RV=class extends JW{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=iR(this,()=>this.lastScrollSource[1]=null,150),this.resetLastVScrollDebounced=iR(this,()=>this.lastScrollSource[0]=null,150)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),bodyHeightChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,kV)});for(const e of WV){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?iR(this,this.onVScroll.bind(this,kV),100):this.onVScroll.bind(this,kV),r=t?iR(this,this.onVScroll.bind(this,PV),100):this.onVScroll.bind(this,PV);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){null==this.centerRowsCtrl||(void 0===e&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...WV,kV]){if(this.lastScrollSource[1]===t)continue;yW(this.getViewportForSource(t),e,this.enableRtl)}}getViewportForSource(e){return e===kV?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(0===t?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const r=bW(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(r),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(t=e===kV?this.eBodyViewport.scrollTop:this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;null==n||n.setScrollTop(t),this.nextScrollTop=t,e===kV?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,(null==n?void 0:n.active)?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},150)}shouldBlockScrollUpdate(e,t,n=!1){return!(n&&!ZO())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=gW(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return!!(e<0||e+t>n)}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of WV){if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}}t&&this.onHScroll(kV)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl?e>0?0:n:Math.min(Math.max(e,0),n)),yW(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:e,lastScrollTop:t}=this;return{top:t,bottom:t+e}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,r=n.getRowCount();let i=-1;for(let o=0;o<r;o++){const t=n.getRow(o);if("function"==typeof e){if(t&&e(t)){i=o;break}}else if(e===t||e===t.data){i=o;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,n=0){if(GR(this.gos,"print"))return;const{rowModel:r}=this.beans,i=r.getRowCount();if("number"!=typeof e||e<0||e>=i)return void VR(88,{index:e});this.clearRetryListeners();const{frameworkOverrides:o,pageBounds:a,rowContainerHeight:s,rowRenderer:l}=this.beans;o.wrapIncoming(()=>{var i,o;const c=this.ctrlsSvc.getGridBodyCtrl(),u=r.getRow(e);let d,h,m=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:e,stickyBottomHeight:n}=c,r=u.rowTop,i=u.rowHeight,o=a.getPixelOffset(),p=u.rowTop-o,f=p+u.rowHeight,g=this.getVScrollPosition(),v=s.divStretchOffset,b=g.top+v,y=g.bottom+v,x=y-b,w=s.getScrollPositionForPixel(p),C=s.getScrollPositionForPixel(f-x),N=Math.min((w+C)/2,p);let M=null;"top"===t?M=w-e:"bottom"===t?M=C+n:"middle"===t?M=N:b+e>p?M=w-e:y-n<f&&(M=C-w>x?w-e:C+n),null!==M&&(this.setVerticalScrollPosition(M),l.redraw({afterScroll:!0})),d=r!==u.rowTop||i!==u.rowHeight,h=e!==c.stickyTopHeight||n!==c.stickyBottomHeight,m++}while((d||h)&&m<10);if(null==(i=this.animationFrameSvc)||i.flushAllFrames(),n<10&&((null==u?void 0:u.stub)||!(null==(o=this.beans.rowAutoHeight)?void 0:o.areRowsMeasured()))){const i=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const e=this.getVScrollPosition().top;i!==e&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),e>=r.getRowCount()||this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){for(const e of this.clearRetryListenerFncs)e();this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:r}=this.beans,i=n.getCol(e);if(!i)return;if(i.isPinned())return;if(!this.visibleCols.isColDisplayed(i))return;const o=this.getPositionedHorizontalScroll(i,t);r.wrapIncoming(()=>{var e;null!==o&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),null==(e=this.animationFrameSvc)||e.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),a=this.enableRtl;let s=(a?n:r)||i,l=a?r:n;"auto"!==t&&(s="start"===t,l="end"===t);const c="middle"===t;if(s||l||c){const{colLeft:t,colMiddle:n,colRight:r}=this.getColumnBounds(e);return c?n-o/2:s?a?r:t:a?t-o:r-o}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),o=this.enableRtl;return{columnBeforeStart:o?t>i:n<i,columnAfterEnd:o?n<r:t>r}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),i=e.getLeft(),o=t?-1:1,a=t?n-i:i;return{colLeft:a,colMiddle:a+r/2*o,colRight:a+r*o}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}},AV=class extends JW{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=GR(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,i=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth();let a;if(e)a=r+i+o;else if(a=r,this.addSpacer){0===(this.gos.get("enableRtl")?i:o)&&n.verticalScrollShowing&&(a+=n.getScrollbarWidth())}this.callback(a)}},OV=class extends JW{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{RW(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;null==e||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,null==t||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=gW(this.gridBodyCtrl.eBodyViewport);this.bodyHeight!==e&&(this.bodyHeight=e,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function TV(e,t,n,r){var i;const o=null==(i=t.getColDef().cellRendererParams)?void 0:i.suppressMouseEventHandling;return VV(e,t,n,r,o)}function VV(e,t,n,r,i){return!!i&&i(iA(e,{column:t,node:n,event:r}))}function FV(e,t,n){let r=t;for(;r;){const t=XR(e,r,n);if(t)return t;r=r.parentElement}return null}var IV="cellCtrl";function LV(e,t){return FV(e,t,IV)}var BV="renderedRow";function HV(e,t){return FV(e,t,BV)}function _V(e,t,n,r,i){const o=r?r.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const a=iA(e,{event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});if(o){if(o(a))return!0}return!1}var GV=class extends JW{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),null==(e=this.beans.touchSvc)||e.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){const e=["dblclick","contextmenu","mouseover","mouseout","click",BW("touchstart")?"touchstart":"mousedown"];for(const t of e){const e=this.processMouseEvent.bind(this,t);this.addManagedElementListeners(this.element,{[t]:e})}}processMouseEvent(e,t){var n;if(!zW(this.beans,t)||DV(t))return;const{cellCtrl:r,rowCtrl:i}=this.getControlsForEventTarget(t.target);"contextmenu"===e?((null==r?void 0:r.column)&&r.dispatchCellContextMenuEvent(t),null==(n=this.beans.contextMenuSvc)||n.handleContextMenuMouseEvent(t,void 0,i,r)):(r&&r.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:LV(t,e),rowCtrl:HV(t,e)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):(null==r?void 0:r.isFullWidth())&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){var r,i;const o=(null==(r=this.editSvc)?void 0:r.isEditing(e,{withOpenEditor:!0}))??!1;if(!_V(this.gos,n,e.rowNode,e.column,o)&&"keydown"===t){!o&&(null==(i=this.beans.navigation)?void 0:i.handlePageScrollingKey(n))||e.onKeyDown(n),this.doGridOperations(n,o),function(e){var t;return!(e.altKey||e.ctrlKey||e.metaKey)&&1===(null==(t=e.key)?void 0:t.length)}(n)&&e.processCharacter(n)}"keydown"===t&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:r}=e,{focusSvc:i,navigation:o}=this.beans,a=i.getFocusedCell(),s=null==a?void 0:a.column;if(!_V(this.gos,n,r,s,!1)){const r=n.key;if("keydown"===t)switch(r){case LO:case BO:case FO:case IO:null==o||o.handlePageScrollingKey(n,!0);break;case WO:case AO:if(!this.gos.get("embedFullWidthRows"))break;case RO:case OO:e.onKeyboardNavigate(n);break;case jO:e.onTabKeyDown(n)}}"keydown"===t&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey)return;if(t)return;if(!zW(this.beans,e))return;const n=function(e){const{keyCode:t}=e;let n;switch(t){case 65:n=HO;break;case 67:n=_O;break;case 86:n=zO;break;case 68:n=GO;break;case 90:n=KO;break;case 89:n=UO;break;default:n=e.code}return n}(e),{clipboardSvc:r,undoRedo:i}=this.beans;return n===HO?this.onCtrlAndA(e):n===_O?this.onCtrlAndC(r,e):n===GO?this.onCtrlAndD(r,e):n===zO?this.onCtrlAndV(r,e):n===$O?this.onCtrlAndX(r,e):n===UO?this.onCtrlAndY(i):n===KO?this.onCtrlAndZ(i,e):void 0}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:i}=this;n&&tA(i)&&!function(e){const t=e.get("rowSelection");return"string"!=typeof t&&"multiRow"===(null==t?void 0:t.mode)&&(t.ctrlASelectsRows??!1)}(i)&&t.isRowsToRender()?function(e){const{pinnedRowModel:t,rowModel:n}=e,[r,i]=[(null==t?void 0:t.isEmpty("top"))??!0,(null==t?void 0:t.isEmpty("bottom"))??!0],o=r?null:"top";let a,s;i?(a=null,s=n.getRowCount()-1):(a="bottom",s=(null==t?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:l,rangeSvc:c}=e,u=l.allCols;c&&(null==u?void 0:u.length)&&c.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:s,rowEndPinned:a})}(this.beans):r&&r.selectAllRowNodes({source:"keyboardSelectAll",selectAll:nA(i)}),e.preventDefault()}onCtrlAndC(e,t){var n;if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:r}=this.getControlsForEventTarget(t.target);(null==(n=this.editSvc)?void 0:n.isEditing(r,{withOpenEditor:!0}))||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){var n;if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:r}=this.getControlsForEventTarget(t.target);(null==(n=this.editSvc)?void 0:n.isEditing(r,{withOpenEditor:!0}))||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){var n;const{cellCtrl:r}=this.getControlsForEventTarget(t.target);(null==(n=this.editSvc)?void 0:n.isEditing(r,{withOpenEditor:!0}))||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){this.gos.get("undoRedoCellEditing")&&e&&(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){null==e||e.redo("ui")}},zV=class extends JW{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=null!=t?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},$V=e=>e.topRowCtrls,UV=e=>e.getStickyTopRowCtrls(),KV=e=>e.getStickyBottomRowCtrls(),qV=e=>e.bottomRowCtrls,XV=e=>e.allRowCtrls,YV=e=>e.getCtrls("top"),ZV=e=>e.getCtrls("center"),JV=e=>e.getCtrls("bottom"),QV={center:{type:"center",name:"center-cols",getRowCtrls:XV,getSpannedRowCtrls:ZV},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:XV,getSpannedRowCtrls:ZV},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:XV,getSpannedRowCtrls:ZV},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:XV},topCenter:{type:"center",name:"floating-top",getRowCtrls:$V,getSpannedRowCtrls:YV},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:$V,getSpannedRowCtrls:YV},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:$V,getSpannedRowCtrls:YV},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:$V},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:UV},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:UV},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:UV},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:UV},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:KV},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:KV},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:KV},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:KV},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:qV,getSpannedRowCtrls:JV},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:qV,getSpannedRowCtrls:JV},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:qV,getSpannedRowCtrls:JV},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:qV}};function eF(e){return`ag-${nF(e).name}-viewport`}function tF(e){const t=nF(e);return t.container??`ag-${t.name}-container`}function nF(e){return QV[e]}var rF=["center","left","right","fullWidth"],iF=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],oF=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],aF=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],sF=["stickyTopCenter","stickyTopLeft","stickyTopRight"],lF=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],cF=[...sF,"stickyTopFullWidth",...lF,"stickyBottomFullWidth"],uF=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right",...sF,...lF],dF=class extends JW{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=nF(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new OV(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new GV(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:o}=this.beans,a=()=>this.onPinnedWidthChanged();this.forContainers(oF,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(null==i?void 0:i.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:a})}),this.forContainers(aF,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(null==i?void 0:i.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:a})}),this.forContainers(rF,()=>this.createManagedBean(new zV(this.eContainer,"center"===this.name?r:void 0))),o&&this.forContainers(uF,()=>this.createManagedBean(o.createDragListenerFeature(this.eContainer))),this.forContainers(iF,()=>this.createManagedBean(new AV(e=>this.comp.setContainerWidth(`${e}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const t=this.options.getSpannedRowCtrls(e);t&&this.comp.setSpannedRowCtrls(t,!1)}})}listenOnDomOrder(){if(cF.indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const e=()=>{const e=this.gos.get("ensureDomOrder"),t=GR(this.gos,"print");this.comp.setDomOrder(e||t)};this.addManagedPropertyListener("domLayout",e),e()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=t=>{e.dragging&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return vW(this.eViewport)}getCenterViewportScrollLeft(){return bW(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=WW(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return CW(this.eViewport)}getViewportScrollLeft(){return bW(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||(e=this.eViewport).clientWidth<e.scrollWidth;var e}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){yW(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||0===t.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const n=GR(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,i=t.filter(e=>{const t=e.isFullWidth();return this.options.fullWidth?!r&&t:r||!t});this.comp.setRowCtrls({rowCtrls:i,useFlushSync:e})}},hF=class extends JW{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,i,o,a){var s,l;this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=o,this.eStickyBottom=a,this.eCenterColsViewport=n.querySelector(`.${eF("center")}`),this.eFullWidthContainer=n.querySelector(`.${tF("fullWidth")}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${tF("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=a.querySelector(`.${tF("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",e=>this.setCellTextSelection(e.currentValue)),this.createManagedBean(new EV(this.comp)),this.scrollFeature=this.createManagedBean(new RV(n)),null==(s=this.beans.rowDragSvc)||s.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,o,a]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),null==(l=this.filterManager)||l.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t="rowResizeStarted"===e.type;this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=`calc(100% + ${(t&&e.getScrollbarWidth()||0)+(eT()?16:0)}px)`;RW(this.beans,()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const r=t.isPivotMode();n=(e?e.columns.length:0)>=(r?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){for(const t of e)this.addManagedElementListeners(t,{focusin:e=>{const{target:n}=e,r=pW(n,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:e=>{const{target:n,relatedTarget:r}=e,i=t.contains(r),o=pW(r,"ag-root",t);pW(n,"ag-root",t)||i&&!o||t.classList.remove("ag-has-focus")}})}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss("ag-selectable",e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;null==(e=this.beans.editSvc)||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var e,t;const n=((null==(e=this.ctrlsSvc.getHeaderRowContainerCtrl())?void 0:e.getRowCount())??0)+((null==(t=this.filterManager)?void 0:t.getHeaderRowCount())??0),{rowModel:r}=this.beans,i=r.isLastRowIndexKnown()?r.getRowCount():-1,o=-1===i?-1:n+i;this.comp.setRowCount(o)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?"ag-force-vertical-scroll":null,n=GR(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&(r=this.eBodyViewport).clientHeight<r.scrollHeight;var r}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const r=()=>{const t=n&&ZR(this.gos)&&!e.stretching,r=t?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,t)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener("animateRows",r),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:r,eBottom:i,beans:{popupSvc:o,touchSvc:a}}=this,s=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:s}),null==a||a.mockBodyContextMenu(this,s),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,o)});const l=this.onStickyWheel.bind(this);for(const u of[t,n,r,i])this.addManagedElementListeners(u,{wheel:l});const c=this.onHorizontalWheel.bind(this);for(const u of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(u).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&zW(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){var r;if(!e&&!n)return;if(this.gos.get("preventDefaultOnContextMenu")){(e||n).preventDefault()}const{target:i}=e||t;i!==this.eBodyViewport&&i!==this.ctrlsSvc.get("center").eViewport||null==(r=this.beans.contextMenuSvc)||r.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&(null==e?void 0:e.hasAnchoredPopup())&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=null==e?void 0:e.getPinnedTopTotalHeight(),r=null==e?void 0:e.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth()-t.getRowBorderWidth(),o=n?i+n:0,a=r?i+r:0;this.comp.setTopHeight(o),this.comp.setBottomHeight(a),this.comp.setTopInvisible(o<=0),this.comp.setBottomInvisible(a<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(e){const e=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${e}px)`)}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}setStickyTopOffsetTop(){var e,t;const n=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+((null==(e=this.filterManager)?void 0:e.getHeaderHeight())??0),r=(null==(t=this.pinnedRowModel)?void 0:t.getPinnedTopTotalHeight())??0;let i=0;n>0&&(i+=n),r>0&&(i+=r),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=((null==e?void 0:e.getPinnedBottomTotalHeight())??0)+(t.horizontalScrollShowing&&t.getScrollbarWidth()||0);n.setStickyBottomBottom(`${r}px`)}};var mF=class extends eO{constructor(e,t){super(),this.direction=t,this.eViewport=YA,this.eContainer=YA,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",YO()||ZO())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=eT(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),RW(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;!function(e,t,n,r=100){const i=Date.now();let o=null,a=!1;const s=()=>{null!=o&&(window.clearInterval(o),o=null)};e.addDestroyFunc(s);const l=()=>{const e=Date.now()-i>r;(t()||e)&&(n(),a=!0,s())};l(),a||(o=window.setInterval(l,10))}(this,()=>NW(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},pF={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},fF=class extends mF{constructor(){super(pF,"horizontal"),this.eLeftSpacer=YA,this.eRightSpacer=YA,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new AV(e=>this.eContainer.style.width=`${e}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var e;if(!this.invisibleScrollbar)return;const t=(null==(e=this.beans.pinnedRowModel)?void 0:e.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${t}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),SW(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=r),SW(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=r)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,i=n?0:0===r&&t?16:r,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),jW(this.getGui(),i),jW(this.eViewport,i),jW(this.eContainer,i),i||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return bW(this.eViewport,this.enableRtl)}setScrollPosition(e){NW(this.eViewport)||this.attemptSettingScrollPosition(e),yW(this.eViewport,e,this.enableRtl)}},gF={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},vF=class extends mF{constructor(){super(gF,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new zV(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,i=0===r&&n?16:r;this.toggleCss("ag-scrollbar-invisible",n),SW(this.getGui(),i),SW(this.eViewport,i),SW(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const t=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),r=t.scrollTop;n!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){t||NW(this.eViewport)||this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function bF(e,t,n,r){return HP(e)?[]:function(e,t,n,r,i){if(HP(e))return[];let o;if("function"==typeof e){const a=function(e,t,n,r){return iA(t,{colDef:e,column:n,columnGroup:r})}(t,n,r,i);o=e(a)}else o=e;if("string"==typeof o)return[o];if(Array.isArray(o))return[...o];return[]}(e.headerClass,e,t,n,r)}function yF(e,t,n){e.toggleCss("ag-column-first",n.isColAtEdge(t,"first")),e.toggleCss("ag-column-last",n.isColAtEdge(t,"last"))}function xF(e){var t;return e.gos.get("suppressHeaderFocus")||!!(null==(t=e.overlays)?void 0:t.isExclusive())}function wF(e){var t;return e.gos.get("suppressCellFocus")||!!(null==(t=e.overlays)?void 0:t.isExclusive())}function CF(e,t,n=!1){const r=e.ctrlsSvc.get("gridCtrl");return!(n||!r.focusNextInnerContainer(t))||((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function NF(e){var t;return(null==(t=e.ctrlsSvc.getHeaderRowContainerCtrl())?void 0:t.getRowCount())??0}function MF(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const r of n){if(!r)continue;const n=r.getGroupRowCount()||0;for(let i=0;i<n;i++){const n=r.getGroupRowCtrlAtIndex(i),o=t[i];if(n){const r=DF(e,n);(null==o||r>o)&&(t[i]=r)}}}return t}function DF(e,t){let n=e.colModel.isPivotMode()?function(e){return e.gos.get("pivotGroupHeaderHeight")??kF(e)}(e):kF(e);const r=t.getHeaderCellCtrls();for(const i of r){const{column:e}=i,t=e.getAutoHeaderHeight();null!=t&&t>n&&e.isAutoHeaderHeight()&&(n=t)}return n}function SF(e){let t=e.colModel.isPivotMode()?function(e){return e.gos.get("pivotHeaderHeight")??jF(e)}(e):jF(e);return e.colModel.forAllCols(e=>{const n=e.getAutoHeaderHeight();null!=n&&n>t&&e.isAutoHeaderHeight()&&(t=n)}),t}function jF(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function EF(e){return e.gos.get("floatingFiltersHeight")??jF(e)}function kF(e){return e.gos.get("groupHeaderHeight")??jF(e)}var PF=class extends JW{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:r}=this,{headerNavigation:i,touchSvc:o,ctrlsSvc:a}=r;i&&this.createManagedBean(new SV(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();const s=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:s}),null==o||o.mockHeaderContextMenu(this,s),a.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>RW(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var e;const{beans:t}=this;let n=0;const r=MF(t).reduce((e,t)=>e+t,0),i=SF(t);if((null==(e=t.filterManager)?void 0:e.hasFloatingFilters())&&(n+=EF(t)),n+=r,n+=i,this.headerHeight===n)return;this.headerHeight=n;const o=`${n+1}px`;this.comp.setHeightAndMinHeight(o),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const t=e.visibleCols.allCols.some(e=>e.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,r=n!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:o,focusSvc:a}=i;(o.navigateHorizontally(r,!0,e)||!n&&a.focusOverlay(!1)||CF(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case WO:t="LEFT";case AO:BP(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break;case RO:t="UP";case OO:BP(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(XP(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){var r;const{menuSvc:i,ctrlsSvc:o}=this.beans;if(!e&&!n||!(null==i?void 0:i.isHeaderContextMenuEnabled()))return;const{target:a}=e??t;a!==this.eGui&&a!==(null==(r=o.getHeaderRowContainerCtrl())?void 0:r.eViewport)||i.showHeaderContextMenu(void 0,e,n)}},WF=class extends JW{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?vA(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),r=BP(this.columnOrGroup.getOldLeft());(null==t?void 0:t.isActive())&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:r}=this.beans;if(!GR(n,"print"))return t;if("left"===e.getPinned())return t;const i=r.getColsLeftWidth();if("right"===e.getPinned()){return i+r.bodyWidth+t}return i+t}setLeft(e){if(BP(e)&&(this.eCell.style.left=`${e}px`),xV(this.columnOrGroup)){const e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&(t=this.ariaEl,n=e.length,eW(t,"colspan",n))}var t,n}},RF=0,AF="headerCtrl",OF=class extends JW{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=e.getUniqueId()+"-"+RF++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}setComp(e,t,n,r,i){t.setAttribute("col-id",this.column.colIdSanitised),this.wireComp(e,t,n,r,i),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),i=null==r?void 0:r.suppressHeaderKeyboardEvent;if(!BP(i))return!1;return!!i(iA(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e}))}getWrapperHasFocus(){return XP(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if("function"==typeof t){n=t(this.getHeaderClassParams())}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:i}=this,o=e=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:n,paddingBottom:a,borderBottomWidth:s,borderTopWidth:l}=fW(this.eGui),c=n+a+s+l,u=t.offsetHeight+c;if(e<5){const n=YP(i);if(!(null==n?void 0:n.contains(t))||0==u)return void rR(()=>o(e+1),"raf",i)}this.setColHeaderHeight(this.column,u)};let a,s=!1;const l=()=>{const e=this.column.isAutoHeaderHeight();e&&!s&&c(),!e&&s&&u()},c=()=>{s=!0,this.comp.toggleCss("ag-header-cell-auto-height",!0),o(0),a=WW(this.beans,t,()=>o(0))},u=()=>{s=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),r.addDestroyFunc(()=>u()),r.addManagedListeners(this.column,{widthChanged:()=>s&&o(0)}),r.addManagedEventListeners({sortChanged:()=>{s&&window.setTimeout(()=>o(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:r}=this;e&&t&&r&&(yF(e,t,n.visibleCols),cW(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=xF(this.beans);this.eGui&&PW(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var t;const n=XP(this.beans),r=e.key===WO||e.key===AO;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),n!==this.eGui||!e.shiftKey&&!e.altKey)return;if((this.isResizing||r)&&(e.preventDefault(),e.stopImmediatePropagation()),!r)return;const i=e.key===WO!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const n=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(n,e.shiftKey),null==(t=this.resizeFeature)||t.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){var t;null==(t=this.beans.colMoves)||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let r=e.key===WO!==t.get("enableRtl");const i=n.getPinned(),o=t.get("enableRtl");return i&&o!==("right"===i)&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;null==(e=this.resizeFeature)||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case IO:case FO:case LO:case BO:t&&e.preventDefault()}}addDomData(e){const t=AF,{eGui:n,gos:r}=this;YR(r,n,t,this),e.addDestroyFunc(()=>YR(r,n,t,null))}focus(e){if(!this.isAlive())return!1;const{eGui:t}=this;return t?(t.focus(),this.lastFocusEvent=e||null):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&(null==(e=this.beans.dragAndDrop)||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const r=e??t,{menuSvc:i,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&r.preventDefault(),(null==i?void 0:i.isHeaderContextMenuEnabled(n))&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},TF=class extends OF{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(e,t,n,r,i){this.comp=e;const{rowCtrl:o,column:a,beans:s}=this,{colResize:l,context:c,colHover:u,rangeSvc:d}=s,h=XA(this,c,i);this.setGui(t,h),this.updateState(),this.setupWidth(h),this.setupMovingCss(h),this.setupMenuClass(h),this.setupSortableClass(h),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:e=>this.setRefreshFunction("measuring",e),compBean:h}),this.addColumnHoverListener(h),this.setupFilterClass(h),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(h),this.setupSelectAll(h),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=h.createManagedBean(l.createResizeFeature(o.pinned,a,n,e,this)):hW(n,!1),null==u||u.createHoverFeature(h,[a],t),null==d||d.createRangeHighlightFeature(h,a,e),h.createManagedBean(new WF(a,t,s)),h.createManagedBean(new SV(t,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(h),h.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),h.addManagedListeners(a,{colDefChanged:()=>this.refresh()}),h.addManagedListeners(a,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const m=()=>this.checkDisplayName();h.addManagedEventListeners({columnValueChanged:m,columnRowGroupChanged:m,columnPivotChanged:m,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),h.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var n;null==(n=this.beans.colResize)||n.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return iA(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return function(e,t,n){return e.getCompDetails(t,rO,"agColumnHeader",n)}(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return iA(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(null==e?void 0:e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!n&&(!this.openFilterEnabled||rA(this.gos)),showColumnMenu:(t,n)=>{null==e||e.showColumnMenu({column:this.column,buttonElement:t,positionBy:"button",onClosedCallback:n})},showColumnMenuAfterMouseClick:(t,n)=>{null==e||e.showColumnMenu({column:this.column,mouseEvent:t,positionBy:"mouse",onClosedCallback:n})},showFilter:t=>{null==e||e.showFilterMenu({column:this.column,buttonElement:t,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{null==t||t.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,n)=>{null==t||t.setSortForColumn(this.column,e,!!n,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(e,t)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(e,t)}})}setupSelectAll(e){var t;const{selectionSvc:n}=this.beans;n&&(this.selectAllFeature=e.createOptionalManagedBean(n.createSelectAllFeature(this.column)),null==(t=this.selectAllFeature)||t.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{var t;const r=n.createSelectAllFeature(this.column);r&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(r),null==(t=this.selectAllFeature)||t.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!r&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){var e;return null==(e=this.selectAllFeature)?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===PO&&(null==(t=this.selectAllFeature)||t.onSpaceKeyDown(e)),e.key===EO&&this.onEnterKeyDown(e),e.key===OO&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&(null==(t=this.beans.sortSvc)||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();VF(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),sT&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var n;this.tooltipFeature=null==(n=this.beans.tooltipSvc)?void 0:n.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const e=bF(this.column.getColDef(),this.gos,this.column,null),t=this.userHeaderClasses;this.userHeaderClasses=new Set(e);for(const n of e)t.has(n)?t.delete(n):this.comp.toggleCss(n,!0);for(const n of t)this.comp.toggleCss(n,!1)};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable&&(this.dragSource=(null==(t=this.beans.colMoves)?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(null==e?void 0:e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(null==e?void 0:e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria();for(const e of Object.values(this.refreshFunctions))e()}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass)&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();if(!t)return!1;if(!t.refresh)return!1;return t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var e;null==(e=this.comp)||e.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const e=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",e),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",e)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=0===e,n=1===e;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){var e;const{eGui:t,column:n,comp:r,beans:i}=this,o=MF(this.beans),a=0===o.reduce((e,t)=>e+t,0);if(r.toggleCss("ag-header-parent-hidden",a),!n.isSpanHeaderHeight())return t.style.removeProperty("top"),t.style.removeProperty("height"),r.toggleCss("ag-header-span-height",!1),void r.toggleCss("ag-header-span-total",!1);const{numberOfParents:s,isSpanningTotal:l}=this.column.getColumnGroupPaddingInfo();r.toggleCss("ag-header-span-height",s>0);const c=SF(i);if(0===s)return r.toggleCss("ag-header-span-total",!1),t.style.setProperty("top","0px"),void t.style.setProperty("height",`${c}px`);r.toggleCss("ag-header-span-total",l);const u=((null==(e=this.column.getFirstRealParent())?void 0:e.getLevel())??-1)+1,d=o.length-u;let h=0;for(let m=0;m<d;m++)h+=o[o.length-1-m];t.style.setProperty("top",-h+"px"),t.style.setProperty("height",`${c+h}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),n=(null==(e=this.beans.sortSvc)?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(function(e){let t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!rA(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var e;if(!this.eGui.contains(XP(this.beans)))return;const t=Array.from(this.ariaDescriptionProperties.keys()).sort((e,t)=>"filter"===e?-1:t.charCodeAt(0)-e.charCodeAt(0)).map(e=>this.ariaDescriptionProperties.get(e)).join(". ");null==(e=this.beans.ariaAnnounce)||e.announceValue(t,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;null==(t=this.beans.colHover)||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=e=>this.handleMouseOverChange("mouseenter"===e.type);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column)})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return VF(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function VF(e){return"function"==typeof(null==e?void 0:e.getAnchorElementForMenu)&&"function"==typeof e.onMenuKeyboardShortcut}var FF=0,IF=class extends JW{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=FF++,this.comp=null,this.allCtrls=[];let r="ag-header-row-column";"group"===n?r="ag-header-row-group":"filter"===n&&(r="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${r}`}setRowIndex(e){var t;this.rowIndex=e,null==(t=this.comp)||t.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=GR(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return!!this.comp&&this.allCtrls.every(e=>null!=e.eGui)}setComp(e,t,n=!0){this.comp=e,t=XA(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:e=>this.onVirtualColumnsChanged(e.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",e=>this.isEnsureDomOrder=e.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=GR(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;if(this.isPrintLayout){return null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null)}return e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=MF(this.beans);for(let r=0;r<t.length;r++){if(r===this.rowIndex&&"group"===this.type)return{topOffset:e,rowHeight:t[r]};e+=t[r]}const n=SF(this.beans);if("column"===this.type)return{topOffset:e,rowHeight:n};e+=n;return{topOffset:e,rowHeight:EF(this.beans)}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,this.ctrlsById,e);const n=e=>{const{focusSvc:t,visibleCols:n}=this.beans;if(!t.isHeaderWrapperFocused(e))return!1;return n.isVisible(e.column)};if(e)for(const[r,i]of e){n(i)?this.ctrlsById.set(r,i):this.destroyBean(i)}return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const r=e.getUniqueId();let i;n&&(i=n.get(r),n.delete(r));if(i&&i.column!=e&&(this.destroyBean(i),i=void 0),null==i)switch(this.type){case"filter":i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break;case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new TF(e,this))}t.set(r,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];for(const t of["left",null,"right"])e.push(...this.getComponentsToRender(t));return e}getComponentsToRender(e=this.pinned){return"group"===this.type?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(t=>t.column==e);if(!n)return!1;return n.focus(t)}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},LF=class extends JW{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:r,colModel:i,colMoves:o}=this.beans;this.setupCenterWidth(),null==n||n.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);const a=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const s=`${"string"==typeof this.pinned?this.pinned:"center"}Header`;r.register(s,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:r}=this.beans;let i=0;const o=t.getFocusHeaderToUseAfterRefresh(),a=this.getAllCtrls();(()=>{const t=r.headerGroupRowCount;i=t,e||(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls));const n=this.groupsRowCtrls.length;if(n!==t)if(n>t){for(let e=t;e<n;e++)this.destroyBean(this.groupsRowCtrls[e]);this.groupsRowCtrls.length=t}else for(let e=n;e<t;e++){const t=this.createBean(new IF(e,this.pinned,"group"));this.groupsRowCtrls.push(t)}})(),(()=>{const t=i++;this.hidden?this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl):null!=this.columnsRowCtrl&&e?this.columnsRowCtrl.rowIndex!==t&&this.columnsRowCtrl.setRowIndex(t):(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new IF(t,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=!!(null==n?void 0:n.hasFloatingFilters())&&!this.hidden;const t=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void t();e||t();const r=i++;if(this.filtersRowCtrl){this.filtersRowCtrl.rowIndex!==r&&this.filtersRowCtrl.setRowIndex(r)}else this.filtersRowCtrl=this.createBean(new IF(r,this.pinned,"filter"))})();const s=this.getAllCtrls();this.comp.setCtrls(s),this.restoreFocusOnHeader(t,o),a.length!==s.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=t=>null==t?void 0:t.getHeaderCellCtrls().find(t=>t.column===e);if(uA(e))return t(this.columnsRowCtrl);if(0!==this.groupsRowCtrls.length)for(let n=0;n<this.groupsRowCtrls.length;n++){const e=t(this.groupsRowCtrls[n]);if(e)return e}}getHtmlElementForColumnHeader(e){var t;return(null==(t=this.getHeaderCtrlForColumn(e))?void 0:t.eGui)??null}getRowType(e){var t;return null==(t=this.getAllCtrls()[e])?void 0:t.type}focusHeader(e,t,n){const r=this.getAllCtrls()[e];return!!r&&r.focusHeader(t,n)}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=null==e?void 0:e.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t,scroll:!1})}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new AV(e=>this.comp.setCenterWidth(`${e}px`),!0))}},BF=class extends eO{constructor(){super()}},HF={tag:"span",cls:"ag-overlay-loading-center"},_F={tag:"span",cls:"ag-overlay-no-rows-center"};function GF(e,t,n){var r;let i=null;"smallDown"===e?VR(262):"smallLeft"===e?VR(263):"smallRight"===e&&VR(264);const o=null==n?void 0:n.getColDef().icons;if(o&&(i=o[e]),t.gos&&!i){const n=t.gos.get("icons");n&&(i=n[e])}if(i){let t;if("function"==typeof i)t=i();else{if("string"!=typeof i)return void VR(38,{iconName:e});t=i}return"string"==typeof t?MW(t):kW(t)?t:void VR(133,{iconName:e})}{const n=t.registry.getIcon(e);return n||null==(r=t.validation)||r.validateIcon(e),CV({tag:"span",cls:`ag-icon ag-icon-${n??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var zF={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},$F={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]};var UF,KF="ag-tab-guard",qF="ag-tab-guard-top",XF="ag-tab-guard-bottom",YF=class extends JW{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:r,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:a,focusInnerElement:s,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:u,onTabKeyDown:d,handleKeyDown:h,isEmpty:m,eFocusableElement:p}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=s,this.eFocusableElement=p,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!a,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h,this.providedIsEmpty=m}postConstruct(){this.createManagedBean(new SV(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards();for(const e of[this.eTopGuard,this.eBottomGuard])this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty){if(this.providedIsEmpty?this.providedIsEmpty():0===dT(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var t;const n=dT(YP(this.beans).body,null,!0),r=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1===r)return;let i,o;e?(i=0,o=r):(i=r+1,o=n.length);const a=n.slice(i,o),s=this.gos.get("tabIndex");a.sort((e,t)=>{const n=Number.parseInt(e.getAttribute("tabindex")||"0"),r=Number.parseInt(t.getAttribute("tabindex")||"0");return r===s?1:n===s?-1:0===n?1:0===r?-1:n-r}),null==(t=a[e?a.length-1:0])||t.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive)return;if(e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=dT(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),!!t.length&&(t[e?t.length-1:0].focus({preventScroll:!0}),!0)}getNextFocusableElement(e){return mT(this.beans,this.eFocusableElement,0,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},ZF=class{constructor(e,t=!1){this.eElement=e,this.preventClick=t,this.startListener=null,this.handlers=[],this.eventSvc=void 0,this.touchStart=null,this.lastTapTime=null,this.longPressTimer=0,this.moved=!1}addEventListener(e,t){let n=this.eventSvc;if(!n){if(null===n)return;this.eventSvc=n=new IP;const e=this.onTouchStart.bind(this);this.startListener=e,this.eElement.addEventListener("touchstart",e,{passive:!0})}n.addEventListener(e,t)}removeEventListener(e,t){var n;null==(n=this.eventSvc)||n.removeEventListener(e,t)}onTouchStart(e){if(this.touchStart||!(e=>{if(UF){if(UF.has(e))return!1}else UF=new WeakSet;return UF.add(e),!0})(e))return;const t=e.touches[0];this.touchStart=t;const n=this.handlers;if(!n.length){const e=this.eElement,t=e.ownerDocument,r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this),o=this.onTouchCancel.bind(this),a={passive:!0},s={passive:!1};UW(n,[e,"touchmove",r,a],[t,"touchcancel",o,a],[t,"touchend",i,s],[t,"contextmenu",qW,s])}this.clearLongPress(),this.longPressTimer=window.setTimeout(()=>{var n;this.longPressTimer=0,this.touchStart!==t||this.moved||(this.moved=!0,null==(n=this.eventSvc)||n.dispatchEvent({type:"longTap",touchStart:t,touchEvent:e}))},550)}onTouchMove(e){const{moved:t,touchStart:n}=this;if(!t&&n){const t=GW(n,e.touches);t&&!_W(t,n,4)&&(this.clearLongPress(),this.moved=!0)}}onTouchEnd(e){var t;const n=this.touchStart;n&&GW(n,e.changedTouches)&&(this.moved||(null==(t=this.eventSvc)||t.dispatchEvent({type:"tap",touchStart:n}),this.checkDoubleTap(n)),this.preventClick&&qW(e),this.cancel())}onTouchCancel(e){const t=this.touchStart;t&&GW(t,e.changedTouches)&&(this.lastTapTime=null,this.cancel())}checkDoubleTap(e){var t;let n=Date.now();const r=this.lastTapTime;if(r){n-r>500&&(null==(t=this.eventSvc)||t.dispatchEvent({type:"doubleTap",touchStart:e}),n=null)}this.lastTapTime=n}cancel(){this.clearLongPress(),KW(this.handlers),this.touchStart=null}clearLongPress(){window.clearTimeout(this.longPressTimer),this.longPressTimer=0,this.moved=!1}destroy(){const e=this.startListener;e&&(this.startListener=null,this.eElement.removeEventListener("touchstart",e)),this.cancel(),this.eElement=null,this.eventSvc=null}},JF=class{constructor(e="javascript"){var t;this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e(),this.baseDocLink=`${mR}/${this.frameworkName}-data-grid`,t=this.baseDocLink,kR=t}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return this.baseDocLink+(e?"/"+e:"")}};function QF(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var eI=Object.fromEntries(["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"].map((e,t)=>[e,t]));function tI(e,t){return((e.beanName?eI[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER)-((t.beanName?eI[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER)}function nI(e,t){return"gridDestroySvc"===(null==e?void 0:e.beanName)?-1:"gridDestroySvc"===(null==t?void 0:t.beanName)?1:0}var rI=class extends JW{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getId());const{dragAndDrop:r,ctrlsSvc:i}=this.beans;null==r||r.registerGridDropTarget(()=>this.eGui,this),this.createManagedBean(new EV(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const o=WW(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),i.register("gridCtrl",this)}isDetailGrid(){var e;const t=function(e,t=5){let n=0;for(;e&&null===JO(e)&&++n<=t;)e=e.parentElement;return null===JO(e)?null:e}(this.getGui());return(null==(e=null==t?void 0:t.getAttribute("row-id"))?void 0:e.startsWith("detail"))||!1}getOptionalSelectors(){var e,t,n,r,i;const o=this.beans;return{paginationSelector:null==(e=o.pagination)?void 0:e.getPaginationSelector(),gridHeaderDropZonesSelector:null==(t=o.registry)?void 0:t.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:null==(n=o.sideBar)?void 0:n.getSelector(),statusBarSelector:null==(r=o.registry)?void 0:r.getSelector("AG-STATUS-BAR"),watermarkSelector:null==(i=o.licenseManager)?void 0:i.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(!1===e)t.setCursor(null);else{const n=1===e?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(0===r){if(n>0){const{visibleCols:e,focusSvc:t}=this.beans,n=vA(e.allCols);if(t.focusGridView({column:n,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(null==t?void 0:t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:r,visibleCols:i}=this.beans,o=i.allCols;if(e){if(n.length>1)return this.focusContainer(vA(n),e);const t=vA(o);if(r.focusGridView({column:t,backwards:e}))return!0}if(0===this.gos.get("headerHeight")||xF(this.beans)){if(r.focusGridView({column:o[0],backwards:e}))return!0;for(let t=1;t<n.length;t++)if(hT(n[t].getGui(),e))return!0;return!1}return r.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var t;const n=this.view.getFocusableContainers(),{nextIndex:r,indexWithFocus:i}=this.getNextFocusableIndex(n,e);if(-1===i||r<0||r>=n.length)return;const o=n[r];null==(t=o.setAllowFocus)||t.call(o,!0),setTimeout(()=>{var e;null==(e=o.setAllowFocus)||e.call(o,!1)})}isFocusable(){var e,t;const n=this.beans;return!wF(n)||!xF(n)||!!(null==(t=null==(e=n.sideBar)?void 0:e.comp)?void 0:t.isDisplayed())}getNextFocusableIndex(e,t){const n=XP(this.beans),r=e.findIndex(e=>e.getGui().contains(n));return{indexWithFocus:r,nextIndex:r+(t?-1:1)}}focusContainer(e,t){var n,r;null==(n=e.setAllowFocus)||n.call(e,!0);const i=hT(e.getGui(),t,!1,!0);return null==(r=e.setAllowFocus)||r.call(e,!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},iI=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},oI={dispatchEvent:"CommunityCore",...iI("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...iI("GridState",{getState:0,setState:0}),...iI("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...iI("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...iI("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...iI("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...iI("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...iI("ValueCache",{expireValueCache:0}),...iI("CellApi",{getCellValue:0}),...iI("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...iI("Sort",{onSortChanged:0}),...iI("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...iI("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...iI("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...iI("HighlightChanges",{flashCells:0}),...iI("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...iI("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...iI("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...iI("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...iI("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...iI("ColumnResize",{setColumnWidths:0}),...iI("ColumnHover",{isColumnHovered:0}),...iI("EditCore",{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...iI("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...iI("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...iI("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...iI("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...iI("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...iI("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...iI("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...iI("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0}),...iI("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...iI("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0}),...iI("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...iI("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...iI("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...iI("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...iI("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...iI("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...iI("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...iI("ContextMenu",{showContextMenu:0}),...iI("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...iI("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...iI("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...iI("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...iI("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...iI("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0}),...iI("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...iI("StatusBar",{getStatusPanel:0}),...iI("AiToolkit",{getStructuredSchema:0})},aI={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},sI=(e,t)=>e.eventSvc.dispatchEvent(t),lI=class{};Reflect.defineProperty(lI,"name",{value:"GridApi"});function cI(e,t){e.gos.updateGridOptions({options:t})}function uI(e,t){var n,r;switch(t.rowPinned){case"top":return null==(n=e.pinnedRowModel)?void 0:n.getPinnedTopRow(t.rowIndex);case"bottom":return null==(r=e.pinnedRowModel)?void 0:r.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function dI(e,t){var n;const r=null==(n=e.spannedRowRenderer)?void 0:n.getCellByPosition(t);if(r)return r;const i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function hI(e,t,n=!1){const{rowIndex:r,rowPinned:i}=t,{pageBounds:o,pinnedRowModel:a,rowModel:s}=e;if(0===r)return"top"===i?null:"bottom"===i&&s.isRowsToRender()?{rowIndex:o.getLastRow(),rowPinned:null}:(null==a?void 0:a.isRowsToRender("top"))?{rowIndex:a.getPinnedTopRowCount()-1,rowPinned:"top"}:null;if(n){return pI(e,i?void 0:s.getRow(r),!0)??{rowIndex:r-1,rowPinned:i}}return{rowIndex:r-1,rowPinned:i}}function mI(e,t,n=!1){const{rowIndex:r,rowPinned:i}=t,{pageBounds:o,pinnedRowModel:a,rowModel:s}=e;if(function(e,t){const{rowPinned:n,rowIndex:r}=t,{pinnedRowModel:i,pageBounds:o}=e;if("top"===n){return((null==i?void 0:i.getPinnedTopRowCount())??0)-1<=r}if("bottom"===n){return((null==i?void 0:i.getPinnedBottomRowCount())??0)-1<=r}const a=o.getLastRow();return a<=r}(e,t))return"bottom"===i?null:"top"===i&&s.isRowsToRender()?{rowIndex:o.getFirstRow(),rowPinned:null}:(null==a?void 0:a.isRowsToRender("bottom"))?{rowIndex:0,rowPinned:"bottom"}:null;if(n){return pI(e,i?void 0:s.getRow(r))??{rowIndex:r+1,rowPinned:i}}return{rowIndex:r+1,rowPinned:i}}function pI(e,t,n=!1){const{gos:r,rowRenderer:i}=e;if(!(null==t?void 0:t.sticky)||!JR(r))return;const o=i.getStickyTopRowCtrls(),a=i.getStickyBottomRowCtrls(),s=!a.some(e=>e.rowNode.rowIndex===t.rowIndex),l=s?o:a,c=(n?-1:1)*(s?-1:1);let u;for(let d=0;d<l.length;d++)if(l[d].rowNode.rowIndex===t.rowIndex){u=l[d+c];break}return u?{rowIndex:u.rowNode.rowIndex,rowPinned:null}:void 0}var fI=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:r}=e;if(r)for(let i=0;i<r.length;++i)this.depthFirstSearchChangedPath(r[i],t);t(n)}depthFirstSearchEverything(e,t,n){const r=e.childrenAfterGroup;if(r)for(let i=0,o=r.length;i<o;++i){const e=r[i];e.childrenAfterGroup?this.depthFirstSearchEverything(e,t,n):n&&t(e)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const e={rowNode:t,children:null};this.mapToItems[t.id]=e,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;){this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={});for(const e of t)this.nodeIdsToColumns[n.id][e.getId()]=!0;n=n.parent}}linkPathItems(e,t){let n=e;for(let r=0;r<t;r++){const e=this.mapToItems[n.id],t=this.mapToItems[n.parent.id];t.children||(t.children=[]),t.children.push(e),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(e=>n[e.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(e=>!n[e.getId()])}},gI={moduleName:"Drag",version:jR,beans:[class extends pV{shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&super.shouldPreventMouseEvent(e)}}]},vI={moduleName:"SharedDragAndDrop",version:jR,beans:[class extends bV{createEvent(e){return iA(this.gos,e)}createDragImageComp(e){const{gos:t,beans:n}=this,r=(i=n.userCompFactory,o=iA(t,{dragSource:e}),i.getCompDetailsFromGridOptions(nO,"agDragAndDropImage",o,!0));var i,o;return null==r?void 0:r.newAgStackInstance()}handleEnter(e,t){var n;null==(n=null==e?void 0:e.onGridEnter)||n.call(e,t)}handleExit(e,t){var n;null==(n=null==e?void 0:e.onGridExit)||n.call(e,t)}warnNoBody(){VR(54)}isDropZoneWithinThisGrid(e){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(e.dropZoneTarget)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:e=>1===e||0===e,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}}],dependsOn:[gI],userComponents:{agDragAndDropImage:class extends eO{constructor(){super(),this.dragSource=null,this.eIcon=YA,this.eLabel=YA,this.eGhost=YA,this.registerCSS(".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}")}postConstruct(){const e=e=>function(e,t,n){const r=GF(e,t,n);if(r){const{className:e}=r;if("string"==typeof e&&e.includes("ag-icon")||"object"==typeof e&&e["ag-icon"])return r}const i=CV({tag:"span"});return i.appendChild(r),i}(e,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(zF),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eGhost:n,eIcon:r,dragSource:i,dropIconMap:o,gos:a}=this;xW(r);let s=null;e||(e=(null==i?void 0:i.getDefaultIconName)?i.getDefaultIconName():"notAllowed"),s=o[e],n.classList.toggle("ag-dnd-ghost-not-allowed","notAllowed"===e),r.classList.toggle("ag-shake-left-to-right",t),s===o.hide&&a.get("suppressDragLeaveHidesColumns")||s&&r.appendChild(s)}setLabel(e){this.eLabel.textContent=e}}},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},bI={moduleName:"HorizontalResize",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;n.addDragSource(t);return()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}}],dependsOn:[gI]};var yI=class extends JW{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;if(t)for(const n of t)n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&(null==t||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(null==n||n.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(null==r||r.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function xI(e){const{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:o,pinned:a,gos:s,colModel:l,colMoves:c,visibleCols:u}=e;let{allMovingColumns:d}=e;t&&(d=function(e){var t;const n=[...e];for(const r of e){let e=null,i=r.getParent();for(;null!=i&&1===i.getDisplayedLeafColumns().length;)e=i,i=i.getParent();if(null!=e){const r=(null==(t=e.getColGroupDef())?void 0:t.marryChildren)?e.getProvidedColumnGroup().getLeafColumns():e.getLeafColumns();for(const e of r)n.includes(e)||n.push(e)}}return n}(d));const h=d.slice();!function(e,t){if(!t||t.length<=1)return;t.filter(t=>e.indexOf(t)<0).length>0||t.sort((t,n)=>e.indexOf(t)-e.indexOf(n))}(l.getCols(),h);const m=function(e){const{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:o,colModel:a,visibleCols:s}=e,l=o.get("suppressMovableColumns")||t.some(e=>e.getColDef().suppressMovable);if(l)return[];const c=function(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}(s,i),u=a.getCols(),d=c.filter(e=>t.includes(e)),h=c.filter(e=>!t.includes(e)),m=u.filter(e=>!t.includes(e));let p,f=0,g=r;if(n){let e=0;for(const t of d)e+=t.getActualWidth();g-=e}if(g>0){for(let e=0;e<h.length;e++){if(g-=h[e].getActualWidth(),g<0)break;f++}n&&f++}if(f>0){const e=h[f-1];p=m.indexOf(e)+1}else p=m.indexOf(h[0]),-1===p&&(p=0);const v=[p],b=(e,t)=>e-t;if(n){let e=p+1;const t=u.length-1;for(;e<=t;)v.push(e),e++;v.sort(b)}else{let e=p;const t=u.length-1;let n=u[e];for(;e<=t&&c.indexOf(n)<0;)e++,v.push(e),n=u[e];e=p-1;const r=0;for(;e>=r;)v.push(e),e--;v.sort(b).reverse()}return v}({movingCols:h,draggingRight:n,xPosition:r,pinned:a,gos:s,colModel:l,visibleCols:u}),p=function(e,t){const n=t.getCols(),r=e.map(e=>n.indexOf(e)).sort((e,t)=>e-t),i=r[0],o=vA(r);return o-i!==r.length-1?null:i}(h,l);if(0===m.length)return;const f=m[0];if(null!==p&&(t||!i)&&!o){if(!n&&f>=p)return;if(n&&f<=p)return}const g=function(e,t,n,r){const i=r.allCols;let o=null,a=null;for(let s=0;s<e.length;s++){const r=e[s],l=n.getProposedColumnOrder(t,r);if(!n.doesOrderPassRules(l))continue;const c=l.filter(e=>i.includes(e));if(null===a)a=c;else if(!bA(c,a))break;const u=CI(l);(null===o||u<o.fragCount)&&(o={move:r,fragCount:u})}return o}(m,h,c,u);if(!g)return;const v=g.move;return v>l.getCols().length-h.length?void 0:{columns:h,toIndex:v}}function wI(e){const{columns:t,toIndex:n}=xI(e)||{},{finished:r,colMoves:i}=e;return t&&null!=n?(i.moveColumns(t,n,"uiColumnMoved",r),r?null:{columns:t,toIndex:n}):null}function CI(e){function t(e){const t=[];let n=e.getOriginalParent();for(;null!=n;)t.push(n),n=n.getOriginalParent();return t}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),o=t(e[r+1]);[i,o]=i.length>o.length?[i,o]:[o,i];for(const e of i)-1===o.indexOf(e)&&n++}return n}function NI(e){var t;const{pinned:n,fromKeyboard:r,gos:i,ctrlsSvc:o,useHeaderRow:a,skipScrollPadding:s}=e;let l=null==(t=o.getHeaderRowContainerCtrl(n))?void 0:t.eViewport,{x:c}=e;return l?(r&&(c-=l.getBoundingClientRect().left),i.get("enableRtl")&&(a&&(l=l.querySelector(".ag-header-row")),c=l.clientWidth-c),null!=n||s||(c+=o.get("center").getCenterViewportScrollLeft()),c):0}function MI(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var DI=class extends JW{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!BP(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},r=(null==n?void 0:n.columns)??[];for(const i of r){const t=i.getPinned();if(i.getColDef().lockPinned){if(t==e)return"move";continue}const r=null==n?void 0:n.containerType;if(r===e||!e)return"move";if(e&&(!t||r!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(0===e.dragSource.type)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const e=t.visibleState,r=(n||[]).filter(t=>e[t.getId()]&&!t.isVisible());this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){const{gos:i,ctrlsSvc:o}=this.beans,a=i.get("suppressMoveWhenColumnDragging");if(r&&!a)return void this.finishColumnMoving();if(this.lastDraggingEvent=e,!e||!r&&HP(e.hDirection))return;const s=NI({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:o});t||this.checkCenterForScrolling(s),a?this.handleColumnDragWhileSuppressingMovement(e,t,n,s,r):this.handleColumnDragWhileAllowingMovement(e,t,n,s,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!(null==e?void 0:e.length))return;const r=e.filter(e=>!e.getColDef().lockVisible);r.length&&this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){const o=this.getAllMovingColumns(e,!0);if(i){const e=this.isAttemptingToPin(o);e&&this.attemptToPinColumns(o,void 0,!0);const{fromLeft:r,xPosition:i}=this.getNormalisedXPositionInfo(o,e)||{};if(null==r||null==i)return void this.finishColumnMoving();this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:i,fromEnter:t,fakeEvent:n,fromLeft:r})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){const o=this.getAllMovingColumns(e),a="right"===this.normaliseDirection(e.hDirection),s=1===e.dragSource.type,l=wI({...this.getMoveColumnParams({allMovingColumns:o,isFromHeader:s,xPosition:r,fromLeft:a,fromEnter:t,fakeEvent:n}),finished:i});l&&(this.lastMovedInfo=l)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let r=null;t?(r=n.columnsInSplit,r||(r=n.columns)):r=n.columns;return r?r.filter(e=>!e.getColDef().lockPinned||e.getPinned()==this.pinned):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:o,fakeEvent:a}=e,{gos:s,colModel:l,colMoves:c,visibleCols:u}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:this.pinned,fromEnter:o,fakeEvent:a,gos:s,colModel:l,colMoves:c,visibleCols:u}}highlightHoveredColumn(e,t){var n;const{gos:r,colModel:i}=this.beans,o=r.get("enableRtl"),a=i.getCols().filter(e=>e.isVisible()&&e.getPinned()===this.pinned);let s,l=null,c=null,u=null;for(const d of a){if(c=d.getActualWidth(),l=this.getNormalisedColumnLeft(d,0,o),null!=l){if(l<=t&&l+c>=t){u=d;break}}l=null,c=null}if(u)-1!==e.indexOf(u)&&(u=null);else{for(let e=a.length-1;e>=0;e--){const t=a[e],n=a[e].getParent();if(!n){u=t;break}const r=null==n?void 0:n.getDisplayedLeafColumns();if(r.length){u=vA(r);break}}if(!u)return;l=this.getNormalisedColumnLeft(u,0,o),c=u.getActualWidth()}(null==(n=this.lastHighlightedColumn)?void 0:n.column)!==u&&this.clearHighlighted(),null!=u&&null!=l&&null!=c&&(s=t-l<c/2!==o?0:1,SI(u,s),this.lastHighlightedColumn={column:u,position:s})}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:r}=this.beans,i=n.get("enableRtl"),{firstMovingCol:o,column:a,position:s}=this.getColumnMoveAndTargetInfo(e,t,i);if(!o||!a||null==s)return;const l=r.allCols,c=l.indexOf(o),u=l.indexOf(a),d=0===s!==i,h=c<u||c===u&&!d;let m=0;if(d?h&&(m-=1):h||(m+=1),u+m===c)return;const p=l[u+m];if(!p)return;return{fromLeft:h,xPosition:this.getNormalisedColumnLeft(p,20,i)}}getColumnMoveAndTargetInfo(e,t,n){const r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:o}=function(e){const t=e.length;let n,r;for(let i=0;i<t;i++){if(!n){const t=e[i];null!=t.getLeft()&&(n=t)}if(!r){const n=e[t-1-i];null!=n.getLeft()&&(r=n)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}(e);if(!i||!o||r.column||!t)return{firstMovingCol:i,...r};const a="left"===this.getPinDirection();return{firstMovingCol:i,position:a?1:0,column:a!==n?i:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:r,ctrlsSvc:i}=this.beans,o=e.getLeft();if(null==o)return null;const a=e.getActualWidth();return NI({x:n?o+a-t:o+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>7;return t&&n||e.some(e=>e.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:o}=e,a=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:o,fromEnter:r,fakeEvent:i}),{columns:s,toIndex:l}=xI(a)||{};s&&null!=l&&(this.lastMovedInfo={columns:s,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(SI(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth();let i,o;this.gos.get("enableRtl")?(i=e<n+50,o=e>r-50):(o=e<n+50,i=e>r-50),this.needToMoveRight=i,this.needToMoveLeft=o,o||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){var e;let t;this.intervalCount++,t=10+5*this.intervalCount,t>100&&(t=100);let n=null;const r=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?n=r.scrollHorizontally(-t):this.needToMoveRight&&(n=r.scrollHorizontally(t)),0!==n)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:t,dragAndDrop:n,gos:r}=this.beans;if(this.failedMoveAttempts<=8||!t)return;if(n.setDragImageCompIcon("pinned"),!r.get("suppressMoveWhenColumnDragging")){const t=null==(e=this.lastDraggingEvent)?void 0:e.dragItem.columns;this.attemptToPinColumns(t,void 0,!0)}}}getPinDirection(){return this.needToMoveLeft||"left"===this.pinned?"left":this.needToMoveRight||"right"===this.pinned?"right":void 0}attemptToPinColumns(e,t,n=!1){const r=(e||[]).filter(e=>!e.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:o}=this.beans;return null==i||i.setColsPinned(r,t,"uiColumnDragged"),n&&o.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function SI(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}var jI=class extends JW{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,e=>{let t;const r=e.gridBodyCtrl.eBodyViewport;switch(n){case"left":t=[[r,e.left.eContainer],[e.bottomLeft.eContainer],[e.topLeft.eContainer]];break;case"right":t=[[r,e.right.eContainer],[e.bottomRight.eContainer],[e.topRight.eContainer]];break;default:t=[[r,e.center.eViewport],[e.bottomCenter.eViewport],[e.topCenter.eViewport]]}this.eSecondaryContainers=t}),this.moveColumnFeature=this.createManagedBean(new DI(n)),this.bodyDropPivotTarget=this.createManagedBean(new yI(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return 1===e||0===e&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&0===e.dragSource.type}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}};var EI={moduleName:"ColumnMove",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const r=this.beans.colModel.getCols();if(!r)return;const i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){const{colModel:i,colAnimation:o,visibleCols:a,eventSvc:s}=this.beans,l=i.getCols();if(!l)return;if(t>l.length-e.length)return void VR(30,{toIndex:t});null==o||o.start();const c=i.getColsForKeys(e);this.doesMovePassRules(c,t)&&(wA(i.getCols(),c,t),a.refresh(n),s.dispatchEvent({type:"columnMoved",columns:c,column:1===c.length?c[0]:null,toIndex:t,finished:r,source:n})),null==o||o.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;if(!LA(e,t.getColTree()))return!1;return!!(e=>{const t=e=>e?"left"===e||!0===e?-1:1:0,r=n.get("enableRtl");let i=r?1:-1,o=!0;for(const n of e){const e=t(n.getColDef().lockPosition);r?e>i&&(o=!1):e<i&&(o=!1),i=e}return o})(e)}getProposedColumnOrder(e,t){const n=this.beans.colModel.getCols().slice();return wA(n,e,t),n}createBodyDropTarget(e,t){return new jI(e,t)}moveHeader(e,t,n,r,i){const{ctrlsSvc:o,gos:a,colModel:s,visibleCols:l,focusSvc:c}=this.beans,u=t.getBoundingClientRect(),d=u.left,h=xV(n),m=h?u.width:n.getActualWidth(),p="left"===e!==a.get("enableRtl"),f=NI({x:p?d-20:d+m+20,pinned:r,fromKeyboard:!0,gos:a,ctrlsSvc:o}),g=c.focusedHeader;let v;if(wI({allMovingColumns:h?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:"right"===e,xPosition:f,pinned:r,fromEnter:!1,fakeEvent:!1,gos:a,colModel:s,colMoves:this,visibleCols:l,finished:!0}),h){const e=n.getDisplayedLeafColumns();v=p?e[0]:vA(e)}else v=n;if(o.getScrollFeature().ensureColumnVisible(v,"auto"),(!i.isAlive()||a.get("ensureDomOrder"))&&g){let e;if(h){const t=n.getGroupId(),r=n.getLeafColumns();if(!r.length)return;const i=r[0].getParent();if(!i)return;e=function(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return}(i,t)}else e=n;e&&c.focusHeaderPosition({headerPosition:{...g,column:e}})}}setDragSourceForHeader(e,t,n){const{gos:r,colModel:i,dragAndDrop:o,visibleCols:a}=this.beans;let s=!r.get("suppressDragLeaveHidesColumns");const l=xV(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],u=l?()=>function(e,t){var n;const r=e.getProvidedColumnGroup().getLeafColumns(),i={};for(const l of r)i[l.getId()]=l.isVisible();const o=[];for(const l of t)r.indexOf(l)>=0&&(o.push(l),xA(r,l));for(const l of r)o.push(l);const a=[],s=e.getLeafColumns();for(const l of o)-1!==s.indexOf(l)&&a.push(l);return{columns:o,columnsInSplit:a,visibleState:i,containerType:null==(n=a[0])?void 0:n.pinned}}(t,a.allCols):()=>function(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}(t),d={type:1,eElement:e,getDefaultIconName:()=>s?"hide":"notAllowed",getDragItem:u,dragItemName:n,onDragStarted:()=>{s=!r.get("suppressDragLeaveHidesColumns"),MI(c,!0)},onDragStopped:()=>MI(c,!1),onDragCancelled:()=>MI(c,!1),onGridEnter:e=>{if(s){const{columns:t=[],visibleState:n}=e??{},r=l?e=>!n||n[e.getColId()]:()=>!0,o=t.filter(e=>!e.getColDef().lockVisible&&r(e));i.setColsVisible(o,!0,"uiColumnMoved")}},onGridExit:e=>{var t;if(s){const n=(null==(t=null==e?void 0:e.columns)?void 0:t.filter(e=>!e.getColDef().lockVisible))||[];i.setColsVisible(n,!1,"uiColumnMoved")}}};return o.addDragSource(d,!0),d}},class extends JW{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:r}=this;if(0===n.length&&0===r.length)return e(),void t();const i=e=>{for(;e.length;){const t=e.pop();t&&t()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(r)},200)})}}],apiFunctions:{moveColumnByIndex:function(e,t,n){var r;null==(r=e.colMoves)||r.moveColumnByIndex(t,n,"api")},moveColumns:function(e,t,n){var r;null==(r=e.colMoves)||r.moveColumns(t,n,"api")}},dependsOn:[vI],css:[":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}"]},kI={moduleName:"AutoWidth",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const r=this.centerRowContainerCtrl.eContainer;for(const o of e)this.cloneItemIntoDummy(o,n);r.appendChild(n);const i=n.offsetWidth;return n.remove(),i+(t=t??this.gos.get("autoSizePadding"))}getHeaderCellForColumn(e){let t=null;for(const n of this.beans.ctrlsSvc.getHeaderRowContainerCtrls()){const r=n.getHtmlElementForColumnHeader(e);null!=r&&(t=r)}return t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const r=document.createElement("div"),i=r.classList;["ag-header-cell","ag-header-group-cell"].some(e=>n.classList.contains(e))?(i.add("ag-header","ag-header-row"),r.style.position="static"):i.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(e=>o.classList.contains(e))){for(let e=0;e<o.classList.length;e++){const t=o.classList[e];"ag-row-position-absolute"!=t&&i.add(t)}break}o=o.parentElement}r.appendChild(n),t.appendChild(r)}}]};var PI=class extends JW{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:o,groupAfterRatios:a}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=a,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){var t;const n=e=>e.reduce((e,t)=>e+t.getActualWidth(),0),r=(e,t)=>e.map(e=>e.getActualWidth()/t),i=this.getColumnsToResize(),o=n(i),a={columnsToResize:i,resizeStartWidth:o,resizeRatios:r(i,o)};let s=null;if(e&&(s=(null==(t=this.beans.colGroupSvc)?void 0:t.getGroupAtDirection(this.columnGroup,"After"))??null),s){const e=s.getDisplayedLeafColumns(),t=a.groupAfterColumns=e.filter(e=>e.isResizable()),i=a.groupAfterStartWidth=n(t);a.groupAfterRatios=r(t,i)}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){var i;const{columnsToResize:o,resizeStartWidth:a,resizeRatios:s,groupAfterColumns:l,groupAfterStartWidth:c,groupAfterRatios:u}=e,d=[];if(d.push({columns:o,ratios:s,width:t}),l){const e=t-a;d.push({columns:l,ratios:u,width:c-e})}null==(i=this.beans.colResize)||i.resizeColumnSets({resizeSets:d,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(e=>e.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},WI=class extends JW{constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){const e=[];let t,n;const r=()=>{if(hW(this.eResize,t),!t)return;const{horizontalResizeSvc:r,colAutosize:i}=this.beans,o=r.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(o),n&&i&&e.push(i.addColumnAutosizeListeners(this.eResize,this.column))},i=()=>{for(const t of e)t();e.length=0},o=()=>{const e=this.column.isResizable(),o=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(e!==t||o!==n)&&(t=e,n=o,i(),r())};o(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){const{column:n,lastResizeAmount:r,resizeStartWidth:i,beans:o}=this,a=this.normaliseResizeAmount(t),s=[{key:n,newWidth:i+a}],{pinnedCols:l,ctrlsSvc:c,colResize:u}=o;if(this.column.getPinned()){if(((null==l?void 0:l.leftWidth)??0)+((null==l?void 0:l.rightWidth)??0)+(a-r)>vW(c.getGridBodyCtrl().eBodyViewport)-50)return}this.lastResizeAmount=a,null==u||u.setColumnWidths(s,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n="left"!==this.pinned,r="right"===this.pinned;return this.gos.get("enableRtl")?n&&(t*=-1):r&&(t*=-1),t}};var RI={moduleName:"ColumnResize",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,r){const i=[],{colModel:o,gos:a,visibleCols:s}=this.beans;for(const l of e){const e=o.getColDefCol(l.key)||o.getCol(l.key);if(!e)continue;i.push({width:l.newWidth,ratios:[1],columns:[e]});if("shift"===a.get("colResizeDefault")&&(t=!t),t){const t=s.getColAfter(e);if(!t)continue;const n=e.getActualWidth()-l.newWidth,r=t.getActualWidth()+n;i.push({width:r,ratios:[1],columns:[t]})}}0!==i.length&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(e=>function(e){const{columns:t,width:n}=e;let r=0,i=0,o=!0;for(const s of t){r+=s.getMinWidth()||0;const e=s.getMaxWidth();e>0?i+=e:o=!1}const a=!o||n<=i;return n>=r&&a}(e)))){if(n){const e=t&&t.length>0?t[0].columns:null;_A(this.eventSvc,e,n,r)}return}const i=[],o=[];for(const c of t){const{width:e,columns:t,ratios:n}=c,a={},s={};for(const r of t)o.push(r);let l=!0,u=0;for(;l;){if(u++,u>1e3){FR(31);break}l=!1;const r=[];let i=0,o=e;t.forEach((e,t)=>{if(s[e.getId()])o-=a[e.getId()];else{r.push(e);const o=n[t];i+=o}});const c=1/i;r.forEach((t,i)=>{let u;i===r.length-1?u=o:(u=Math.round(n[i]*e*c),o-=u);const d=t.getMinWidth(),h=t.getMaxWidth();u<d?(u=d,s[t.getId()]=!0,l=!0):h>0&&u>h&&(u=h,s[t.getId()]=!0,l=!0),a[t.getId()]=u})}for(const o of t){const e=a[o.getId()];o.getActualWidth()!==e&&(o.setActualWidth(e,r),i.push(o))}}const a=i.length>0;let s=[];if(a){const{colFlex:e,visibleCols:t,colViewport:n}=this.beans;s=(null==e?void 0:e.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}))??[],t.setLeftValues(r),t.updateBodyWidths(),n.checkViewportColumns()}const l=o.concat(s);(a||n)&&_A(this.eventSvc,l,n,r,s)}resizeHeader(e,t,n){if(!e.isResizable())return;const r=e.getActualWidth(),i=e.getMinWidth(),o=e.getMaxWidth(),a=Math.min(Math.max(r+t,i),o);this.setColumnWidths([{key:e,newWidth:a}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,r,i){return new WI(e,t,n,r,i)}createGroupResizeFeature(e,t,n,r){return new PI(e,t,n,r)}}],apiFunctions:{setColumnWidths:function(e,t,n=!0,r="api"){var i;null==(i=e.colResize)||i.setColumnWidths(t,!1,n,r)}},dependsOn:[bI,kI]},AI=class extends JW{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);for(const t of this.columnGroup.getLeafColumns())t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})}removeListenersOnChildrenColumns(){for(const e of this.removeChildListenersFuncs)e();this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",0===e)}};function OI(e,t){for(let n=0;n<t.length;n++){const r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}function TI(e,t,n){if(e)for(let r=0;r<e.length;r++){const i=e[r];if(xV(i)){TI(t?i.getDisplayedChildren():i.getChildren(),t,n)}n(i)}}function VI(e){const t=[];return TI(e,!0,e=>{uA(e)&&t.push(e)}),t}var FI={moduleName:"ColumnGroup",version:jR,dynamicBeans:{headerGroupCellCtrl:class extends OF{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(e,t,n,r,i){const{column:o,beans:a}=this,{context:s,colNames:l,colHover:c,rangeSvc:u,colResize:d}=a;this.comp=e,i=XA(this,s,i),this.setGui(t,i),this.displayName=l.getDisplayNameForColumnGroup(o,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const h=this.rowCtrl.pinned,m=o.getProvidedColumnGroup().getLeafColumns();null==c||c.createHoverFeature(i,m,t),null==u||u.createRangeHighlightFeature(i,o,e),i.createManagedBean(new WF(o,t,a)),i.createManagedBean(new AI(e,o)),d?this.resizeFeature=i.createManagedBean(d.createGroupResizeFeature(e,n,h,o)):e.setResizableDisplayed(!1),i.createManagedBean(new SV(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,m),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return iA(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");null!=n?0===n?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=vA(t)===e;if(!n&&!r)return;const i=e.getHighlighted();let o=!1,a=!1;if(!!this.rowCtrl.getHeaderCellCtrls().find(e=>e.column.isMoving())){const e=this.beans.gos.get("enableRtl"),t=1===i,s=0===i;n&&(e?a=t:o=s),r&&(e?o=s:a=t)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;null==(t=this.resizeFeature)||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:r}=this.beans,i=this.column,o=i.getProvidedColumnGroup(),a=function(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,aO,"agColumnGroupHeader",t)}(t,iA(n,{displayName:this.displayName,columnGroup:i,setExpanded:t=>{e.setColumnGroupOpened(o,t,"gridInitializing")},setTooltip:(e,t)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(e,t)},showColumnMenu:(e,t)=>null==r?void 0:r.showMenuAfterButtonClick(o,e,"columnMenu",t),showColumnMenuAfterMouseClick:(e,t)=>null==r?void 0:r.showMenuAfterMouseEvent(o,e,"columnMenu",t),eGridHeader:this.eGui}));a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=e=>this.handleMouseOverChange("mouseenter"===e.type);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var n;this.tooltipFeature=null==(n=this.beans.tooltipSvc)?void 0:n.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=bF(t,this.gos,null,e);if(e.isPadding()){n.push("ag-header-group-cell-no-group");e.getLeafColumns().every(e=>e.isSpanHeaderHeight())&&n.push("ag-header-span-height")}else n.push("ag-header-group-cell-with-group"),(null==t?void 0:t.wrapHeaderText)&&n.push("ag-header-cell-wrap-text");for(const r of n)this.comp.toggleCss(r,!0)}setupMovingCss(e){const{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());for(const i of n)e.addManagedListeners(i,{movingChanged:r});r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===EO){const e=this.column,t=!e.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(e.getProvidedColumnGroup(),t,"uiColumnExpanded")}}setDragSource(e){var t;this.isAlive()&&!this.isSuppressMoving()&&(this.removeDragSource(),e&&(this.dragSource=(null==(t=this.beans.colMoves)?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}}},beans:[class extends JW{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[];return FA(null,this.beans.colModel.getColTree(),t=>{hA(t)&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];FA(null,t,e=>{if(hA(e)){const t=e.getColGroupDef(),r={groupId:e.getGroupId(),open:t?t.openByDefault:void 0};n.push(r)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:r,visibleCols:i,eventSvc:o}=this.beans;if(!n.getColTree().length)return;null==r||r.start();const a=[];for(const s of e){const e=s.groupId,t=s.open,n=this.getProvidedColGroup(e);n&&(n.isExpanded()!==t&&(n.setExpanded(t),a.push(n)))}i.refresh(t,!0),a.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:1===a.length?a[0]:void 0,columnGroups:a}),null==r||r.finish()}setColumnGroupOpened(e,t,n){let r;r=hA(e)?e.getId():e||"",this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return FA(null,this.beans.colModel.getColTree(),n=>{hA(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i="After"===t?vA(r):r[0],o=`getCol${t}`;for(;;){const t=this.beans.visibleCols[o](i);if(!t)return null;const r=this.getColGroupAtLevel(t,n);if(r!==e)return r}}getColGroupAtLevel(e,t){let n,r,i=e.getParent();for(;;){if(n=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),n+r<=t)break;i=i.getParent()}return i}updateOpenClosedVisibility(){TI(this.beans.visibleCols.getAllTrees(),!1,e=>{xV(e)&&e.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(xV(e))return e;const n=this.beans.visibleCols.getAllTrees(),r="number"==typeof t;let i=null;return TI(n,!1,n=>{if(xV(n)){const o=n;let a;a=r?e===o.getGroupId()&&t===o.getPartId():e===o.getGroupId(),a&&(i=o)}}),i}createColumnGroups(e){const{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:o}=e,a=this.mapOldGroupsById(i),s=[];let l=t;for(;l.length;){const e=l;l=[];let t=0;const i=i=>{const c=t;t=i;const u=e[c],d=(xV(u)?u.getProvidedColumnGroup():u).getOriginalParent();if(null==d){for(let t=c;t<i;t++)s.push(e[t]);return}const h=this.createColumnGroup(d,n,a,r,o);for(let t=c;t<i;t++)h.addChild(e[t]);l.push(h)};for(let n=1;n<e.length;n++){const r=e[n],o=(xV(r)?r.getProvidedColumnGroup():r).getOriginalParent(),a=e[t];o!==(xV(a)?a.getProvidedColumnGroup():a).getOriginalParent()&&i(n)}t<e.length&&i(e.length)}return o||this.setupParentsIntoCols(s,null),s}createProvidedColumnGroup(e,t,n,r,i,o,a){const s=i.getUniqueKey(t.groupId||null,null),l=fA(this.beans,t,s),c=new mA(l,s,!1,n);this.createBean(c);const u=this.findExistingGroup(t,o);u&&o.splice(u.idx,1);const d=null==u?void 0:u.group;d&&c.setExpanded(d.isExpanded());const h=RA(this.beans,l.children,n+1,e,r,i,o,a);return c.setChildren(h),c}balanceColumnTree(e,t,n,r){const i=[];for(let o=0;o<e.length;o++){const a=e[o];if(hA(a)){const e=a,o=this.balanceColumnTree(e.getChildren(),t+1,n,r);e.setChildren(o),i.push(e)}else{let o,s;for(let e=t;e<n;e++){const t=r.getUniqueKey(null,null),n=fA(this.beans,null,t),i=new mA(n,t,!0,e);this.createBean(i),s&&s.setChildren([i]),s=i,o||(o=s)}if(o&&s){i.push(o);if(e.some(e=>hA(e))){s.setChildren([a]);continue}s.setChildren(e);break}i.push(a)}}return i}findDepth(e){let t=0,n=e;for(;(null==n?void 0:n[0])&&hA(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){const i=e[r];if(hA(i)){const e=i,r=this.findMaxDepth(e.getChildren(),t+1);n<r&&(n=r)}}return n}balanceTreeForAutoCols(e,t){const n=[];for(const r of e){let e=r;for(let n=t-1;n>=0;n--){const t=new mA(null,`FAKE_PATH_${r.getId()}}_${n}`,!0,n);this.createBean(t),t.setChildren([e]),e.originalParent=t,e=t}0===t&&(r.originalParent=null),n.push(e)}return n}findExistingGroup(e,t){if(null!=e.groupId)for(let n=0;n<t.length;n++){const r=t[n];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:n,group:r}}}createColumnGroup(e,t,n,r,i){const o=e.getGroupId(),a=t.getInstanceIdForKey(o);let s=n[yV(o,a)];return s&&s.getProvidedColumnGroup()!==e&&(s=null),BP(s)?s.reset():(s=new wV(e,o,a,r),i||this.createBean(s)),s}mapOldGroupsById(e){const t={},n=e=>{for(const r of e)if(xV(r)){const e=r;t[r.getUniqueId()]=e,n(e.getChildren())}};return e&&n(e),t}setupParentsIntoCols(e,t){for(const n of e??[])if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,xV(n)){const e=n;this.setupParentsIntoCols(e.getChildren(),e)}}}],apiFunctions:{getAllDisplayedColumnGroups:function(e){return e.visibleCols.getAllTrees()},getCenterDisplayedColumnGroups:function(e){return e.visibleCols.treeCenter},getColumnGroup:function(e,t,n){var r;return(null==(r=e.colGroupSvc)?void 0:r.getColumnGroup(t,n))??null},getColumnGroupState:function(e){var t;return(null==(t=e.colGroupSvc)?void 0:t.getColumnGroupState())??[]},getDisplayNameForColumnGroup:function(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""},getLeftDisplayedColumnGroups:function(e){return e.visibleCols.treeLeft},getProvidedColumnGroup:function(e,t){var n;return(null==(n=e.colGroupSvc)?void 0:n.getProvidedColGroup(t))??null},getRightDisplayedColumnGroups:function(e){return e.visibleCols.treeRight},resetColumnGroupState:function(e){var t;null==(t=e.colGroupSvc)||t.resetColumnGroupState("api")},setColumnGroupOpened:function(e,t,n){var r;null==(r=e.colGroupSvc)||r.setColumnGroupOpened(t,n,"api")},setColumnGroupState:function(e,t){var n;null==(n=e.colGroupSvc)||n.setColumnGroupState(t,"api")}}},II={tag:"div",cls:"ag-skeleton-container"},LI={moduleName:"CheckboxCellRenderer",version:jR,userComponents:{agCheckboxCellRenderer:class extends eO{constructor(){super($F,[xT]),this.eCheckbox=YA,this.registerCSS(".ag-checkbox-cell{height:100%}")}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute("tabindex","-1"),aW(r,"polite"),this.addManagedListeners(r,{click:e=>{if(MV(e),t.isDisabled())return;const n=t.getValue();this.onCheckboxChanged(n)},dblclick:e=>{MV(e)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===PO&&!t.isDisabled()){e.eGridCell===XP(n)&&t.toggle();const i=t.getValue();this.onCheckboxChanged(i),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:r,column:i,node:o}=e;if(o.group&&i)if("boolean"==typeof r)t=r;else{const e=i.getColId();e.startsWith(CA)?t=null==r||""===r?void 0:"true"===r:o.aggData&&void 0!==o.aggData[e]||o.sourceRowIndex>=0?t=r??void 0:n=!1}else t=r??void 0;const{eCheckbox:a}=this;if(!n)return void a.setDisplayed(!1);a.setValue(t);const s=e.disabled??!(null==i?void 0:i.isCellEditable(o));a.setDisabled(s);const l=this.getLocaleTextFunc(),c=function(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}(l,t),u=s?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;a.setInputAriaLabel(u)}onCheckboxChanged(e){var t,n,r,i;const{params:o}=this,{column:a,node:s,value:l}=o;null==(n=null==(t=this.beans)?void 0:t.editSvc)||n.setEditingCells([{column:a,colId:a.getColId(),rowIndex:s.rowIndex,rowPinned:s.rowPinned,state:"changed",oldValue:l,newValue:l}],{update:!0,forceRefreshOfEditCellsOnly:!0});const c=s.setDataValue(a,e,"renderer");null==(i=this.beans.editSvc)||i.stopEditing({rowNode:s,column:a},{source:(null==(r=this.beans.editSvc)?void 0:r.isBatchEditing())?"ui":"api"}),c||this.updateCheckbox(o)}}}},BI={moduleName:"SkeletonCellRenderer",version:jR,userComponents:{agSkeletonCellRenderer:class extends eO{constructor(){super(II)}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>oW(e.eParentOfValue)),oW(e.eParentOfValue,t),e.deferRender?this.setupLoading(e):e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.getLocaleTextFunc();this.getGui().textContent=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");iW(this.getGui(),t)}setupLoading(e){const t=CV({tag:"div",cls:"ag-skeleton-effect"}),n=e.node.rowIndex;if(null!=n){const e=75+25*(n%2==0?Math.sin(n):Math.cos(n));t.style.width=`${e}%`}this.getGui().appendChild(t);const r=this.getLocaleTextFunc(),i=e.deferRender?r("ariaDeferSkeletonCellLoading","Cell is loading"):r("ariaSkeletonCellLoading","Row data is loading");iW(this.getGui(),i)}refresh(e){return!1}}}};function HI(e,t,n){if(!t||!e)return;if(!n)return e[t];const r=t.split(".");let i=e;for(let o=0;o<r.length;o++){if(null==i)return;i=i[r[o]]}return i}var _I=["dateTimeString","dateString","text","number","boolean","date"];function GI(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...jA(e.columnTypes),...jA(t.columnTypes)]),n}function zI(e,t,n){return t?t.baseDataType===e.baseDataType||(VR(46),!1):(VR(45,{parentCellDataType:n}),!1)}function $I(e,t){if(e.valueFormatter)return n=>{var r,i;if(null==(r=n.node)?void 0:r.group){const t=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(t){if("first"===t||"last"===t)return e.valueFormatter(n);if("number"===e.baseDataType&&"count"!==t){if("number"==typeof n.value)return e.valueFormatter(n);if("object"==typeof n.value){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&"string"==typeof n.value&&!(null==(i=e.dataTypeMatcher)?void 0:i.call(e,n.value)))return;return e.valueFormatter(n)}}function UI(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,r])=>function(e,t,n,r){if(!t[n])return!1;const i=e[n];return null===i?(t[n]=!1,!1):void 0===r?!!i:i===r}(e,t,n,r))}function KI(e,t){const n=function(e){const t=(e,t)=>null!=e?e:null!=t?t:null,n=e.getColDef(),r=t(n.sort,n.initialSort),i=t(n.sortIndex,n.initialSortIndex),o=t(n.hide,n.initialHide),a=t(n.pinned,n.initialPinned),s=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let c=t(n.rowGroupIndex,n.initialRowGroupIndex),u=t(n.rowGroup,n.initialRowGroup);null!=c||u||(c=null,u=null);let d=t(n.pivotIndex,n.initialPivotIndex),h=t(n.pivot,n.initialPivot);null!=d||h||(d=null,h=null);const m=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:i,hide:o,pinned:a,width:s,flex:l,rowGroup:u,rowGroupIndex:c,pivot:h,pivotIndex:d,aggFunc:m}}(e);for(const r of t)delete n[r],"rowGroup"===r?delete n.rowGroupIndex:"pivot"===r&&delete n.pivotIndex;return n}var qI={moduleName:"DataType",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number:()=>({cellEditor:"agNumberCellEditor"}),boolean:()=>({cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===PO}),date:({formatValue:e})=>({cellEditor:"agDateCellEditor",keyCreator:e}),dateString:({formatValue:e})=>({cellEditor:"agDateStringCellEditor",keyCreator:e}),dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object:({formatValue:e,colModel:t,colId:n})=>({cellEditorParams:{useFormatter:!0},comparator:(r,i)=>{const o=t.getColDefCol(n),a=null==o?void 0:o.getColDef();if(!o||!a)return 0;const s=null==r?"":e({column:o,node:null,value:r}),l=null==i?"":e({column:o,node:null,value:i});return s===l?0:s>l?1:-1},keyCreator:e}),text:()=>({})}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},r=e=>t=>{const{column:n,node:r,value:i}=t;let o=n.getColDef().valueFormatter;return o===e.groupSafeValueFormatter&&(o=e.valueFormatter),this.beans.valueSvc.formatValue(n,r,i,o)};for(const u of Object.keys(e)){const i=e[u],o={...i,groupSafeValueFormatter:$I(i,this.gos)};t[u]=o,n[u]=r(o)}const i=this.gos.get("dataTypeDefinitions")??{},o={};for(const u of Object.keys(i)){const a=i[u],s=this.processDataTypeDefinition(a,i,[u],e);s&&(t[u]=s,a.dataTypeMatcher&&(o[u]=a.dataTypeMatcher),n[u]=r(s))}const{valueParser:a,valueFormatter:s}=e.object,{valueParser:l,valueFormatter:c}=t.object;this.hasObjectValueParser=l!==a,this.hasObjectValueFormatter=c!==s,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(o,e)}sortKeysInMatchers(e,t){const n={...e};for(const r of _I)delete n[r],n[r]=e[r]??t[r].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,r){let i;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let n=r[o];const a=t[o];if(n&&a&&(n=a),!zI(e,n,o))return;i=GI(n,e)}else{if(n.includes(o))return void VR(44);const a=t[o];if(!zI(e,a,o))return;const s=this.processDataTypeDefinition(a,t,[...n,o],r);if(!s)return;i=GI(s,e)}return{...i,groupSafeValueFormatter:$I(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t;const{field:i}=t;if(void 0===r&&(r=e.cellDataType),null!=r&&!0!==r||(r=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(i,n)),!r)return void(e.cellDataType=!1);const o=this.dataTypeDefinitions[r];if(o)return e.cellDataType=r,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,o,n),o.columnTypes;VR(47,{cellDataType:r})}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=e=>{t.add(e.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!HR(n))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(UI(t,r))return!1;const i=null===t.type?e.type:t.type;if(i){const e=n.get("columnTypes")??{};if(jA(i).some(t=>{const n=e[t.trim()];return n&&UI(n,r)}))return!1}return!UI(e,r)}inferCellDataType(e,t){if(!e)return;let n;const r=this.getInitialData();if(r){const t=e.includes(".")&&!this.gos.get("suppressFieldDotNotation");n=HI(r,e,t)}else this.initWaitForRowData(t);if(null==n)return;return Object.keys(this.dataTypeMatchers).find(e=>this.dataTypeMatchers[e](n))??"object"}getInitialData(){var e;const t=this.gos.get("rowData");if(null==t?void 0:t.length)return t[0];if(this.initialData)return this.initialData;{const t=null==(e=this.beans.rowModel.rootNode)?void 0:e._leafs;if(null==t?void 0:t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:e=>{const{firstRowData:o}=e;o&&(null==i||i(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&(null==n||n.processResizeOperations()),r.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const r={},i={};for(const o of Object.keys(this.columnStateUpdatesPendingInference)){const e=this.columnStateUpdatesPendingInference[o],a=this.colModel.getCol(o);if(!a)return;const s=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const l=a.getColDef();if(t&&l.type&&l.type!==s.type){const t=KI(a,e);t.rowGroup&&null==t.rowGroupIndex&&(r[o]=t),t.pivot&&null==t.pivotIndex&&(i[o]=t),n.push(t)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&GA(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:r,pivotColsSvc:i}=this.beans;return null==r||r.restoreColumnOrder(n,e),null==i||i.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const r=TA(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return"dateTime"===e||"dateTimeString"===e}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return null==(t=this.getDataTypeDefinition(e))?void 0:t.baseDataType}checkType(e,t){var n;if(null==t)return!0;const r=null==(n=this.getDataTypeDefinition(e))?void 0:n.dataTypeMatcher;return!r||r(t)}validateColDef(e){const t=e=>VR(48,{property:e});if("object"===e.cellDataType){const{object:n}=this.dataTypeDefinitions;e.valueFormatter!==n.groupSafeValueFormatter||this.hasObjectValueFormatter||t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){var t;const n=e.cellDataType;if(!n||"string"!=typeof n)return;const{dataTypeDefinitions:r,beans:i,formatValueFuncs:o}=this,a=r[n];a&&(null==(t=i.colFilter)||t.setColDefPropsForDataType(e,a,o[n]))}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){const i=this.formatValueFuncs[t],o=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:r,formatValue:i});Object.assign(e,o)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:e=>aT(e.newValue&&String(e.newValue)),valueFormatter:e=>null==e.value?"":e.value instanceof Date&&!isNaN(e.value.getTime())?iT(e.value,n)??"":t("invalidDate","Invalid Date"),dataTypeMatcher:e=>e instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:e=>aT(e)??void 0,dateFormatter:e=>iT(e??null,t)??void 0,valueParser:e=>oT(String(e.newValue))?e.newValue:null,valueFormatter:e=>oT(String(e.value))?String(e.value):"",dataTypeMatcher:e=>"string"==typeof e&&oT(e)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:e=>{var t,n;return""===(null==(n=null==(t=e.newValue)?void 0:t.trim)?void 0:n.call(t))?null:Number(e.newValue)},valueFormatter:t=>null==t.value?"":"number"!=typeof t.value||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:e=>"number"==typeof e},text:{baseDataType:"text",valueParser:e=>""===e.newValue?null:_P(e.newValue),dataTypeMatcher:e=>"string"==typeof e},boolean:{baseDataType:"boolean",valueParser:e=>{var t,n;return null==e.newValue?e.newValue:""===(null==(n=null==(t=e.newValue)?void 0:t.trim)?void 0:n.call(t))?null:"true"===String(e.newValue).toLowerCase()},valueFormatter:e=>null==e.value?"":String(e.value),dataTypeMatcher:e=>"boolean"==typeof e},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:e=>"string"==typeof e&&function(e){return oT(e,!0)}(e)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:e=>_P(e.value)??""}}}destroyColumnStateUpdateListeners(){for(const e of this.columnStateUpdateListenerDestroyFuncs)e();this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}}],dependsOn:[LI]},XI={moduleName:"ColumnFlex",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="colFlex",this.columnsHidden=!1}refreshFlexedColumns(e={}){const t=e.source??"flex";null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth,{visibleCols:r,colDelayRenderSvc:i}=this.beans,o=r.centerCols;let a=-1;if(e.resizingCols){const t=new Set(e.resizingCols);for(let e=o.length-1;e>=0;e--)if(t.has(o[e])){a=e;break}}let s=!1;const l=o.map((e,t)=>{const n=e.getFlex(),r=null!=n&&n>0&&t>a;return s||(s=r),{col:e,isFlex:r,flex:Math.max(0,n??0),initialSize:e.getActualWidth(),min:e.getMinWidth(),max:e.getMaxWidth(),targetSize:0}});if(s?(null==i||i.hideColumns("colFlex"),this.columnsHidden=!0):this.columnsHidden&&this.revealColumns(i),!n||!s)return[];let c=l.length,u=l.reduce((e,t)=>e+t.flex,0),d=n;const h=(e,n)=>{e.frozenSize=n,e.col.setActualWidth(n,t),d-=n,u-=e.flex,c-=1},m=e=>null!=e.frozenSize;for(const f of l)f.isFlex||h(f,f.initialSize);for(;c>0;){const e=Math.round(u<1?d*u:d);let t,n=0,r=0;for(const a of l){if(m(a))continue;t=a,r+=e*(a.flex/u);const i=r-n,o=Math.round(i);a.targetSize=o,n+=o}t&&(t.targetSize+=e-n);let i=0;for(const a of l){if(m(a))continue;const e=a.targetSize,t=Math.min(Math.max(e,a.min),a.max);i+=t-e,a.violationType=t===e?void 0:t<e?"max":"min",a.targetSize=t}const o=0===i?"all":i>0?"min":"max";for(const a of l)m(a)||"all"!==o&&a.violationType!==o||h(a,a.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();const p=l.filter(e=>e.isFlex&&!e.violationType).map(e=>e.col);if(e.fireResizedEvent){const e=l.filter(e=>e.initialSize!==e.frozenSize).map(e=>e.col),n=l.filter(e=>e.flex).map(e=>e.col);_A(this.eventSvc,e,!0,t,n)}return this.revealColumns(i),p}revealColumns(e){this.columnsHidden&&(null==e||e.revealColumns("colFlex"),this.columnsHidden=!1)}initCol(e){const{flex:t,initialFlex:n}=e.colDef;void 0!==t?e.flex=t:void 0!==n&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}}]};var YI,ZI={moduleName:"CellRendererFunction",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;return class{refresh(){return!1}getGui(){return this.eGui}init(e){const n=t(e),r=typeof n;this.eGui="string"!==r&&"number"!==r&&"boolean"!==r?null!=n?n:CV({tag:"span"}):MW("<span>"+n+"</span>")}}}}]},JI={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:OT,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:VT,rangeSelectionBackgroundColor:WT(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:WT(.5),rangeHeaderHighlightColor:(YI=.08,{ref:"foregroundColor",mix:YI,onto:"headerBackgroundColor"}),rowNumbersSelectedColor:WT(.5),rowHoverColor:WT(.08),columnHoverColor:WT(.05),selectedRowBackgroundColor:WT(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},dataBackgroundColor:OT,oddRowBackgroundColor:{ref:"dataBackgroundColor"},wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},dragHandleColor:RT(.7),headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:RT(.1),iconButtonActiveColor:VT,iconButtonActiveBackgroundColor:WT(.28),iconButtonActiveIndicatorColor:VT,menuBorder:{color:RT(.2)},menuBackgroundColor:AT(.03),menuTextColor:AT(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:RT(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:VT},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:RT(.2)},panelBackgroundColor:OT,panelTitleBarHeight:{ref:"headerHeight"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:RT(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:RT(.13)},selectCellBackgroundColor:RT(.07),selectCellBorder:{color:RT(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:OT,filterPanelApplyButtonBackgroundColor:VT,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:TT,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:TT,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:RT(.15),statusBarLabelColor:TT,statusBarLabelFontWeight:500,statusBarValueColor:TT,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedRowTextColor:{ref:"textColor"}},QI={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},eL={...QI,cellBatchEditTextColor:"#f3d0b3"},tL=(()=>DT({feature:"batchEditStyle",params:QI,css:".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}"}))(),nL={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},rL=(()=>DT({feature:"buttonStyle",params:{...nL,buttonBackgroundColor:OT,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:VT}},css:":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}"}))(),iL=(()=>DT({feature:"columnDropStyle",css:".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}"}))(),oL={warn:(...e)=>{VR(e[0],e[1])},error:(...e)=>{FR(e[0],e[1])},preInitErr:(...e)=>{IR(e[0],e[2],e[1])}},aL=()=>{return(e=oL,new ZT(e)).withParams(JI).withPart(rL).withPart(iL).withPart(tL);var e},sL=(()=>DT({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:OT,checkboxUncheckedBorderColor:AT(.3),checkboxCheckedBackgroundColor:VT,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:OT,checkboxIndeterminateBackgroundColor:AT(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:OT,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:'.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}'}))(),lL=()=>({...FT,...eL,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:AT(.05),rowHoverColor:WT(.15),selectedRowBackgroundColor:WT(.2),menuBackgroundColor:AT(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:TT,findMatchColor:OT,findActiveMatchColor:OT,checkboxUncheckedBorderColor:AT(.4),toggleButtonOffBackgroundColor:AT(.4),rowBatchEditBackgroundColor:AT(.1)}),cL=(()=>DT({feature:"colorScheme",params:FT,modeParams:{light:FT,dark:lL(),"dark-blue":{...lL(),backgroundColor:"#1f2836"}}}))(),uL={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},dL={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},hL=(e,t=1.5)=>{const n=dL[e];if(n)return n;const r=uL[e];if(!r)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+"</svg>"},mL=((e={})=>DT({feature:"iconSet",css:()=>((e={})=>{let t="";for(const n of[...Object.keys(uL),...Object.keys(dL)]){const r=hL(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }\n`}return t})(e)}))(),pL={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},fL=(()=>DT({feature:"inputStyle",params:{...pL,inputBackgroundColor:OT,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:VT},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:AT(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}'}))(),gL={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},vL=(()=>DT({feature:"tabStyle",params:{...gL,tabBarBorder:!0,tabBarBackgroundColor:RT(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:OT},css:'.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}'}))(),bL=(()=>aL().withPart(sL).withPart(cL).withPart(mL).withPart(vL).withPart(fL).withPart(iL).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}))(),yL={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},xL={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},wL={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},CL={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},NL={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},ML={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},DL={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},SL={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0};var jL=15538;function EL(e,t,n){const r=e.visibleCols.headerGroupRowCount;if(n>=r)return{column:t,headerRowIndex:n};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>n;)i=i.getParent();const o=t.isSpanHeaderHeight();return!i||o&&i.isPadding()?{column:t,headerRowIndex:r}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var kL=new Set(["gridPreDestroyed","fillStart","pasteStart"]),PL=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"].reduce((e,t)=>{var n;return e[t]=!(n=t)||n.length<2?n:"on"+n[0].toUpperCase()+n.substring(1),e},{}),WL=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),RL={tag:"span",cls:"ag-sort-indicator-container",children:[WL("Order","order"),WL("Asc","ascending-icon"),WL("Desc","descending-icon"),WL("Mixed","mixed-icon"),WL("None","none-icon")]},AL=class extends eO{constructor(e){super(),this.eSortOrder=YA,this.eSortAsc=YA,this.eSortDesc=YA,this.eSortMixed=YA,this.eSortNone=YA,e||this.setTemplate(RL)}attachCustomElements(e,t,n,r,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(null==t)return;const r=GF(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:r,gos:i,beans:o}=this,a=o.sortSvc.getDisplaySortForColumn(r);if(e){hW(e,"asc"===a,{skipAriaHidden:!0})}if(t){hW(t,"desc"===a,{skipAriaHidden:!0})}if(n){hW(n,!(!r.getColDef().unSortIcon&&!i.get("unSortIcon"))&&null==a,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const r=t.getColDef().showRowGroup;QR(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){hW(e,"mixed"===t.sortSvc.getDisplaySortForColumn(n),{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const r=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,o=r.some(e=>n.getDisplaySortIndexForColumn(e)??!1);hW(e,i>=0&&o,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():xW(e)}},OL={selector:"AG-SORT-INDICATOR",component:AL},TL=["asc","desc",null],VL={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},FL={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?"string"==typeof e?VL[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>"string"!=typeof e?null:VL[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&"string"!=typeof e&&"boolean"!=typeof e?"CustomFilter":"string"==typeof e?VL[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",headerTooltipValueGetter:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{var t;const n=["columnsMenuTab","generalMenuTab"];return(null==(t=e.menuTabs)?void 0:t.some(e=>n.includes(e)))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",tooltipComponentSelector:"Tooltip",spanRows:"CellSpan",groupHierarchy:"SharedRowGrouping"},IL={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"ClientSideRowModelHierarchy",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},LL=0,BL=0,HL="__ag_grid_instance";function _L(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var GL=_L(!0),zL=_L(!1),$L={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},UL={moduleName:"ColumnHeaderComp",version:jR,userComponents:{agColumnHeader:class extends eO{constructor(){super(...arguments),this.eFilter=YA,this.eFilterButton=YA,this.eSortIndicator=YA,this.eMenu=YA,this.eLabel=YA,this.eText=YA,this.eSortOrder=YA,this.eSortAsc=YA,this.eSortDesc=YA,this.eSortMixed=YA,this.eSortNone=YA,this.isLoadingInnerComponent=!1}refresh(e){var t,n,r;const i=this.params;if(this.params=e,this.workOutTemplate(e,!!(null==(t=this.beans)?void 0:t.sortSvc))!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||null!=this.currentSuppressMenuHide&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||i.enableFilterButton!=e.enableFilterButton||i.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const t={...e};sR(t,e.innerHeaderComponentParams),null==(r=(n=this.innerHeaderComponent).refresh)||r.call(n,t)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?(null==n?void 0:n.trim)?n.trim():n:t?GL:zL}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:i}=this.beans,o=null==t?void 0:t.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!o),this.setTemplate(this.currentTemplate,o?[o]:void 0),null==n||n.setupForHeader(this),this.setMenu(),this.setupSort(),null==r||r.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=function(e,t,n){return e.getCompDetails(t,iO,void 0,n)}(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(e=>{this.isLoadingInnerComponent=!1,e&&(this.isAlive()?(this.innerHeaderComponent=e,this.eText&&this.eText.appendChild(e.getGui())):this.destroyBean(e))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent||(this.eText.textContent=UP(t))}addInIcon(e,t,n){const r=GF(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){var e;return this.params.enableMenu&&!!(null==(e=this.beans.menuSvc)?void 0:e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!(null==(e=this.beans.menuSvc)?void 0:e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return wW(this.eMenu),void(this.eMenu=void 0);const{gos:e,eMenu:t,params:n}=this,r=rA(e);this.addInIcon(r?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!r);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){var t;null==(t=this.eMenu)||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var t;const{params:n,gos:r,beans:i,eMenu:o,eFilterButton:a}=this,s=n.column,l=rA(r);if(e&&!l){if(null==(t=i.menuSvc)?void 0:t.isFilterMenuInHeaderEnabled(s))return n.showFilter(a??o??this.getGui()),!0}else if(n.enableMenu)return this.showColumnMenu(o??a??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:t,eSortOrder:n,eSortAsc:r,eSortDesc:i,eSortMixed:o,eSortNone:a}=this;t.attachCustomElements(n,r,i,o,a)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterIcon,e,()=>{const n=t.column.isFilterActive();hW(e,n,{skipAriaHidden:!0})},"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,r){if(!e)return wW(t),!1;const i=this.params.column;return this.addInIcon(r,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}}},icons:{menu:"menu",menuAlt:"menu-alt"}},KL={moduleName:"ColumnGroupHeaderComp",version:jR,userComponents:{agColumnGroupHeader:class extends eO{constructor(){super($L),this.agOpened=YA,this.agClosed=YA,this.agLabel=YA,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),null==n||n.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&VR(89)}workOutInnerHeaderGroupComponent(e,t){const n=function(e,t,n){return e.getCompDetails(t,oO,void 0,n)}(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(e=>{this.isLoadingInnerComponent=!1,e&&(this.isAlive()?(this.innerHeaderGroupComponent=e,this.agLabel.appendChild(e.getGui())):this.destroyBean(e))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:r}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=e=>{if(DV(e))return;const t=!n.isExpanded();r.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),t,"uiColumnExpanded")};this.addTouchAndClickListeners(r,t,i),this.addTouchAndClickListeners(r,e,i);const o=e=>{MV(e)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const a=n.getProvidedColumnGroup(),s=this.updateIconVisibility.bind(this);this.addManagedListeners(a,{expandedChanged:s,expandableChanged:s})}addTouchAndClickListeners(e,t,n){var r;null==(r=e.touchSvc)||r.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const r=n.isExpanded();hW(e,r),hW(t,!r)}else hW(e,!1),hW(t,!1)}addInIcon(e,t){const n=GF(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:e,agClosed:t}=this;hW(e,!1),hW(t,!1)}}setupLabel(e){var t;const{displayName:n,columnGroup:r}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;BP(n)&&!i&&(this.agLabel.textContent=UP(n)),this.toggleCss("ag-sticky-label",!(null==(t=r.getColGroupDef())?void 0:t.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}}},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},qL={moduleName:"AnimationFrame",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,0===e&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){!1===this.active&&VR(92)}createTask(e,t,n,r,i=!1){this.verify();let o=n;r&&this.batchFrameworkComps&&(o="f1");const a={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[o],a),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((e,n)=>e.deferred!==n.deferred?e.deferred?-1:1:e.index!==n.index?t*(n.index-e.index):n.createOrder-e.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:r,destroyTasks:i,beans:o}=this,{ctrlsSvc:a,frameworkOverrides:s}=o,l=t.list,c=n.list,u=r.list,d=Date.now();let h=0;const m=e<=0,p=a.getScrollFeature();for(;m||h<e;){if(!p.scrollGridIfNeeded()){let o;if(l.length)this.sortTaskList(t),o=l.pop().task;else if(c.length)this.sortTaskList(n),o=c.pop().task;else if(u.length)s.wrapOutgoing(()=>{for(;m||h<e;){if(p.scrollGridIfNeeded())break;if(!u.length)break;this.sortTaskList(r),o=u.pop().task,o(),h=Date.now()-d}}),o=()=>{};else{if(!i.length)break;o=i.pop()}o()}h=Date.now()-d}l.length||c.length||u.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);RW(this.beans,e)}isQueueEmpty(){return!this.ticking}}]},XL={moduleName:"Touch",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!ZO())return;this.mockContextMenu(e,e.element,(t,n,r)=>{var i;const{rowCtrl:o,cellCtrl:a}=e.getControlsForEventTarget((null==r?void 0:r.target)??null);(null==a?void 0:a.column)&&a.dispatchCellContextMenuEvent(r??null),null==(i=this.beans.contextMenuSvc)||i.handleContextMenuMouseEvent(void 0,r,o,a)})}handleCellDoubleClick(e,t){return!!(()=>{if(!ZO()||BW("dblclick"))return!1;const t=Date.now(),n=t-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=t,n})()&&(e.onCellDoubleClicked(t),t.preventDefault(),!0)}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:r}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:o,eFilterButton:a}=e,s=new ZF(e.getGui(),!0);e.addDestroyFunc(()=>s.destroy());const l=e.shouldSuppressMenuHide(),c=l&&BP(o)&&i.enableMenu;let u=s;if(c&&(u=new ZF(o,!0),e.addDestroyFunc(()=>u.destroy())),i.enableMenu||(null==r?void 0:r.isHeaderContextMenuEnabled(i.column))){const t=c?"tap":"longTap",n=e=>i.showColumnMenuAfterMouseClick(e.touchStart);e.addManagedListeners(u,{[t]:n}),e.addManagedListeners(s,{longTap:n})}if(i.enableSorting){const t=e=>{const t=e.touchStart.target;l&&((null==o?void 0:o.contains(t))||(null==a?void 0:a.contains(t)))||null==n||n.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(s,{tap:t})}if(i.enableFilterButton&&a){const t=new ZF(a,!0);e.addManagedListeners(t,{tap:()=>i.showFilter(a)}),e.addDestroyFunc(()=>t.destroy())}}setupForHeaderGroup(e){var t;const n=e.params;if(null==(t=this.beans.menuSvc)?void 0:t.isHeaderContextMenuEnabled(n.columnGroup.getProvidedColumnGroup())){const t=new ZF(n.eGridHeader,!0),r=e=>n.showColumnMenuAfterMouseClick(e.touchStart);e.addManagedListeners(t,{longTap:r}),e.addDestroyFunc(()=>t.destroy())}}setupForHeaderGroupElement(e,t,n){const r=new ZF(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!ZO())return;const r=new ZF(t);e.addManagedListeners(r,{longTap:e=>{zW(this.beans,e.touchEvent)&&n(void 0,e.touchStart,e.touchEvent)}}),e.addDestroyFunc(()=>r.destroy())}}]};var YL=class{constructor(){this.cellValidations=new Map}getCellValidation(e){var t,n;const{rowNode:r,column:i}=e||{};return null==(n=null==(t=this.cellValidations)?void 0:t.get(r))?void 0:n.get(i)}hasCellValidation(e){return(null==e?void 0:e.rowNode)&&e.column?!!this.getCellValidation(e):this.cellValidations.size>0}setCellValidation(e,t){const{rowNode:n,column:r}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(r,t)}clearCellValidation(e){var t;const{rowNode:n,column:r}=e;null==(t=this.cellValidations.get(n))||t.delete(r)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},ZL=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return(null==e?void 0:e.rowNode)?!!this.getRowValidation(e):this.rowValidations.size>0}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function JL(e,t={}){var n;const{cellCtrl:r,colId:i,columnId:o,column:a}=t;if(r)return r;const s=e.colModel.getCol(i??o??function(e){if(!e)return;if("string"==typeof e)return e;return e.getColId()}(a)),l=t.rowCtrl??function(e,t={}){var n;const{rowIndex:r,rowId:i,rowCtrl:o,rowPinned:a}=t;if(o)return o;const{rowModel:s,rowRenderer:l}=e;let{rowNode:c}=t;return c||(i?c=function(e,t,n){const{rowModel:r,pinnedRowModel:i}=e;let o;return o??(o=null==r?void 0:r.getRowNode(t)),n?o??(o=null==i?void 0:i.getPinnedRowById(t,n)):(o??(o=null==i?void 0:i.getPinnedRowById(t,"top")),o??(o=null==i?void 0:i.getPinnedRowById(t,"bottom"))),o}(e,i,a):null!=r&&(c=s.getRow(r))),null==(n=l.getRowCtrls(c?[c]:[]))?void 0:n[0]}(e,t),c=(null==l?void 0:l.getCellCtrl(s))??void 0;if(c)return c;const u=t.rowNode??(null==l?void 0:l.rowNode);return u?null==(n=e.rowRenderer.getCellCtrls([u],[s]))?void 0:n[0]:void 0}var QL=Symbol("unedited");function eB(e,t,n){var r,i;const o={editorValueExists:!1};if(nB(e)){const e=null==(r=t.getValidationErrors)?void 0:r.call(t);if(((null==e?void 0:e.length)??0)>0)return o}if(null==n?void 0:n.isCancelling)return o;if(null==n?void 0:n.isStopping){const e=null==(i=null==t?void 0:t.isCancelAfterEnd)?void 0:i.call(t);if(e)return{...o,isCancelAfterEnd:e}}return{editorValue:t.getValue(),editorValueExists:!0}}function tB(e,t,n,r,i,o){const{editModelSvc:a,valueSvc:s}=e;if(!a)return;const{rowNode:l,column:c}=t;if(!l||!c)return;let u=a.getEdit(t,!0);(null==u?void 0:u.sourceValue)||(u=a.setEdit(t,{sourceValue:s.getValue(c,l,void 0,"api"),pendingValue:u?u.editorValue:QL})),a.setEdit(t,{editorValue:i?u.sourceValue:n})}function nB(e){var t;const{gos:n,colModel:r}=e,i=!!n.get("getFullRowEditValidationErrors"),o=null==(t=r.getColumnDefs())?void 0:t.filter(e=>e.editable).some(({cellEditorParams:e})=>{const{minLength:t,maxLength:n,getValidationErrors:r,min:i,max:o}=e||{};return void 0!==t||void 0!==n||void 0!==r||void 0!==i||void 0!==o}),a=e.gridApi.getCellEditorInstances().some(e=>e.getValidationElement||e.getValidationErrors);return o||i||a}function rB(e,t){var n,r,i,o,a,s,l,c;if(!nB(e))return;const u=function(e,t={}){var n;const r=[],i=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const o of i){const e=null==(n=o.comp)?void 0:n.getCellEditor();e&&r.push({ctrl:o,editor:vO(e)})}return r}(e),d=new YL,{ariaAnnounce:h,localeSvc:m,editModelSvc:p,gos:f}=e,g="fullRow"===f.get("editType"),v=YW(m)("ariaValidationErrorPrefix","Cell Editor Validation");for(const y of u){const{ctrl:e,editor:t}=y,{rowNode:o,column:a}=e,s=(null==(n=t.getValidationErrors)?void 0:n.call(t))??[],l=(null==(r=t.getValidationElement)?void 0:r.call(t,!1))||!(null==(i=t.isPopup)?void 0:i.call(t))&&e.eGui;if(l){const e=null!=s&&s.length>0,t=e?s.join(". "):"";sW(l,e),e&&h.announceValue(`${v} ${s}`,"editorValidation"),l instanceof HTMLInputElement?l.setCustomValidity(t):l.classList.toggle("invalid",e)}(null==s?void 0:s.length)>0&&d.setCellValidation({rowNode:o,column:a},{errorMessages:s})}!function(e,t){var n,r,i;for(const o of(null==(n=e.editModelSvc)?void 0:n.getEditPositions())??[]){const n=JL(e,o);if(!n)continue;const a=null==(r=n.comp)?void 0:r.getCellEditor();if(!a)continue;const{editorValue:s,editorValueExists:l,isCancelAfterEnd:c}=eB(e,a,t);c&&(null==(i=e.editModelSvc)||i.setEdit(o,{editorState:{isCancelAfterEnd:c}})),tB(e,o,s,0,!l)}}(e,{}),null==p||p.setCellValidationModel(d);const b=new Set;for(const{ctrl:y}of u)b.add(y.rowCtrl);if(g){const t=iB(e);null==p||p.setRowValidationModel(t)}for(const y of b.values()){null==(o=y.rowEditStyleFeature)||o.applyRowStyles();for(const e of y.getAllCellCtrls())null==(a=e.tooltipFeature)||a.refreshTooltip(!0),null==(s=e.editorTooltipFeature)||s.refreshTooltip(!0),null==(c=null==(l=e.editStyleFeature)?void 0:l.applyCellStyles)||c.call(l)}}var iB=e=>{var t;const n=new ZL,r=e.gos.get("getFullRowEditValidationErrors"),i=null==(t=e.editModelSvc)?void 0:t.getEditMap();if(!i)return n;for(const o of i.keys()){const e=i.get(o);if(!e)continue;const t=[],{rowIndex:a,rowPinned:s}=o;for(const n of e.keys()){const r=e.get(n);if(!r)continue;const{editorValue:i,pendingValue:o,sourceValue:l}=r,c=i??(o===QL?void 0:o)??l;t.push({column:n,colId:n.getColId(),rowIndex:a,rowPinned:s,oldValue:l,newValue:c})}const l=(null==r?void 0:r({editorsState:t}))??[];l.length>0&&n.setRowValidation({rowNode:o},{errorMessages:l})}return n};var oB=class extends JW{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case EO:this.onEnterKeyDown(e);break;case VO:this.onF2KeyDown(e);break;case kO:this.onEscapeKeyDown(e);break;case jO:this.onTabKeyDown(e);break;case SO:case TO:this.onBackspaceOrDeleteKeyDown(t,e);break;case OO:case RO:case AO:case WO:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){var n,r;const{cellCtrl:i,beans:o}=this;if(!(null==(n=o.editSvc)?void 0:n.isEditing(i,{withOpenEditor:!0}))){if(e.shiftKey&&i.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const n=i.getFocusedCellPosition();null==(r=o.navigation)||r.navigateToNextCell(e,t,n,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const r=t.extendLatestRangeInDirection(e);r&&(e.key===WO||e.key===AO?null==n||n.ensureColumnVisible(r.column):null==n||n.ensureRowVisible(r.rowIndex))}onTabKeyDown(e){var t;null==(t=this.beans.navigation)||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var n;const{cellCtrl:r,beans:i,rowNode:o}=this,{gos:a,rangeSvc:s,eventSvc:l,editSvc:c}=i;if(l.dispatchEvent({type:"keyShortcutChangedCellStart"}),function(e,t=!1){return e===TO||!t&&e===SO&&YO()}(e,a.get("enableCellEditingOnBackspace"))&&!(null==c?void 0:c.isEditing(r,{withOpenEditor:!0}))){if(s&&tA(a))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(r.isCellEditable()){const{column:e}=r,t=this.beans.valueSvc.getDeleteValue(e,o);o.setDataValue(e,t,"cellClear")}}else(null==c?void 0:c.isEditing(r,{withOpenEditor:!0}))||null==(n=i.editSvc)||n.startEditing(r,{startedEdit:!0,event:t});l.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){var t;const{cellCtrl:n,beans:r}=this,{editSvc:i,navigation:o}=r,a=null==i?void 0:i.isEditing(n,{withOpenEditor:!0}),s=n.rowNode,l=null==i?void 0:i.isRowEditing(s,{withOpenEditor:!0}),c=t=>{(null==i?void 0:i.startEditing(t,{startedEdit:!0,event:e,source:"edit"}))&&e.preventDefault()};if(a||l){if(this.isCtrlEnter(e))return void(null==i||i.applyBulkEdit(n,(null==(t=null==r?void 0:r.rangeSvc)?void 0:t.getCellRanges())||[]));if(rB(r),"block-stop"===(null==i?void 0:i.checkNavWithValidation(void 0,e)))return;(null==i?void 0:i.isEditing(n,{withOpenEditor:!0}))?null==i||i.stopEditing(n,{event:e,source:"edit"}):l&&!n.isCellEditable()?null==i||i.stopEditing({rowNode:s},{event:e,source:"edit"}):c(n)}else if(r.gos.get("enterNavigatesVertically")){const t=e.shiftKey?RO:OO;null==o||o.navigateToNextCell(null,t,n.cellPosition,!1)}else{if(null==i?void 0:i.hasValidationErrors())return;(null==i?void 0:i.hasValidationErrors(n))&&i.revertSingleCellEdit(n,!0),c(n)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===EO}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;(null==n?void 0:n.isEditing())&&(rB(this.beans),"block-stop"===(null==n?void 0:n.checkNavWithValidation(void 0,e)))||null==n||n.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;"block-stop"===(null==n?void 0:n.checkNavWithValidation(t,e))&&n.revertSingleCellEdit(t),null==n||n.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){var t;const n=e.target!==this.eGui,{beans:{editSvc:r},cellCtrl:i}=this;if(n)return;if(null==r?void 0:r.isEditing(i,{withOpenEditor:!0}))return;if(e.key===PO)this.onSpaceKeyDown(e);else if(null==r?void 0:r.isCellEditable(i,"ui")){if((null==r?void 0:r.hasValidationErrors())&&!(null==r?void 0:r.hasValidationErrors(i)))return;null==r||r.startEditing(i,{startedEdit:!0,event:e,source:"api"});const n=i.editCompDetails;!(null==(t=null==n?void 0:n.params)?void 0:t.suppressPreventDefault)&&e.preventDefault()}}onSpaceKeyDown(e){var t;const{gos:n,editSvc:r}=this.beans,{rowNode:i}=this.cellCtrl;!(null==r?void 0:r.isEditing(this.cellCtrl,{withOpenEditor:!0}))&&zR(n)&&(null==(t=this.beans.selectionSvc)||t.handleSelectionEvent(e,i,"spaceKey")),e.preventDefault()}},aB=class extends JW{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!DV(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){var t;if(null==(t=this.beans.touchSvc)?void 0:t.handleCellDoubleClick(this,e))return;const{eventSvc:n,rangeSvc:r,editSvc:i,editModelSvc:o,frameworkOverrides:a,gos:s}=this.beans,l=e.ctrlKey||e.metaKey,{cellCtrl:c}=this,{column:u,cellPosition:d,rowNode:h}=c,m=TV(s,u,h,e);r&&l&&!m&&r.getCellRangeCount(d)>1&&r.intersectLastRange(!0);const p=c.createEvent(e,"cellClicked");p.isEventHandlingSuppressed=m,n.dispatchEvent(p);const f=u.getColDef();if(f.onCellClicked&&window.setTimeout(()=>{a.wrapOutgoing(()=>{f.onCellClicked(p)})},0),!m&&"editing"!==(null==o?void 0:o.getState(c))){const t=null==i?void 0:i.isEditing(),n=(null==o?void 0:o.getCellValidationModel().getCellValidationMap().size)??0,r=(null==o?void 0:o.getRowValidationModel().getRowValidationMap().size)??0;if(t&&(n>0||r>0))return;(null==i?void 0:i.shouldStartEditing(c,e))?null==i||i.startEditing(c,{event:e}):(null==i?void 0:i.shouldStopEditing(c,e))&&("fullRow"===this.beans.gos.get("editType")?null==i||i.stopEditing(c,{event:e,source:"edit"}):null==i||i.stopEditing(void 0,{event:e,source:"edit"}))}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:r}=this,{eventSvc:i,frameworkOverrides:o,editSvc:a,editModelSvc:s,gos:l}=n,c=TV(l,r.column,r.rowNode,e),u=t.getColDef(),d=r.createEvent(e,"cellDoubleClicked");if(d.isEventHandlingSuppressed=c,i.dispatchEvent(d),"function"==typeof u.onCellDoubleClicked&&window.setTimeout(()=>{o.wrapOutgoing(()=>{u.onCellDoubleClicked(d)})},0),!c&&(null==a?void 0:a.shouldStartEditing(r,e))&&"editing"!==(null==s?void 0:s.getState(r))){const t=null==a?void 0:a.isEditing(),n=(null==s?void 0:s.getCellValidationModel().getCellValidationMap().size)??0,i=(null==s?void 0:s.getRowValidationModel().getRowValidationMap().size)??0;if(t&&(n>0||i>0))return;null==a||a.startEditing(r,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:r}=e,i=e.target,{cellCtrl:o,beans:a}=this,{eventSvc:s,rangeSvc:l,rowNumbersSvc:c,focusSvc:u,gos:d,editSvc:h}=a,{column:m,rowNode:p,cellPosition:f}=o,g=TV(d,m,p,e),v=()=>{const t=o.createEvent(e,"cellMouseDown");t.isEventHandlingSuppressed=g,s.dispatchEvent(t)};if(g)return void v();if(this.isRightClickInExistingRange(e))return;const b=l&&!l.isEmpty(),y=this.containsWidget(i),x=SA(m);if(c&&x&&!c.handleMouseDownOnCell(f,e))return l&&e.preventDefault(),void e.stopImmediatePropagation();if(!r||!b){const t=null==h?void 0:h.isEditing(o),n=d.get("enableCellTextSelection")&&e.defaultPrevented,r=(qO()||n)&&!t&&!dW(i)&&!y;o.focusCell(r,e)}if(r&&b&&!u.isCellFocused(f)){e.preventDefault();const t=u.getFocusedCell();if(t){const{column:n,rowIndex:r,rowPinned:i}=t;(null==h?void 0:h.isEditing(t))&&(null==h||h.stopEditing(t)),u.setFocusedCell({column:n,rowIndex:r,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!y){if(l){x&&e.preventDefault();const i=aA(a,e)&&x;if(r)l.extendLatestRangeToCell(f);else if(!i){const e=t||n;l.setRangeToCell(f,e)}}v()}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=aA(this.beans,e);if(n&&r)return!0}return!1}containsWidget(e){return pW(e,"ag-selection-checkbox",3)||pW(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),null==n||n.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),null==n||n.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}},sB=class extends JW{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();null!=t&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();bA(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(1===n)r.push(e);else{let t=e;const i=e.getPinned();for(let e=0;t&&e<n&&(r.push(t),t=this.beans.visibleCols.getColAfter(t),t&&!HP(t))&&i===t.getPinned();e++);}return r}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gos.get("enableRtl")&&this.colsSpanning?vA(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||"left"===this.column.getPinned())return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if("right"===this.column.getPinned()){return n+t.bodyWidth+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(1===this.rowSpan&&!e)return;const t=KR(this.beans)*this.rowSpan;this.eContent.style.height=`${t}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},lB=0,cB=class extends JW{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:i}=e;this.instanceId=i+"-"+lB++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){var e,t;const{beans:n}=this;this.positionFeature=new sB(this,n),this.customStyleFeature=null==(e=n.cellStyles)?void 0:e.createCellCustomStyleFeature(this,n),this.editStyleFeature=null==(t=n.editSvc)?void 0:t.createCellStyleFeature(this,n),this.mouseListener=new aB(this,n,this.column),this.keyboardListener=new oB(this,n,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:r}=n;r&&tA(n.gos)&&(this.rangeFeature=r.createCellRangeFeature(n,this)),SA(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(n,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var n;this.tooltipFeature=null==(n=this.beans.tooltipSvc)?void 0:n.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){var t;this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=null==(t=this.beans.tooltipSvc)?void 0:t.setupCellEditorTooltip(this,e),rB(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,r,i,o,a){var s,l,c,u,d,h,m,p,f;if(this.comp=e,this.eGui=t,this.printLayout=i,a??(a=this),this.addDomData(a),this.addFeatures(),a.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,a),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null==(s=this.positionFeature)||s.init(),null==(l=this.customStyleFeature)||l.setComp(e),null==(c=this.editStyleFeature)||c.setComp(e),null==(u=this.tooltipFeature)||u.refreshTooltip(),null==(d=this.keyboardListener)||d.init(),null==(h=this.rangeFeature)||h.setComp(e),null==(m=this.rowResizeFeature)||m.refreshRowResizer(),o&&this.isCellEditable()||this.hasEdit&&(null==(p=this.editSvc)?void 0:p.isEditing(this,{withOpenEditor:!0}))?null==(f=this.editSvc)||f.startEditing(this,{startedEdit:!1,source:"api",silent:!0,continueEditing:!0}):this.showValue(!1,!0),this.onCompAttachedFuncs.length){for(const e of this.onCompAttachedFuncs)e();this.onCompAttachedFuncs=[]}}setupAutoHeight(e,t){var n;this.isAutoHeight=(null==(n=this.beans.rowAutoHeight)?void 0:n.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){var e,t;const{beans:n,column:r}=this,{userCompFactory:i,ctrlsSvc:o,eventSvc:a}=n,s=r.getColDef(),l=this.createCellRendererParams();l.deferRender=!0;const c=gO(i,s,l);if(null==(t=null==(e=o.getGridBodyCtrl())?void 0:e.scrollFeature)?void 0:t.isScrolling()){let e;const t=new tO(t=>{e=t}),[n]=this.addManagedListeners(a,{bodyScrollEnd:()=>{e(),n()}});return{loadingComp:c,onReady:t}}return{loadingComp:c,onReady:tO.resolve()}}showValue(e,t){var n,r,i,o;const{beans:a,column:s,rowNode:l,rangeFeature:c}=this,{userCompFactory:u}=a;let d,h=this.getValueToDisplay();const m=l.stub&&null==(null==(n=l.groupData)?void 0:n[s.getId()]),p=s.getColDef();if(m||this.isCellRenderer()){const e=this.createCellRendererParams();d=!m||SA(s)?fO(u,p,e):gO(u,p,e)}if(!d&&!m&&(null==(r=a.findSvc)?void 0:r.isMatch(l,s))){const e=this.createCellRendererParams();d=fO(u,{...s.getColDef(),cellRenderer:"agFindCellRenderer"},e)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(l,{checkSiblings:!0})){const e=this.editSvc.prepDetailsDuringBatch(this,{compDetails:d,valueToDisplay:h});e&&(e.compDetails?d=e.compDetails:e.valueToDisplay&&(h=e.valueToDisplay))}this.comp.setRenderDetails(d,h,e),null==(i=this.customRowDragComp)||i.refreshVisibility(),!t&&c&&RW(a,()=>null==c?void 0:c.refreshHandle()),null==(o=this.rowResizeFeature)||o.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}getCellValueClass(){let e="";return"agCheckboxCellRenderer"===this.column.getColDef().cellRenderer&&(e=" ag-allow-overflow"),`ag-cell-value${e}`}isIncludeControl(e,t=!1){return(null==this.rowNode.rowPinned||t&&!(!(n=this.rowNode).rowPinned||!n.pinnedSibling))&&!!e;var n}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,r=function(e){if("object"==typeof e)return e.checkboxLocation??"selectionColumn"}(t),i=DA(this.column);return("custom"!==n||"selectionColumn"===r||!i)&&(e.checkboxSelection||i&&"object"==typeof t&&((null==(o=t)?void 0:o.checkboxes)??!0));var o}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||i}onPopupEditorClosed(){const{editSvc:e}=this.beans;(null==e?void 0:e.isEditing(this,{withOpenEditor:!0}))&&(null==e||e.stopEditing(this,{source:(null==e?void 0:e.isBatchEditing())?"ui":"api"}))}stopEditing(e=!1){const{editSvc:t}=this.beans;return(null==t?void 0:t.stopEditing(this,{cancel:e,source:(null==t?void 0:t.isBatchEditing())?"ui":"api"}))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:r,comp:i,eGui:o,beans:{valueSvc:a,gos:s,editSvc:l}}=this;return iA(s,{value:e,valueFormatted:t,getValue:()=>a.getValueForDisplay(n,r).value,setValue:e=>(null==l?void 0:l.setDataValue({rowNode:r,column:n},e))||r.setDataValue(n,e),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:i.getParentOfValue(),registerRowDragger:(e,t,n,r)=>this.registerRowDragger(e,t,r),setTooltip:(e,t)=>{var n;s.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(e,t),null==(n=this.tooltipFeature)||n.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;if(this.refreshShouldDestroy()?null==(t=this.rowCtrl)||t.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){const{editSvc:e,comp:t}=this;!(null==t?void 0:t.getCellEditor())&&e.isEditing(this,{withOpenEditor:!0})&&e.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:n}={}){var r;const{editStyleFeature:i,customStyleFeature:o,rowCtrl:{rowEditStyleFeature:a},beans:{cellFlashSvc:s,filterManager:l},column:c,comp:u,suppressRefreshCell:d,tooltipFeature:h}=this;if(d)return;const{field:m,valueGetter:p,showRowGroup:f,enableCellChangeFlash:g}=c.getColDef(),v=e||null==m&&null==p&&null==f||n,b=!!u,y=this.updateAndFormatValue(b);if(b){if(v||y){this.showValue(!!n,!1);const e=null==l?void 0:l.isSuppressFlashingCellsBecauseFiltering();!t&&!e&&g&&(null==s||s.flashCell(this)),null==(r=null==i?void 0:i.applyCellStyles)||r.call(i),null==o||o.applyUserStyles(),null==o||o.applyClassesFromColDef(),null==a||a.applyRowStyles()}null==h||h.refreshTooltip(),null==o||o.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:r,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=r,this.valueFormatted=i,!e||(!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n)}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;YR(this.beans.gos,t,IV,this),e.addDestroyFunc(()=>YR(this.beans.gos,t,IV,null))}createEvent(e,t){const{rowNode:n,column:r,value:i,beans:o}=this;return function(e,t,n,{rowNode:r,column:i},o){return iA(e.gos,{type:n,node:r,data:r.data,value:o,column:i,colDef:i.getColDef(),rowPinned:r.rowPinned,event:t,rowIndex:r.rowIndex})}(o,e,t,{rowNode:n,column:r},i)}processCharacter(e){var t;null==(t=this.keyboardListener)||t.processCharacter(e)}onKeyDown(e){var t;null==(t=this.keyboardListener)||t.onKeyDown(e)}onMouseEvent(e,t){var n;null==(n=this.mouseListener)||n.onMouseEvent(e,t)}getColSpanningList(){var e;return(null==(e=this.positionFeature)?void 0:e.getColSpanningList())??[]}onLeftChanged(){var e;this.comp&&(null==(e=this.positionFeature)||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;yF(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);cW(this.eGui,e)}onWidthChanged(){var e;return null==(e=this.positionFeature)?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&(null==(e=this.rangeFeature)||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&(null==(e=this.rangeFeature)||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return null!=this.rangeFeature}focusCell(e=!1,t){var n;const r=null==(n=this.editSvc)?void 0:n.allowedFocusTargetOnValidation(this);r&&r!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:r}=this;if(!r||(null==t?void 0:t.isEditing(this))||!this.isCellFocused()||!n.shouldTakeFocus())return;const i=()=>{if(!this.isAlive())return;const e=r.getFocusableElement();this.isCellFocused()&&e.focus({preventScroll:!0})};e?setTimeout(i,0):i()}onRowIndexChanged(){var e,t;this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),null==(e=this.rangeFeature)||e.onCellSelectionChanged(),null==(t=this.rowResizeFeature)||t.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(SA(this.column)&&(e=!0),PW(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss("ag-cell-first-right-pinned",e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss("ag-cell-last-left-pinned",e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){var t;const{beans:n}=this;if(wF(n))return;if(!this.comp)return void(e&&(this.focusEventWhileNotReady=e));const r=this.isCellFocused(),i=(null==(t=n.editSvc)?void 0:t.isEditing(this))??!1;if(this.comp.toggleCss("ag-cell-focus",r),r&&(null==e?void 0:e.forceBrowserFocus)){let t=this.comp.getFocusableElement();if(i){const e=dT(t,null,!0);e.length&&(t=e[0])}t.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}r&&e&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:LP(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss("ag-cell",!0),e.toggleCss("ag-cell-not-inline-editing",!0);const t=1==this.column.isAutoHeight();e.toggleCss("ag-cell-auto-height",t),e.toggleCss("ag-cell-normal-height",!t)}onColumnHover(){var e;null==(e=this.beans.colHover)||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e,t;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),(null==(e=this.editSvc)?void 0:e.isEditing(this))?null==(t=this.editSvc)||t.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=1==this.column.getColDef().wrapText;this.comp.toggleCss("ag-cell-wrap-text",e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){var e;return(null==(e=this.comp)?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){var e;return(null==(e=this.eGui)?void 0:e.contains(XP(this.beans)))??!1}createSelectionCheckbox(){var e;const t=null==(e=this.beans.selectionSvc)?void 0:e.createCheckboxSelectionComponent();if(t)return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(e,t);const r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}),r.refreshVisibility())}createRowDragComp(e,t,n){var r;const i=null==(r=this.beans.rowDragSvc)?void 0:r.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){for(const e of this.onEditorAttachedFuncs)e();this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function uB(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var dB=0,hB=class extends JW{constructor(e,t,n,r,i){var o,a;super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=(null==(o=t.pagination)?void 0:o.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+dB++,this.rowId=KP(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=uB(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=null==(a=t.editSvc)?void 0:a.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=KP(e)}updateGui(e,t){"left"===e?this.leftGui=t:"right"===e?this.rightGui=t:"fullWidth"===e?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){var i,o;const{context:a,focusSvc:s}=this.beans,l={rowComp:e,element:t,containerType:n,compBean:r=XA(this,a,r)};this.allRowGuis.push(l),this.updateGui(n,l),this.initialiseRowComp(l);const c=this.rowNode,u="FullWidthLoading"===this.rowType||c.stub,d=!c.data&&"infinite"===this.beans.rowModel.getType();u||d||c.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const h=null==(i=this.fullWidthGui)?void 0:i.element;if(h){!(null==(o=this.beans.editSvc)?void 0:o.isEditing(this))&&s.isRowFocused(c.rowIndex,c.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>h.focus({preventScroll:!0}),0)}}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";for(const n of this.allRowGuis)n.element.style.display=t}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),zR(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp,r=this.getInitialRowClasses(e.containerType);for(const a of r)n.toggleCss(a,!0);var i,o;this.executeSlideAndFadeAnimations(e),this.rowNode.group&&(i=e.element,o=1==this.rowNode.expanded,eW(i,"expanded",o)),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),YR(t,e.element,BV,this),e.compBean.addDestroyFunc(()=>YR(t,e.element,BV,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){null!=this.businessKey&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=KP(this.rowNode.id);this.rowId=t,null!=t&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(rR(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1);this.fadeInAnimation[t]&&(rR(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var t;const n=null==(t=this.beans.rowDragSvc)?void 0:t.createRowDragCompForRow(this.rowNode,e.element);if(!n)return;const r=this.createBean(n,this.beans.context);this.rowDragComps.push(r),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(e=>e!==r),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(r,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>{var t;return null==(t=null==e?void 0:e.rowComp)?void 0:t.getFullWidthCellRenderer()}):[null==(t=null==(e=this.fullWidthGui)?void 0:e.rowComp)?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,i=!!e||!r.isPinningLeft(),o=!!t,a=!!n||!r.isPinningRight();return i&&o&&a}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return!!e&&e({rowNode:this.rowNode})}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.colModel.isPivotMode(),i=function(e,t,n){return!!t.group&&!t.footer&&eA(e,n)}(this.gos,this.rowNode,r);this.rowType=e?"FullWidthLoading":n?"FullWidthDetail":t?"FullWidth":i?"FullWidthGroup":"Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;!(null==n?void 0:n.active)||e||this.printLayout?this.updateColumnListsImpl(t):this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var t;if(!(null==(t=this.beans.rowSpanSvc)?void 0:t.isCellSpanning(e,this.rowNode)))return new cB(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){var t;return!(null==(t=this.beans.rowSpanSvc)?void 0:t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,n=null){const r={list:[],map:{}},i=(e,t,n)=>{null!=n?r.list.splice(n,0,t):r.list.push(t),r.map[e]=t},o=[];for(const c of t){const t=c.getInstanceId();let n=e.map[t];n&&!this.isCorrectCtrlForSpan(n)&&(n.destroy(),n=void 0),n||(n=this.getNewCellCtrl(c)),n&&i(t,n)}for(const c of e.list){const e=c.column.getInstanceId();if(null!=r.map[e])continue;!this.isCellEligibleToBeRemoved(c,n)?o.push([e,c]):c.destroy()}if(o.length)for(const[c,u]of o){const e=r.list.findIndex(e=>e.column.getLeft()>u.column.getLeft()),t=-1===e?void 0:Math.max(e-1,0);i(c,u,t)}const{focusSvc:a,visibleCols:s}=this.beans,l=a.getFocusedCell();if(l&&l.column.getPinned()==n){const e=l.column.getInstanceId();if(!r.map[e]&&s.allCols.includes(l.column)){const t=this.createFocusedCellCtrl();if(t){const n=r.list.findIndex(e=>e.column.getLeft()>t.column.getLeft()),o=-1===n?void 0:Math.max(n-1,0);i(e,t,o)}}}return r}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const r=null==t?void 0:t.getCellSpan(n.column,this.rowNode);if(r){if(r.firstNode!==this.rowNode||!r.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){for(const t of this.allRowGuis){const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)}}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const n=!0,{column:r}=e;if(r.getPinned()!=t)return n;if(!this.isCorrectCtrlForSpan(e))return n;const{visibleCols:i,editSvc:o}=this.beans,a=null==o?void 0:o.isEditing(e),s=e.isCellFocused();if(a||s){return!(i.allCols.indexOf(r)>=0)&&n}return n}getDomOrder(){return this.gos.get("ensureDomOrder")||GR(this.gos,"print")}listenOnDomOrder(e){e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],()=>{e.rowComp.setDomOrder(this.getDomOrder())})}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=BP(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),i=n.isPinningRight();if(t){const{slideInAnimation:e}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(e.fullWidth=!0);e.center=!0,e.left=r,e.right=i}else{const{fadeInAnimation:e}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(e.fullWidth=!0);e.center=!0,e.left=r,e.right=i}}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const e=(e,t)=>!e||e.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(e.element,t).params),t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&n&&r&&i}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:r,eventSvc:i,context:o,rowSpanSvc:a}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...(null==r?void 0:r.getRowExpandedListeners(this))??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),a&&this.addManagedListeners(a,{spannedCellsUpdated:({pinned:e})=>{e&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,o),this.tooltipFeature=this.destroyBean(this.tooltipFeature,o),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,o)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow"))for(const e of this.allRowGuis)this.addRowDraggerToRow(e);else this.rowDragComps=this.destroyBeans(this.rowDragComps,o)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{for(const e of this.getAllCellCtrls())e.onRowIndexChanged()},cellChanged:e=>{for(const t of this.getAllCellCtrls())t.onCellChanged(e)}})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell())this.beans.rowRenderer.redrawRow(this.rowNode);else{if(this.isFullWidth()){return void(this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode))}for(const t of this.getAllCellCtrls())t.refreshCell(e);for(const e of this.allRowGuis)this.setRowCompRowId(e.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(e.rowComp);this.onRowSelected(),this.postProcessCss()}}postProcessCss(){var e;this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),null==(e=this.rowEditStyleFeature)||e.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=(null==e?void 0:e.row)===this.rowNode?e.position:"none",n="above"===t,r="inside"===t,i="below"===t,o=this.gos.get("treeData")&&(i||n),a=this.rowNode.uiLevel.toString();for(const s of this.allRowGuis){const e=s.rowComp;e.toggleCss("ag-row-highlight-above",n),e.toggleCss("ag-row-highlight-inside",r),e.toggleCss("ag-row-highlight-below",i),e.toggleCss("ag-row-highlight-indent",o),o?s.element.style.setProperty("--ag-row-highlight-level",a):s.element.style.removeProperty("--ag-row-highlight-level")}}postProcessRowDragging(){const e=this.rowNode.dragging;for(const t of this.allRowGuis)t.rowComp.toggleCss("ag-row-dragging",e)}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),null==(e=this.beans.rowAutoHeight)||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:LP(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:r}=t;if(!(n.element===e.target))return;const i=this.rowNode,{focusSvc:o,navigation:a}=this.beans,s=o.getFocusedCell(),l={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:(null==s?void 0:s.column)??r};null==a||a.navigateToNextCell(e,e.key,l,!0),e.preventDefault()}onTabKeyDown(e){var t;if(e.defaultPrevented||DV(e))return;const n=this.allRowGuis.find(t=>t.element.contains(e.target)),r=n?n.element:null,i=r===e.target,o=XP(this.beans);let a=!1;r&&o&&(a=r.contains(o)&&o.classList.contains("ag-cell"));let s=null;i||a||(s=mT(this.beans,r,0,e.shiftKey)),(this.isFullWidth()&&i||!s)&&(null==(t=this.beans.navigation)||t.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var e;const t=null==(e=this.allRowGuis.find(e=>NW(e.element)))?void 0:e.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:this.gos.get("tabIndex");for(const n of this.allRowGuis)PW(n.element,"tabindex",t)}onFullWidthRowFocused(e){var t,n,r;const i=this.rowNode,o=!!e&&(this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned);let a;if(this.fullWidthGui)a=this.fullWidthGui.element;else{const i=this.beans.colModel.getCol(null==e?void 0:e.column),o=null==i?void 0:i.pinned;a=o?"right"===o?null==(t=this.rightGui)?void 0:t.element:null==(n=this.leftGui)?void 0:n.element:null==(r=this.centerGui)?void 0:r.element}a&&(a.classList.toggle("ag-full-width-focus",o),o&&(null==e?void 0:e.forceBrowserFocus)&&a.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};for(const r of e.list)r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r);return n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t)}}createRowEvent(e,t){const{rowNode:n}=this;return iA(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){if(DV(e))return;const t=this.createRowEventWithSource("rowDoubleClicked",e);t.isEventHandlingSuppressed=this.isSuppressMouseEvent(e),this.beans.eventSvc.dispatchEvent(t)}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);return t&&n?{rowGui:t,column:n}:void 0}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(null==e?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=pW(e.target,"ag-row-drag",3),!this.isFullWidth()||this.isSuppressMouseEvent(e))return;const{rangeSvc:t,focusSvc:n}=this.beans;null==t||t.removeAllCellRanges();const r=this.findFullWidthInfoForEvent(e);if(!r)return;const{rowGui:i,column:o}=r,a=i.element,s=e.target,l=this.rowNode;let c=e.defaultPrevented||qO();a&&a.contains(s)&&dW(s)&&(c=!1),n.setFocusedCell({rowIndex:l.rowIndex,column:o,rowPinned:l.rowPinned,forceBrowserFocus:c})}isSuppressMouseEvent(e){const{gos:t,rowNode:n}=this;if(this.isFullWidth()){const r=this.findFullWidthRowGui(e.target);return function(e,t,n,r){return VV(e,void 0,n,r,null==t?void 0:t.suppressMouseEventHandling)}(t,null==r?void 0:r.rowComp.getFullWidthCellRendererParams(),n,e)}const r=LV(t,e.target);return null!=r&&TV(t,r.column,n,e)}onRowClick(e){if(DV(e)||this.lastMouseDownOnDragger)return;const t=this.isSuppressMouseEvent(e),{eventSvc:n,selectionSvc:r}=this.beans,i=this.createRowEventWithSource("rowClicked",e);i.isEventHandlingSuppressed=t,n.dispatchEvent(i),t||null==r||r.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;"FullWidthDetail"===this.rowType&&(null==(t=this.beans.masterDetailSvc)||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:n,rowNode:r}=this,i=iA(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(e,t,n,r)=>this.addFullWidthRowDragging(e,t,n,r),setTooltip:(e,t)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(e,t)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return function(e,t){return e.getCompDetailsFromGridOptions(pO,"agDetailCellRenderer",t,!0)}(o,i);case"FullWidthGroup":{const{value:e,valueFormatted:t}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return i.value=e,i.valueFormatted=t,function(e,t){return e.getCompDetailsFromGridOptions(mO,"agGroupRowRenderer",t,!0)}(o,i)}case"FullWidthLoading":return function(e,t){return e.getCompDetailsFromGridOptions(hO,"agLoadingCellRenderer",t,!0)}(o,i);default:return function(e,t){return e.getCompDetailsFromGridOptions(dO,void 0,t,!0)}(o,i)}}setupFullWidthRowTooltip(e,t){var n;this.fullWidthGui&&(this.tooltipFeature=null==(n=this.beans.tooltipSvc)?void 0:n.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",r){const{rowDragSvc:i,context:o}=this.beans;if(!i||!this.isFullWidth())return;const a=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(a,o),this.addDestroyFunc(()=>{this.destroyBean(a,o)})}onUiLevelChanged(){const e=uB(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;for(const e of this.allRowGuis)e.rowComp.toggleCss(t,!0),e.rowComp.toggleCss(n,!1)}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();if(this.firstRowOnPage!==e){this.firstRowOnPage=e;for(const t of this.allRowGuis)t.rowComp.toggleCss("ag-row-first",e)}if(this.lastRowOnPage!==t){this.lastRowOnPage=t;for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-last",t)}}getAllCellCtrls(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;return[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var e;const t=[];if(null==(e=this.beans.rowStyleSvc)||e.processClassesFromGridOptions(t,this.rowNode),t.length)for(const n of t)for(const e of this.allRowGuis)e.rowComp.toggleCss(n,!0)}postProcessRowClassRules(){var e;null==(e=this.beans.rowStyleSvc)||e.processRowClassRules(this.rowNode,e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!0)},e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!1)})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,e=>e.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return"left"===e||"right"===e?e:null}getInitialRowClasses(e){var t,n;const r=this.getPinnedForContainer(e),i=this.isFullWidth(),{rowNode:o,beans:a}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(o.rowIndex%2==0?"ag-row-even":"ag-row-odd"),o.isRowPinned()&&(s.push("ag-row-pinned"),(null==(t=a.pinnedRowModel)?void 0:t.isManual())&&s.push("ag-row-pinned-manual")),!o.isRowPinned()&&o.pinnedSibling&&s.push("ag-row-pinned-source"),o.isSelected()&&s.push("ag-row-selected"),o.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),o.stub&&s.push("ag-row-loading"),i&&s.push("ag-full-width-row"),null==(n=a.expansionSvc)||n.addExpandedCss(s,o),o.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:l}=a;return l&&(l.processClassesFromGridOptions(s,o),l.preProcessRowClassRules(s,o)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),i&&("left"===r&&s.push("ag-cell-last-left-pinned"),"right"===r&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){var e;return(null==(e=this.beans.rowStyleSvc)?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;null==(t=this.beans.selectionSvc)||t.onRowCtrlSelected(this,e=>{e!==this.centerGui&&e!==this.fullWidthGui||this.announceDescription()},e)}announceDescription(){var e;null==(e=this.beans.selectionSvc)||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:r,beans:i,gos:o}=this;n.addManagedListeners(t,{pointerenter:e=>{"mouse"===e.pointerType&&r.dispatchRowEvent("mouseEnter")},pointerleave:e=>{"mouse"===e.pointerType&&r.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(r,{mouseEnter:()=>{var e;(null==(e=i.dragSvc)?void 0:e.dragging)||o.get("suppressRowHoverHighlight")||(t.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(e=>e.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){if(e)t(e);else for(const n of this.allRowGuis)t(n)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(null==this.rowNode.rowHeight)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=$R(this.gos)?UR(this.beans,this.rowNode).height:void 0,i=r?Math.min(n,r)-2+"px":void 0;this.forEachGui(e,e=>{e.element.style.height=`${t}px`,i&&e.element.style.setProperty("--ag-line-height",i)})}destroyFirstPass(e=!1){var t;this.active=!1;const{rowNode:n}=this;if(!e&&ZR(this.gos)&&!n.sticky){if(null!=n.rowTop){const e=this.roundRowTopToBounds(n.rowTop);this.setRowTop(e)}else for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-opacity-zero",!0)}(null==(t=this.fullWidthGui)?void 0:t.element.contains(XP(this.beans)))&&this.beans.focusSvc.attemptToRecoverFocus(),n.setHovered(!1);const r=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(r),this.beans.eventSvc.dispatchEvent(r),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=e=>{for(const t of e.list)t.destroy();return{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,e=>{e.rowComp.toggleCss("ag-row-focus",this.rowFocused),e.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){var e;const t=(null==(e=this.beans.pagination)?void 0:e.getCurrentPage())??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;return e+this.beans.pageBounds.getPixelOffset()*(t?1:-1)}setRowTop(e){if(!this.printLayout&&BP(e)){const t=this.applyPaginationOffset(e),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(n)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(r);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(e){for(const t of this.allRowGuis)this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)}getCellCtrl(e,t=!1){let n=null;for(const r of this.getAllCellCtrls())r.column==e&&(n=r);if(null!=n||t)return n;for(const r of this.getAllCellCtrls())(null==r?void 0:r.getColSpanningList().indexOf(e))>=0&&(n=r);return n}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var t,n;const r=this.rowNode.getRowIndexString();if(null===r)return;const i=((null==(t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())?void 0:t.getRowCount())??0)+((null==(n=this.beans.filterManager)?void 0:n.getHeaderRowCount())??0),o=this.rowNode.rowIndex%2==0,a=i+this.rowNode.rowIndex+1;this.forEachGui(e,e=>{e.rowComp.setRowIndex(r),e.rowComp.toggleCss("ag-row-even",o),e.rowComp.toggleCss("ag-row-odd",!o),eW(e.element,"rowindex",a)})}};function mB(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var pB={moduleName:"KeyboardNavigation",version:jR,beans:[class extends JW{constructor(){super(),this.beanName="navigation",this.onPageDown=oR(this.onPageDown,100),this.onPageUp=oR(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,a=function(e,t){var n;return(null==(n=LV(e,t.target))?void 0:n.getFocusedCellPosition())??null}(this.gos,e);let s=!1;switch(n){case LO:case BO:i||r||(this.onHomeOrEndKey(n),s=!0);break;case WO:case AO:case RO:case OO:if(!a)return!1;!i||r||o||(this.onCtrlUpDownLeftRight(n,a),s=!0);break;case IO:case FO:i||r||(s=this.handlePageUpDown(n,a,t))}return s&&e.preventDefault(),s}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),!!t&&(e===FO?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:r,focusColumn:i,isAsync:o,rowPinned:a}){const{scrollFeature:s}=this.gridBodyCon;BP(n)&&!n.isPinned()&&s.ensureColumnVisible(n),BP(e)&&s.ensureIndexVisible(e,t),o||s.ensureIndexVisible(r);const{focusSvc:l,rangeSvc:c}=this.beans;l.setFocusedCell({rowIndex:r,column:i,rowPinned:a,forceBrowserFocus:!0}),null==c||c.setRangeToCell({rowIndex:r,rowPinned:a,column:i})}onPageDown(e){const t=this.beans,n=mB(t),r=this.getViewportHeight(),{pageBounds:i,rowModel:o,rowAutoHeight:a}=t,s=i.getPixelOffset(),l=n.top+r,c=o.getRowIndexAtPixel(l+s);(null==a?void 0:a.active)?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){const t=this.beans,n=mB(t),{pageBounds:r,rowModel:i,rowAutoHeight:o}=t,a=r.getPixelOffset(),s=n.top,l=i.getRowIndexAtPixel(s+a);(null==o?void 0:o.active)?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:r,rowModel:i}=this.beans,o=this.getViewportHeight(),a=r.getFirstRow(),s=r.getLastRow(),l=r.getPixelOffset(),c=i.getRow(e.rowIndex),u=n?(null==c?void 0:c.rowHeight)-o-l:o-l,d=(null==c?void 0:c.rowTop)+u;let h,m=i.getRowIndexAtPixel(d+l);if(m===e.rowIndex){const r=n?-1:1;t=m=e.rowIndex+r}n?(h="bottom",m<a&&(m=a),t<a&&(t=a)):(h="top",m>s&&(m=s),t>s&&(t=s)),this.isRowTallerThanView(i.getRow(m))&&(t=m,h="top"),this.navigateTo({scrollIndex:t,scrollType:h,scrollColumn:null,focusIndex:m,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,r=this.getViewportHeight(),{pageBounds:i,rowModel:o}=this.beans,a=i.getLastRow();let s=0,l=e.rowIndex;for(;l>=0&&l<=a;){const e=o.getRow(l);if(e){const t=e.rowHeight??0;if(s+t>r)break;s+=t}l+=n}return Math.max(0,Math.min(l,a))}getViewportHeight(){const e=this.beans,t=mB(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let r=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return"number"==typeof t&&t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),r=this.getNormalisedPosition(n),{rowIndex:i,rowPinned:o,column:a}=r??n,s=a;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:s,focusIndex:i,focusColumn:s,rowPinned:o})}onHomeOrEndKey(e){const t=e===LO,{visibleCols:n,pageBounds:r,rowModel:i}=this.beans,o=n.allCols,a=t?r.getFirstRow():r.getLastRow(),s=i.getRow(a);if(!s)return;const l=(t?o:[...o].reverse()).find(e=>!e.isSuppressNavigable(s));l&&this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:l,focusIndex:a,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:o,pageBounds:a,focusSvc:s,gos:l}=i;if(!1===r)if(n){const{rowIndex:n,rowPinned:r}=e.getRowPosition();(r?0===n:n===a.getFirstRow())&&(0===l.get("headerHeight")||xF(i)?CF(i,!0,!0):(t.preventDefault(),s.focusPreviousFromFirstCell(t)))}else e instanceof cB&&e.focusCell(!0),(s.focusOverlay(!1)||CF(i,n))&&t.preventDefault();else r?t.preventDefault():null===r&&o.get("gridCtrl").allowFocusForNextCoreContainer(n)}tabToNextCell(e,t){const n=this.beans,{focusSvc:r,rowRenderer:i}=n,o=r.getFocusedCell();if(!o)return!1;let a=dI(n,o);return!(!a&&(a=i.getRowByPosition(o),!(null==a?void 0:a.isFullWidth())))&&!!this.tabToNextCellCommon(a,e,t,"api")}tabToNextCellCommon(e,t,n,r="ui"){var i;const{editSvc:o,focusSvc:a}=this.beans;let s;const l=e instanceof cB?e:null==(i=e.getAllCellCtrls())?void 0:i[0];return s=(null==o?void 0:o.isEditing())?null==o?void 0:o.moveToNextCell(l,t,n,r):this.moveToNextCellNotEditing(e,t,n),null===s?s:s||!!a.focusedHeader}moveToNextCellNotEditing(e,t,n){const r=this.beans.visibleCols.allCols;let i;if(e instanceof hB){if(i={...e.getRowPosition(),column:t?r[0]:vA(r)},this.gos.get("embedFullWidthRows")&&n){const t=e.findFullWidthInfoForEvent(n);t&&(i.column=t.column)}}else i=e.getFocusedCellPosition();const o=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(!1===o)return null;if(o instanceof cB)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o,t);return BP(o)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:r}){let i=e;const o=this.beans,{cellNavigation:a,gos:s,focusSvc:l,rowRenderer:c,rangeSvc:u}=o;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=a.getNextTabbedCell(i,t);const d=s.getCallback("tabToNextCell");if(BP(d)){const r=d({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(!0===r)i=e;else{if(!1===r)return!1;i={rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const e=NF(o);return l.focusHeaderPosition({headerPosition:{headerRowIndex:e+i.rowIndex,column:i.column},fromCell:!0}),null}const h="fullRow"===s.get("editType");if(n&&(!h||r)){if(!this.isCellEditable(i))continue}this.ensureCellVisible(i);const m=dI(o,i);if(!m){const e=c.getRowByPosition(i);if(!e||!e.isFullWidth()||n)continue;return{...e.getRowPosition(),column:null==i?void 0:i.column}}if(!a.isSuppressNavigable(m.column,m.rowNode))return m.setFocusedCellPosition(i),null==u||u.setRangeToCell(i),m}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:r}=this.beans;return"top"===t?null==n?void 0:n.getPinnedTopRow(e):"bottom"===t?null==n?void 0:n.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let i=n,o=!1;const a=this.beans,{cellNavigation:s,focusSvc:l,gos:c}=a;for(;i&&(i===n||!this.isValidNavigateCell(i));)c.get("enableRtl")?t===WO&&(i=this.getLastCellOfColSpan(i)):t===AO&&(i=this.getLastCellOfColSpan(i)),i=s.getNextCellToFocus(t,i),o=HP(i);if(o&&e&&e.key===RO&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){const r=c.getCallback("navigateToNextCell");if(BP(r)){const o=r({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});i=BP(o)?{rowPinned:o.rowPinned,rowIndex:o.rowIndex,column:o.column}:null}}if(!i)return;if(i.rowIndex<0){const t=NF(a);return void l.focusHeaderPosition({headerPosition:{headerRowIndex:t+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0})}const u=this.getNormalisedPosition(i);u?this.focusPosition(u):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){var t;if(!!(null==(t=this.beans.spannedRowRenderer)?void 0:t.getCellByPosition(e)))return e;this.ensureCellVisible(e);const n=dI(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:r,focusSvc:i,eventSvc:o}=this.beans,a=n.allCols,s=r.getRowByPosition(e);if(!(null==s?void 0:s.isFullWidth()))return!1;const l=i.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?vA(a):a[0])};this.focusPosition(c);const u=null==t?null!=l&&function(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(BP(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}(c,l):t;return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:u}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),null==n||n.setRangeToCell(e)}isValidNavigateCell(e){return!!uI(this.beans,e)}getLastCellOfColSpan(e){const t=dI(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return 1===n.length?e:{rowIndex:e.rowIndex,column:vA(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=JR(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&(null==n?void 0:n.sticky),{scrollFeature:i}=this.gridBodyCon;!r&&HP(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}},class extends JW{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===RO,r=e===OO,i=e===WO;let o,a;const{pageBounds:s,gos:l,visibleCols:c,pinnedRowModel:u}=this.beans,{rowPinned:d}=t;if(n||r)a=d&&u?n?0:"top"===d?u.getPinnedTopRowCount()-1:u.getPinnedBottomRowCount()-1:n?s.getFirstRow():s.getLastRow(),o=t.column;else{const e=l.get("enableRtl");a=t.rowIndex;o=(i!==e?c.allCols:[...c.allCols].reverse()).find(e=>this.isCellGoodToFocusOn({rowIndex:a,rowPinned:null,column:e}))}return o?{rowIndex:a,rowPinned:d,column:o}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case RO:n=this.getCellAbove(n);break;case OO:n=this.getCellBelow(n);break;case AO:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case WO:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,VR(8,{key:e})}r=!n||this.isCellGoodToFocusOn(n)}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:r,rowModel:i}=this.beans;switch(e.rowPinned){case"top":n=null==r?void 0:r.getPinnedTopRow(e.rowIndex);break;case"bottom":n=null==r?void 0:r.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex)}if(!n)return!1;return!this.isSuppressNavigable(t,n)}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){var t;if(!e)return null;const n=(null==(t=this.rowSpanSvc)?void 0:t.getCellEnd(e))??e,r=mI(this.beans,n,!0);return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null}getCellAbove(e){var t;if(!e)return null;const n=(null==(t=this.rowSpanSvc)?void 0:t.getCellStart(e))??e,r=hI(this.beans,{rowIndex:n.rowIndex,rowPinned:n.rowPinned},!0);return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let i=e.rowIndex,o=e.rowPinned,a=t.getColAfter(e.column);if(!a){a=r[0];const t=mI(this.beans,e,!0);if(HP(t))return null;if(!t.rowPinned&&!((null==n?void 0:n.isRowInPage(t.rowIndex))??1))return null;i=t?t.rowIndex:null,o=t?t.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:r}=t,i=n.allCols;let o=e.rowIndex,a=e.rowPinned,s=n.getColBefore(e.column);if(!s){s=vA(i);const n=hI(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned},!0);if(HP(n))return null;if(!n.rowPinned&&!((null==r?void 0:r.isRowInPage(n.rowIndex))??1))return null;o=n?n.rowIndex:null,a=n?n.rowPinned:null}return{rowIndex:o,column:s,rowPinned:a}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if("boolean"==typeof n)return n;if("function"==typeof n){return n(e.createColumnFunctionCallbackParams(t))}return!1}},class extends JW{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl});const t=YP(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:r,colGroupSvc:i,ctrlsSvc:o}=this.beans;if("string"==typeof e?(n=r.getCol(e),n||(n=(null==i?void 0:i.getColumnGroup(e))??null)):n=e,!n)return null;const a=o.getHeaderRowContainerCtrl(),s="filter"===vA((null==a?void 0:a.getAllCtrls())||[]).type,l=NF(this.beans)-1;let c=-1,u=n;for(;u;)c++,u=u.getParent();let d=c;return t&&s&&d===l-1&&d++,-1===d?null:{headerRowIndex:d,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:r}=this.beans,{focusedHeader:i}=n;if(!i)return!1;const{headerRowIndex:o}=i,a=i.column,s=NF(this.beans),l=this.getHeaderRowType(o),c=r.headerGroupRowCount;let{headerRowIndex:u,column:d,headerRowIndexWithoutSpan:h}="UP"===e?function(e,t,n){const r=n-1;if("filter"!==e){const e=t instanceof dA&&t.isSpanHeaderHeight();let n=t.getParent();for(;n&&(n.getProvidedColumnGroup().getLevel()>r||e&&n.isPadding());)n=n.getParent();if(n)return e?{column:n,headerRowIndex:n.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:r}:{column:n,headerRowIndex:r,headerRowIndexWithoutSpan:r}}return{column:t,headerRowIndex:r,headerRowIndexWithoutSpan:r}}(l,a,o):function(e,t,n){const r=t+1,i={column:e,headerRowIndex:r,headerRowIndexWithoutSpan:r};if(e instanceof wV){if(r>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:r};let t=e.getDisplayedChildren()[0];if(t instanceof wV&&t.isPadding()){const e=t.getDisplayedLeafColumns()[0];e.isSpanHeaderHeight()&&(t=e)}i.column=t;t instanceof dA&&t.isSpanHeaderHeight()&&(i.headerRowIndex=n,i.headerRowIndexWithoutSpan=r)}return i}(a,o,c),m=!1;return u<0&&(u=0,d=a,m=!0),u>=s?(u=-1,this.currentHeaderRowWithoutSpan=-1):void 0!==h&&(this.currentHeaderRowWithoutSpan=h),!(!m&&!d)&&n.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:d},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:r,gos:i}=this.beans,o={...r.focusedHeader};let a,s;-1!==this.currentHeaderRowWithoutSpan?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,"LEFT"===e!==i.get("enableRtl")?(s="Before",a=this.findHeader(o,s)):(s="After",a=this.findHeader(o,s));const l=i.getCallback("tabToNextHeader");if(t&&l){const e=r.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:a,direction:s});if(e){const{headerRowIndex:e}=r.focusedHeader||{};null!=e&&e!=o.headerRowIndex&&(this.currentHeaderRowWithoutSpan=e)}return e}return a||!t?r.focusHeaderPosition({headerPosition:a,direction:s,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(o,s,n)}focusNextHeaderRow(e,t,n){const r=this.beans,i=e.headerRowIndex;let o,a=null;const s=NF(r),l=this.beans.visibleCols.allCols;if("Before"===t){if(i<=0)return!1;a=vA(l),o=i-1,this.currentHeaderRowWithoutSpan-=1}else a=l[0],o=i+1,this.currentHeaderRowWithoutSpan<s?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:c,headerRowIndex:u}=EL(this.beans,a,o);return u>=s&&(u=-1),r.focusSvc.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:u},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(xV(e)){const r=e.getDisplayedLeafColumns();n="Before"===t?vA(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:r}=this.beans;let i=e.column;if(i instanceof wV){const e=i.getDisplayedLeafColumns();i="Before"===t?e[0]:e[e.length-1]}const o="Before"===t?r.getColBefore(i):r.getColAfter(i);if(!o)return;const a=r.headerGroupRowCount;if(e.headerRowIndex>=a)return{headerRowIndex:e.headerRowIndex,column:o};const s=null==n?void 0:n.getColGroupAtLevel(o,e.headerRowIndex);if(!s){return{headerRowIndex:o instanceof dA&&o.isSpanHeaderHeight()?r.headerGroupRowCount:e.headerRowIndex,column:o}}return s.isPadding()&&o.isSpanHeaderHeight()?{headerRowIndex:r.headerGroupRowCount,column:o}:{headerRowIndex:e.headerRowIndex,column:s??o}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}}],apiFunctions:{getFocusedCell:function(e){return e.focusSvc.getFocusedCell()},clearFocusedCell:function(e){return e.focusSvc.clearFocusedCell()},setFocusedCell:function(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})},setFocusedHeader:function(e,t,n=!1){var r;const i=null==(r=e.headerNavigation)?void 0:r.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})},tabToNextCell:function(e,t){var n;return(null==(n=e.navigation)?void 0:n.tabToNextCell(!1,t))??!1},tabToPreviousCell:function(e,t){var n;return(null==(n=e.navigation)?void 0:n.tabToNextCell(!0,t))??!1}}},fB=class extends JW{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[(this.isLeft?"left":"right")+"PinnedWidthChanged"]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(hW(n,t),SW(n,e))}},gB={moduleName:"PinnedColumn",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=GR(e,"print"),i=r?0:t.getColsLeftWidth(),o=r?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=vW(this.gridBodyCtrl.eBodyViewport);if(e<=50)return;const t=this.getPinnedColumnsOverflowingViewport(e-50),n=this.gos.getCallback("processUnpinnedColumns"),{columns:r,hasLockedPinned:i}=t;let o=r;if(o.length||i){if(n){o=n({columns:o,viewportWidth:e})}(null==o?void 0:o.length)&&(o=o.filter(e=>!SA(e)),this.setColsPinned(o,null,"viewportSizeFeature"))}}createPinnedWidthFeature(e,...t){return new fB(e,t)}setColsPinned(e,t,n){const{colModel:r,colAnimation:i,visibleCols:o,gos:a}=this.beans;if(!r.cols)return;if(!(null==e?void 0:e.length))return;if(GR(a,"print"))return void VR(37);let s;null==i||i.start(),s=!0===t||"left"===t?"left":"right"===t?"right":null;const l=[];for(const c of e){if(!c)continue;const e=r.getCol(c);e&&(e.getPinned()!==s&&(this.setColPinned(e,s),l.push(e)))}l.length&&(o.refresh(n),HA(this.eventSvc,l,n)),null==i||i.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;void 0!==t?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){e.pinned=!0===t||"left"===t?"left":"right"===t?"right":null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(null==e.pinned)return;const n="left"===e.pinned,r="right"===e.pinned;e.hidden=!0;const i=()=>{const i=n?this.leftWidth:this.rightWidth;if(null==i)return;const o=0==i,a=e.hidden!==o,s=this.gos.get("enableRtl"),l=t.getScrollbarWidth(),c=t.verticalScrollShowing&&(s&&n||!s&&r)?i+l:i;e.comp.setPinnedContainerWidth(`${c}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:t,rightWidth:n}=this,r=vW(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(t+n+e>r){if(!(r>t+n))return 0;e=r-t-n}}return e}getPinnedColumnsOverflowingViewport(e){const t=(this.rightWidth??0)+(this.leftWidth??0);let n=!1;if(t<e)return{columns:[],hasLockedPinned:n};const{visibleCols:r}=this.beans,i=[...r.leftCols],o=[...r.rightCols];let a=0,s=0;const l=[];let c=t-0-e;for(;(s<i.length||a<o.length)&&c>0;){if(a<o.length){const e=o[a++];if(e.colDef.lockPinned){n=!0;continue}c-=e.getActualWidth(),l.push(e)}if(s<i.length&&c>0){const e=i[s++];if(e.colDef.lockPinned){n=!0;continue}c-=e.getActualWidth(),l.push(e)}}return{columns:l,hasLockedPinned:n}}}],css:[".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}"]},vB={moduleName:"Aria",version:jR,beans:[class extends JW{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=iR(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=YP(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),aW(n,"polite"),QP(n,"relevant","additions text"),function(e,t){QP(e,"atomic",t)}(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;null!=t&&""!=t.replace(/[ .]/g,"")?(this.lastAnnouncement===t&&(t=`${t}​`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t):this.lastAnnouncement=""}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(xW(e),e.remove()),this.descriptionContainer=null,this.pendingAnnouncements.clear()}}]},bB="ag-delay-render",yB={moduleName:"ColumnDelayRender",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="colDelayRenderSvc",this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(e){this.alreadyRevealed||this.requesters.has(e)||(this.requesters.add(e),this.hideRequested||(this.beans.ctrlsSvc.whenReady(this,e=>{e.gridBodyCtrl.eGridBody.classList.add(bB)}),this.hideRequested=!0))}revealColumns(e){if(this.alreadyRevealed||!this.isAlive())return;if(this.requesters.delete(e),this.requesters.size>0)return;const{renderStatus:t,ctrlsSvc:n}=this.beans;if(t){if(!t.areHeaderCellsRendered()&&this.timesRetried<5)return this.timesRetried++,void setTimeout(()=>this.revealColumns(e));this.timesRetried=0}n.getGridBodyCtrl().eGridBody.classList.remove(bB),this.alreadyRevealed=!0}}],css:[":where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}"]};var xB={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},wB=class extends eO{constructor(){super(xB),this.eOverlayWrapper=YA,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}")}handleKeyDown(e){if(e.key!==jO||e.defaultPrevented||DV(e))return;const t=this.beans;if(mT(t,this.eOverlayWrapper,0,e.shiftKey))return;let n=!1;n=e.shiftKey?t.focusSvc.focusGridView({column:vA(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):CF(t,!1),n&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:r,NORMAL:i,PRINT:o}=jV;n.toggle(r,t.autoHeight),n.toggle(i,t.normal),n.toggle(o,t.print)}postConstruct(){this.createManagedBean(new EV(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,r){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const e=XP(this.beans);e&&!function(e){const t=XP(e);return null===t||t===YP(e).body}(this.beans)&&(this.elToFocusAfter=e)}e.then(t=>{if(this.activePromise===e){if(this.activePromise=null,t){if(this.activeOverlay!==t&&(this.eOverlayWrapper.appendChild(t.getGui()),this.activeOverlay=t,r)){const e=t;this.updateListenerDestroyFunc=this.addManagedPropertyListener(r,({currentValue:t})=>{var n;null==(n=e.refresh)||n.call(e,iA(this.gos,{...t??{}}))})}n&&this.isGridFocused()&&hT(this.eOverlayWrapper)}}else this.activeOverlay!==t&&(this.destroyBean(t),t=null)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var e;this.activePromise=null;const t=this.activeOverlay;if(!t)return;let n=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,n&&!this.isGridFocused()&&(n=null);const r=this.updateListenerDestroyFunc;r&&(r(),this.updateListenerDestroyFunc=null),this.destroyBean(t),xW(this.eOverlayWrapper),null==(e=null==n?void 0:n.focus)||e.call(n,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=XP(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},CB={selector:"AG-OVERLAY-WRAPPER",component:wB},NB={moduleName:"Overlay",version:jR,userComponents:{agLoadingOverlay:class extends BF{init(){var e;const t=LP(null==(e=this.gos.get("overlayLoadingTemplate"))?void 0:e.trim());if(this.setTemplate(t??HF),!t){const e=this.getLocaleTextFunc()("loadingOoo","Loading...");this.getGui().textContent=e,this.beans.ariaAnnounce.announceValue(e,"overlay")}}},agNoRowsOverlay:class extends BF{init(){var e;const t=LP(null==(e=this.gos.get("overlayNoRowsTemplate"))?void 0:e.trim());if(this.setTemplate(t??_F),!t){const e=this.getLocaleTextFunc()("noRowsToShow","No Rows To Show");this.getGui().textContent=e,this.beans.ariaAnnounce.announceValue(e,"overlay")}}}},apiFunctions:{showLoadingOverlay:function(e){var t;null==(t=e.overlays)||t.showLoadingOverlay()},showNoRowsOverlay:function(e){var t;null==(t=e.overlays)||t.showNoRowsOverlay()},hideOverlay:function(e){var t;null==(t=e.overlays)||t.hideOverlay()}},beans:[class extends JW{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=HR(this.gos),this.isServerSide=!this.isClientSide&&_R(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return 0!==this.state&&!!this.eWrapper}isExclusive(){return 1===this.state&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");(t||void 0===t&&!e.get("suppressLoadingOverlay"))&&this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")?VR(99):this.doHideOverlay()}getOverlayWrapperSelector(){return CB}getOverlayWrapperCompClass(){return wB}updateOverlayVisibility(){if(!this.eWrapper)return void(this.state=0);const{state:e,isClientSide:t,isServerSide:n,beans:{gos:r,colModel:i,rowModel:o}}=this;let a=this.gos.get("loading");void 0!==a&&(this.showInitialOverlay=!1),this.showInitialOverlay&&void 0===a&&!r.get("suppressLoadingOverlay")&&(a=!r.get("columnDefs")||!i.ready||!r.get("rowData")&&t),a?1!==e&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&o.isEmpty()&&!r.get("suppressNoRowsOverlay")?2!==e&&this.doShowNoRowsOverlay():(1===e||!n&&0!==e)&&this.doHideOverlay())}doShowLoadingOverlay(){var e,t;this.eWrapper&&(this.state=1,this.showOverlay((e=this.beans.userCompFactory,t=iA(this.gos,{}),e.getCompDetailsFromGridOptions(cO,"agLoadingOverlay",t,!0)),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){var e,t;this.eWrapper&&(this.state=2,this.showOverlay((e=this.beans.userCompFactory,t=iA(this.gos,{}),e.getCompDetailsFromGridOptions(uO,"agNoRowsOverlay",t,!0)),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){var r;const i=(null==e?void 0:e.newAgStackInstance())??null;null==(r=this.eWrapper)||r.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(2===this.state){const e=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(null==e?void 0:e.headerHeight)||0}this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}}]},MB=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(e){if(null==(null==e?void 0:e.id))return null;const t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);return t.rowNode!=e?null:t}has(e){return null!=this.entriesMap[e.id]}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],xA(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],xA(this.entriesList,e)}getEntries(){return this.entriesList}};function DB(e){if(!e)return;const t={top:{},bottom:{},normal:{}};for(const n of e){const e=n.id;switch(n.rowPinned){case"top":t.top[e]=n;break;case"bottom":t.bottom[e]=n;break;default:t.normal[e]=n}}return t}function SB(e,t){const n=e.id;switch(e.rowPinned){case"top":return null!=t.top[n];case"bottom":return null!=t.bottom[n];default:return null!=t.normal[n]}}var jB={moduleName:"Sort",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){const n="ctrl"===this.gos.get("multiSortKey")?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,"uiColumnSorted")}setSortForColumn(e,t,n,r){var i;"asc"!==t&&"desc"!==t&&(t=null);const{gos:o,showRowGroupCols:a}=this.beans;let s=[e];if(QR(o)&&e.getColDef().showRowGroup){const t=null==(i=null==a?void 0:a.getSourceColumnsForGroupColumn)?void 0:i.call(a,e),n=null==t?void 0:t.filter(e=>e.isSortable());n&&(s=[e,...n])}for(const c of s)this.setColSort(c,t,r);const l=[];if(!((n||o.get("alwaysMultiSort"))&&!o.get("suppressMultiSort"))){const e=this.clearSortBarTheseColumns(s,r);l.push(...e)}this.updateSortIndex(e),l.push(...s),this.dispatchSortChangedEvents(r,l)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:r}=this.beans,i=QR(t),o=null==r?void 0:r.getShowRowGroupCol(e.getId()),a=i&&o||e,s=this.getColumnsWithSortingOrdered();n.forAllCols(e=>this.setColSortIndex(e,null));const l=s.filter(e=>(!i||!e.getColDef().showRowGroup)&&e!==a);(a.getSort()?[...l,a]:l).forEach((e,t)=>this.setColSortIndex(e,t))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(r=>{e.includes(r)||(r.getSort()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??TL,n=t.indexOf(e.getSort()),r=n<0,i=n==t.length-1;return r||i?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans;let i=[];if(t.forAllCols(e=>{e.getSort()&&i.push(e)}),t.isPivotMode()){const t=QR(e);i=i.filter(e=>{const r=!!e.getAggFunc(),i=!e.isPrimary(),o=t?null==n?void 0:n.getShowRowGroupCol(e.getId()):e.getColDef().showRowGroup;return r||i||o})}const o=(null==r?void 0:r.columns.filter(e=>!!e.getSort()))??[],a={};i.forEach((e,t)=>a[e.getId()]=t),i.sort((e,t)=>{const n=e.getSortIndex(),r=t.getSortIndex();if(null!=n&&null!=r)return n-r;if(null==n&&null==r){return a[e.getId()]>a[t.getId()]?1:-1}return null==r?-1:1});const s=QR(e)&&!!o.length;s&&(i=[...new Set(i.map(e=>(null==n?void 0:n.getShowRowGroupCol(e.getId()))??e))]);const l=new Map;if(i.forEach((e,t)=>l.set(e,t)),s)for(const c of o){const e=n.getShowRowGroupCol(c.getId());l.set(c,l.get(e))}return l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=QR(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){var t;const n=null==(t=this.beans.showRowGroupCols)?void 0:t.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(null==n?void 0:n.length))return e.getSort();const r=null!=e.getColDef().field||!!e.getColDef().valueGetter?[e,...n]:n,i=r[0].getSort();return r.every(e=>e.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let r=0;e.addManagedListeners(t,{movingChanged:()=>{r=Date.now()}}),n&&e.addManagedElementListeners(n,{click:e=>{const n=t.isMoving(),i=Date.now();n||i-r<50||this.progressSortFromEvent(t,e)}});const i=()=>{var n;const r=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc","asc"===r),e.toggleCss("ag-header-cell-sorted-desc","desc"===r),e.toggleCss("ag-header-cell-sorted-none",!r),t.getColDef().showRowGroup){const r=null==(n=this.beans.showRowGroupCols)?void 0:n.getSourceColumnsForGroupColumn(t),i=!(null==r?void 0:r.every(e=>t.getSort()==e.getSort()));e.toggleCss("ag-header-cell-sorted-mixed",i)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:n,sortIndex:r,initialSortIndex:i}=e.colDef;void 0!==t?"asc"!==t&&"desc"!==t||(e.sort=t):"asc"!==n&&"desc"!==n||(e.sort=n),void 0!==r?null!==r&&(e.sortIndex=r):null!==i&&(e.sortIndex=i)}updateColSort(e,t,n){void 0!==t&&("desc"===t||"asc"===t?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new AL(e)}getSortIndicatorSelector(){return OL}},class extends JW{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=QR(e),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=QR(e))}doFullSort(e,t){const n=e.map((e,t)=>({currentPos:t,rowNode:e}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(e=>e.rowNode)}compareRowNodes(e,t,n){const r=t.rowNode,i=n.rowNode;for(let o=0,a=e.length;o<a;o++){const t=e[o],n="desc"===t.sort,a=this.getValue(r,t.column),s=this.getValue(i,t.column);let l;const c=this.getComparator(t,r);l=c?c(a,s,r,i,n):GP(a,s,this.isAccentedSort);if(!isNaN(l)&&0!==l)return"asc"===t.sort?l:-1*l}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,r=n.getColDef().comparator;if(null!=r)return r;if(!n.getColDef().showRowGroup)return;const i=!t.group&&n.getColDef().field;if(!i)return;const o=this.beans.colModel.getColDefCol(i);return o?o.getColDef().comparator:void 0}getValue(e,t){var n;const{valueSvc:r,colModel:i,showRowGroupCols:o,gos:a}=this.beans;if(!this.primaryColumnsSortGroups)return r.getValue(t,e,!1);if(e.rowGroupColumn===t){if(eA(a,i.isPivotActive())){const n=e.data?e:(e=>{for(;null==e?void 0:e.length;){const t=e[0];if(t.data)return t;e=t.childrenAfterGroup}})(e.childrenAfterGroup);return n&&r.getValue(t,n,!1)}const s=null==o?void 0:o.getShowRowGroupCol(t.getId());if(!s)return;return null==(n=e.groupData)?void 0:n[s.getId()]}return e.group&&t.getColDef().showRowGroup?void 0:r.getValue(t,e,!1)}}],apiFunctions:{onSortChanged:function(e){var t;null==(t=e.sortSvc)||t.onSortChanged("api")}},userComponents:{agSortIndicator:AL},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},EB={moduleName:"Expression",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if("string"==typeof e)return this.evaluateExpression(e,t);FR(15,{expression:e})}evaluateExpression(e,t){try{const n=this.createExpressionFunction(e);return n(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return FR(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=r,r}createFunctionBody(e){return e.includes("return")?e:"return "+e+";"}}]},kB={moduleName:"ChangeDetection",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;HR(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if("paste"===e.source||t.get("suppressChangeDetection"))return;const r=e.node,i=[r],o=this.clientSideRowModel,a=null==o?void 0:o.rootNode;if(a&&!r.isRowPinned()){const n=t.get("aggregateOnlyChangedColumns"),s=new fI(n,a);s.addParentNode(r.parent,[e.column]),o.doAggregate(s),s.forEachChangedNodeDepthFirst(e=>{i.push(e),e.sibling&&i.push(e.sibling)})}n.refreshCells({rowNodes:i})}}]},PB={moduleName:"CommunityCore",version:jR,beans:[class extends JW{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var e;if(this.destroyCalled)return;const{stateSvc:t,ctrlsSvc:n,context:r}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(null==t?void 0:t.getState())??{}}),this.destroyCalled=!0,null==(e=n.get("gridCtrl"))||e.destroyGridUi(),r.destroy(),super.destroy()}},class extends JW{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new lI,this.fns={...aI,dispatchEvent:sI},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(oI))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var n;const{fns:r,beans:i}=this;r!==aI&&(r[e]=(null==(n=null==i?void 0:i.validation)?void 0:n.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:r}=this;if(t){const t=oI[e];n.assertModuleRegistered(t,`api.${e}`)&&VR(27,{fnName:e,module:t})}else VR(26,{fnName:e,preDestroyLink:r})}destroy(){super.destroy(),this.fns=aI,this.beans=null}},class extends lV{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(null!=e)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:r,selectors:i}=e;if(n){const e=(e,t,n,r)=>{this.agGridDefaults[e]=t,(n||r)&&(this.agGridDefaultOverrides[e]={params:n,processParams:r})};for(const t of Object.keys(n)){let r=n[t];if(bO(r)&&(r=r.getComp(this.beans)),"object"==typeof r){const{classImp:n,params:i,processParams:o}=r;e(t,n,i,o)}else e(t,r)}}this.registerDynamicBeans(r);for(const o of i??[])this.selectors[o.selector]=o;if(t)for(const o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){var n;const r=(e,t,n,r)=>({componentFromFramework:t,component:e,params:n,processParams:r}),{frameworkOverrides:i}=this.beans,o=i.frameworkComponent(t,this.gos.get("components"));if(null!=o)return r(o,!0);const a=this.jsComps[t];if(a){return r(a,i.isFrameworkComponent(a))}const s=this.agGridDefaults[t];if(s){const e=this.agGridDefaultOverrides[t];return r(s,!1,null==e?void 0:e.params,null==e?void 0:e.processParams)}return null==(n=this.beans.validation)||n.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}getDynamicError(e,t){var n;return t?LR(279,{name:e}):(null==(n=this.beans.validation)?void 0:n.missingDynamicBean(e))??LR(256)}},class extends JW{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,i=!1){var o;const{name:a,cellRenderer:s}=t;let l,c,{compName:u,jsComp:d,fwComp:h,paramsFromSelector:m,popupFromSelector:p,popupPositionFromSelector:f}=function(e,t,n,r){const{name:i}=n;let o,a,s,l,c,u;if(t){const n=t,d=n[i+"Selector"],h=d?d(r):null,m=t=>{"string"==typeof t?o=t:null!=t&&!0!==t&&(e.isFrameworkComponent(t)?s=t:a=t)};h?(m(h.component),l=h.params,c=h.popup,u=h.popupPosition):m(n[i])}return{compName:o,jsComp:a,fwComp:s,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:u}}(this.beans.frameworkOverrides,e,t,r);const g=e=>{const t=this.registry.getUserComponent(a,e);t&&(d=t.componentFromFramework?void 0:t.component,h=t.componentFromFramework?t.component:void 0,l=t.params,c=t.processParams)};var v;if(null!=u&&g(u),null==d&&null==h&&null!=n&&g(n),!d||!s||(v=d)&&v.prototype&&"getGui"in v.prototype||(d=null==(o=this.agCompUtils)?void 0:o.adaptFunction(t,d)),!d&&!h){const{validation:e}=this.beans;return void(!i||u===n&&n?n&&!e&&FR(146,{comp:n}):u?(null==e?void 0:e.isProvidedUserComp(u))||FR(50,{compName:u}):n?e||FR(260,{...this.gos.getModuleErrorParams(),propName:a,compName:n}):FR(216,{name:a}))}const b=this.mergeParams(e,t,r,m,l,c),y=null==d,x=d??h;return{componentFromFramework:y,componentClass:x,params:b,type:t,popupFromSelector:p,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(x,y,b,t)}}newAgStackInstance(e,t,n,r){var i;let o;o=!t?new e:this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(o);const a=null==(i=o.init)?void 0:i.call(o,n);return null==a?tO.resolve(o):a.then(()=>o)}mergeParams(e,t,n,r=null,i,o){const a={...n,...i},s=null==e?void 0:e[t.name+"Params"];if("function"==typeof s){sR(a,s(n))}else"object"==typeof s&&sR(a,s);return sR(a,r),o?o(a):a}},class extends JW{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function(){if(void 0!==DO)return DO;if(!document.body)return-1;let e=1e6;const t=XO()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const r=2*e;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return n.remove(),DO=e,e}(),pR(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;pR(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t}},class extends JW{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:r,colGroupSvc:i,colViewport:o,selectionColSvc:a}=this.beans;t||this.buildTrees(r,i),null==i||i.updateOpenClosedVisibility(),this.leftCols=VI(this.treeLeft),this.centerCols=VI(this.treeCenter),this.rightCols=VI(this.treeRight),null==a||a.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(r),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(e=>e.isAutoHeight()),null==n||n.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(r,this.leftCols,this.rightCols,e),o.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const t=n.getProvidedColumnGroup().getLevel()+1;t>e&&(e=t);break}n=n.getParent()}}return e}updateBodyWidths(){const e=NA(this.centerCols),t=NA(this.leftCols),n=NA(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e;(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let i,o;this.gos.get("enableRtl")?(i=t?t[0]:null,o=n?vA(n):null):(i=t?vA(t):null,o=n?n[0]:null);for(const a of e.getCols())a.setLastLeftPinned(a===i,r),a.setFirstRightPinned(a===o,r)}buildTrees(e,t){const n=e.getColsToShow(),r=n.filter(e=>"left"==e.getPinned()),i=n.filter(e=>"right"==e.getPinned()),o=n.filter(e=>"left"!=e.getPinned()&&"right"!=e.getPinned()),a=new KA,s=e=>t?t.createColumnGroups(e):e.columns;this.treeLeft=s({columns:r,idCreator:a,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=s({columns:i,idCreator:a,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=s({columns:o,idCreator:a,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],r=[],i=[];for(const o of t){const e=o.getPinned();e?!0===e||"left"===e?n.push(o):i.push(o):r.push(o)}this.ariaOrderColumns=n.concat(r).concat(i)}getAriaColIndex(e){let t;return t=xV(e)?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){for(const e of[this.treeLeft,this.treeRight,this.treeCenter])for(const t of e)if(xV(t)){t.checkLeft()}}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const n=t.getCols().slice(0),r=this.gos.get("enableRtl");for(const i of[this.leftCols,this.rightCols,this.centerCols]){if(r){let t=NA(i);for(const n of i)t-=n.getActualWidth(),n.setLeft(t,e)}else{let t=0;for(const n of i)n.setLeft(t,e),t+=n.getActualWidth()}OI(n,i)}for(const i of n)i.setLeft(null,e)}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){const i=[];let o=null;for(let a=0;a<t.length;a++){const s=t[a],l=t.length-a,c=Math.min(s.getColSpan(e),l),u=[s];if(c>1){const e=c-1;for(let n=1;n<=e;n++)u.push(t[a+n]);a+=e}let d;if(n){d=!1;for(const e of u)n(e)&&(d=!0)}else d=!0;if(d){if(0===i.length&&o){!!r&&r(s)&&i.push(o)}i.push(s)}o=s}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=e=>{this.colsAndGroupsMap[e.getUniqueId()]=e};TI(this.treeCenter,!1,e),TI(this.treeLeft,!1,e),TI(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const r=this[t[n]];if(r.length)return e?vA(r):r[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return NA(this.leftCols)}getDisplayedColumnsRightWidth(){return NA(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const r="first"===t;let i;if(xV(e)){const t=e.getDisplayedLeafColumns();if(!t.length)return!1;i=r?t[0]:vA(t)}else i=e;return(r?n[0]:vA(n))===i}},class extends cV{postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}},class extends JW{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.instanceId=BL++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new IP,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const r=kL.has(t);if(r&&!e||!r&&e)return;if(!function(e){return!!PL[e]}(t))return;const i=(e,t)=>{const n=PL[e],r=this.gridOptions[n];"function"==typeof r&&this.beans.frameworkOverrides.wrapOutgoing(()=>r(t))};if(this.gridReadyFired)i(t,n);else if("gridReady"===t){i(t,n),this.gridReadyFired=!0;for(const e of this.queueEvents)i(e.eventName,e.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"optionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??hR[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return BP(this.gridOptions[e])}mergeGridCommonParams(e){if(e){return t=>e(this.addCommon(t))}return e}updateGridOptions({options:e,force:t,source:n="api"}){const r={id:LL++,properties:[]},i=[],{gridOptions:o,validation:a}=this;for(const s of Object.keys(e)){const l=uR.applyGlobalGridOption(s,e[s]);null==a||a.warnOnInitialPropertyUpdate(n,s);const c=t||"object"==typeof l&&"api"===n,u=o[s];if(c||u!==l){o[s]=l;const e={type:s,currentValue:l,previousValue:u,changeSet:r,source:n};i.push(e)}}this.validateGridOptions(this.gridOptions),r.properties=i.map(e=>e.type);for(const s of i)pR(this,`Updated property ${s.type} from`,s.previousValue," to ",s.currentValue),this.propEventSvc.dispatchEvent(s)}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addCommon(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const r=e[n];if(null==r||!1===r)continue;let i=t[n];"function"==typeof i&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,n)}}validateGridOptions(e){var t;this.validateOptions(e,IL),null==(t=this.validation)||t.processGridOptions(e)}validateColDef(e,t,n){var r,i;!n&&(null==(r=this.beans.dataTypeSvc)?void 0:r.isColPendingInference(t))||(this.validateOptions(e,FL),null==(i=this.validation)||i.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(e=>this.isModuleRegistered(e)):this.isModuleRegistered(e);return n||FR(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:SR(),rowModelType:this.get("rowModelType"),isUmd:!1}}isModuleRegistered(e){return DR(e,this.gridId,this.get("rowModelType"))}setInstanceDomData(e){e[HL]=this.instanceId}isElementInThisInstance(e){let t=e;for(;t;){const e=t[HL];if(BP(e)){return e===this.instanceId}t=t.parentElement}return!1}},class extends JW{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(EA(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),EA(e.source)))}createColsFromColDefs(e){var t,n,r;const{beans:i}=this,{valueCache:o,colAutosize:a,rowGroupColsSvc:s,pivotColsSvc:l,valueColsSvc:c,visibleCols:u,eventSvc:d,groupHierarchyColSvc:h}=i,m=this.colDefs?zA(i,e):void 0;null==o||o.expire();const p=null==(t=this.colDefCols)?void 0:t.list,f=null==(n=this.colDefCols)?void 0:n.tree,g=WA(i,this.colDefs,!0,f,e);MA(i,null==(r=this.colDefCols)?void 0:r.tree,g.columnTree);const v=g.columnTree,b=g.treeDepth,y=function(e){const t=[],n=e=>{for(let r=0;r<e.length;r++){const i=e[r];uA(i)?t.push(i):hA(i)&&n(i.getChildren())}};return n(e),t}(v),x={};for(const w of y)x[w.getId()]=w;this.colDefCols={tree:v,treeDepth:b,list:y,map:x},this.createColumnsForService([h],this.colDefCols,e),null==s||s.extractCols(e,p),null==l||l.extractCols(e,p),null==c||c.extractCols(e,p),this.ready=!0,this.refreshCols(!0,e),u.refresh(e),d.dispatchEvent({type:"columnEverythingChanged",source:e}),m&&(this.changeEventsDispatching=!0,m(),this.changeEventsDispatching=!1),d.dispatchEvent({type:"newColumnsLoaded",source:e}),"gridInitializing"===e&&(null==a||a.applyAutosizeStrategy())}refreshCols(e,t){var n;if(!this.colDefCols)return;const r=null==(n=this.cols)?void 0:n.tree;this.saveColOrder();const{autoColSvc:i,selectionColSvc:o,rowNumbersSvc:a,quickFilter:s,pivotResultCols:l,showRowGroupCols:c,rowAutoHeight:u,visibleCols:d,colViewport:h,eventSvc:m}=this.beans,p=this.selectCols(l,this.colDefCols);this.createColumnsForService([i,o,a],p,t);const f=(g=this.gos,this.showingPivotResult?!g.get("enableStrictPivotColumnOrder"):g.get("maintainColumnOrder"));var g;e&&!f||this.restoreColOrder(p),this.positionLockedCols(p),null==c||c.refresh(),null==s||s.refreshCols(),this.setColSpanActive(),null==u||u.setAutoHeightActive(p),d.clear(),h.clear();!bA(r,this.cols.tree)&&m.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t,n){for(const r of e)r&&(r.createColumns(t,e=>{this.lastOrder=e(this.lastOrder),this.lastPivotOrder=e(this.lastPivotOrder)},n),r.addColumns(t))}selectCols(e,t){const n=(null==e?void 0:e.getPivotResultCols())??null;this.showingPivotResult=null!=n;const{map:r,list:i,tree:o,treeDepth:a}=n??t;if(this.cols={list:i.slice(),map:{...r},tree:o.slice(),treeDepth:a},n){n.list.some(e=>{var t;return void 0!==(null==(t=this.cols)?void 0:t.map[e.getColId()])})||(this.lastPivotOrder=null)}return this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,r=this.isPivotMode()&&!this.showingPivotResult,i=null==t?void 0:t.isSelectionColumnEnabled(),o=n.get("rowNumbers"),a=null==e?void 0:e.columns;return this.cols.list.filter(e=>{const t=function(e){return e.getId().startsWith(CA)}(e);if(r){const n=null==a?void 0:a.includes(e);return t||n||i&&DA(e)||o&&SA(e)}return t||e.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1,e),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){GA(this.beans,{state:e.map(e=>({colId:"string"==typeof e?e:e.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(t=>null!=e.map[t.getId()]);if(0===n.length)return;if(n.length===e.list.length)return void(e.list=n);const r=e=>{const t=e.getOriginalParent();if(!t)return!1;return t.getChildren().length>1||r(t)};if(!n.some(e=>r(e))){const t=new Set(n);for(const r of e.list)t.has(r)||n.push(r);return void(e.list=n)}const i=new Map;for(let d=0;d<n.length;d++){const e=n[d];i.set(e,d)}const o=e.list.filter(e=>!i.has(e));if(0===o.length)return void(e.list=n);const a=(e,t)=>{const n=t?t.getOriginalParent():e.getOriginalParent();if(!n)return null;let r=null,o=null;for(const a of n.getChildren())if(a!==t&&a!==e){if(a instanceof dA){const e=i.get(a);if(null==e)continue;(null==r||r<e)&&(r=e,o=a);continue}a.forEachLeafColumn(e=>{const t=i.get(e);null!=t&&(null==r||r<t)&&(r=t,o=e)})}return null==o?a(e,n):o},s=[],l=new Map;for(const d of o){const e=a(d,null);if(null==e){s.push(d);continue}const t=l.get(e);void 0===t?l.set(e,d):Array.isArray(t)?t.push(d):l.set(e,[t,d])}const c=new Array(e.list.length);let u=c.length-1;for(let d=s.length-1;d>=0;d--)c[u--]=s[d];for(let d=n.length-1;d>=0;d--){const e=n[d],t=l.get(e);if(t)if(Array.isArray(t))for(let n=t.length-1;n>=0;n--){const e=t[n];c[u--]=e}else c[u--]=t;c[u--]=e}e.list=c}positionLockedCols(e){e.list=IA(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=(null==(e=this.cols)?void 0:e.list)??null:this.lastOrder=(null==(t=this.cols)?void 0:t.list)??null}getColumnDefs(e){var t,n;return this.colDefCols&&(null==(n=this.beans.colDefFactory)?void 0:n.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,(null==(t=this.cols)?void 0:t.list)??[],e))}setColSpanActive(){var e;this.colSpanActive=!!(null==(e=this.cols)?void 0:e.list.some(e=>null!=e.getColDef().colSpan))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode)return;if(this.pivotMode=e,!this.ready)return;this.refreshCols(!1,t);const{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var e;const t=null==(e=this.beans.pivotColsSvc)?void 0:e.columns;return this.pivotMode&&!!(null==t?void 0:t.length)}recreateColumnDefs(e){var t;if(!this.cols)return;null==(t=this.beans.autoColSvc)||t.updateColumns(e);const n=EA(e.source);this.createColsFromColDefs(n)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;MA(this.beans,null==(e=this.colDefCols)?void 0:e.tree),super.destroy()}getColTree(){var e;return(null==(e=this.cols)?void 0:e.tree)??[]}getColDefColTree(){var e;return(null==(e=this.colDefCols)?void 0:e.tree)??[]}getColDefCols(){var e;return(null==(e=this.colDefCols)?void 0:e.list)??null}getCols(){var e;return(null==(e=this.cols)?void 0:e.list)??[]}forAllCols(e){var t,n,r,i,o;const{pivotResultCols:a,autoColSvc:s,selectionColSvc:l,groupHierarchyColSvc:c}=this.beans;yA(null==(t=this.colDefCols)?void 0:t.list,e),yA(null==(n=null==s?void 0:s.columns)?void 0:n.list,e),yA(null==(r=null==l?void 0:l.columns)?void 0:r.list,e),yA(null==(i=null==c?void 0:c.columns)?void 0:i.list,e),yA(null==(o=null==a?void 0:a.getPivotResultCols())?void 0:o.list,e)}getColsForKeys(e){return e?e.map(e=>this.getCol(e)).filter(e=>null!=e):[]}getColDefCol(e){var t;return(null==(t=this.colDefCols)?void 0:t.list)?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return null==e?null:this.getColFromCollection(e,this.cols)}getColById(e){var t;return(null==(t=this.cols)?void 0:t.map[e])??null}getColFromCollection(e,t){if(null==t)return null;const{map:n,list:r}=t;if("string"==typeof e&&n[e])return n[e];for(let s=0;s<r.length;s++)if(kA(r[s],e))return r[s];const{autoColSvc:i,selectionColSvc:o,groupHierarchyColSvc:a}=this.beans;return(null==i?void 0:i.getColumn(e))??(null==o?void 0:o.getColumn(e))??(null==a?void 0:a.getColumn(e))??null}},class extends JW{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return(null==(e=this.topRowBounds)?void 0:e.rowIndex)??-1}getLastRow(){var e;return(null==(e=this.bottomRowBounds)?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return e&&t?Math.max(t.rowTop+t.rowHeight-e.rowTop,0):0}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this;return{pageFirstPixel:(null==e?void 0:e.rowTop)??0,pageLastPixel:t?t.rowTop+t.rowHeight:0}}calculateBounds(e,t){const{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;const i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var e;const t=(null==(e=this.topRowBounds)?void 0:e.rowTop)??0;this.pixelOffset!==t&&(this.pixelOffset=t,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},class extends JW{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(null==e?void 0:e.animate)??!1,newData:(null==e?void 0:e.newData)??!1,newPage:(null==e?void 0:e.newPage)??!1,newPageSize:(null==e?void 0:e.newPageSize)??!1,keepRenderedRows:(null==e?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},class extends JW{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{for(const e of this.getAllCellCtrls())e.onCellSelectionChanged()},t=()=>{for(const e of this.getAllCellCtrls())e.updateRangeBordersIfRangeCount()},n=()=>{this.eventSvc.addListener("cellSelectionChanged",e),this.eventSvc.addListener("columnMoved",t),this.eventSvc.addListener("columnPinned",t),this.eventSvc.addListener("columnVisible",t)},r=()=>{this.eventSvc.removeListener("cellSelectionChanged",e),this.eventSvc.removeListener("columnMoved",t),this.eventSvc.removeListener("columnPinned",t),this.eventSvc.removeListener("columnVisible",t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{tA(this.gos)?n():r()});tA(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:e,previousValue:t})=>{(!t&&e||t&&!e)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const e=n.getShowRowGroupCols();e.length&&this.refreshCells({columns:e,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const e=this.gridBodyCtrl;e.setStickyTopHeight(0),e.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=GR(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=null!=e?e:3;this.cachedRowCtrls=new MB(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return(null==(e=this.stickyRowFeature)?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return(null==(e=this.stickyRowFeature)?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var e;const t=Object.values(this.rowCtrlsByRowIndex),n=Object.values(this.zombieRowCtrls),r=(null==(e=this.cachedRowCtrls)?void 0:e.getEntries())??[];n.length>0||r.length>0?this.allRowCtrls=[...t,...n,...r]:this.allRowCtrls=t}isCellBeingRendered(e,t){var n;const r=this.rowCtrlsByRowIndex[e];if(!t||!r)return!!r;if(r.isFullWidth())return!0;return!!(null==(n=this.beans.spannedRowRenderer)?void 0:n.getCellByPosition({rowIndex:e,column:t,rowPinned:null}))||!!r.getCellCtrl(t)||!r.isRowRendered()}updateCellFocus(e){for(const t of this.getAllCellCtrls())t.onCellFocused(e);for(const t of this.getFullWidthRowCtrls())t.onFullWidthRowFocused(e)}onCellFocusChanged(e){if(null!=(null==e?void 0:e.rowIndex)&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){for(const t of this.getAllCellCtrls())t.onSuppressCellFocusChanged(e);for(const t of this.getFullWidthRowCtrls())t.onSuppressCellFocusChanged(e)}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;if(t)for(const n of this.getAllCellCtrls())t.onFlashCells(n,e)},columnHoverChanged:()=>{for(const e of this.getAllCellCtrls())e.onColumnHover()},displayedColumnsChanged:()=>{for(const e of this.getAllCellCtrls())e.onDisplayedColumnsChanged()},displayedColumnsWidthChanged:()=>{if(this.printLayout)for(const e of this.getAllCellCtrls())e.onLeftChanged()}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){for(const e of this.destroyFuncsForColumnListeners)e();this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.colModel.getCols();for(const t of e){const e=e=>{for(const n of this.getAllCellCtrls())n.column===t&&e(n)},n=()=>{e(e=>e.onLeftChanged())},r=()=>{e(e=>e.onWidthChanged())},i=()=>{e(e=>e.onFirstRightPinnedChanged())},o=()=>{e(e=>e.onLastLeftPinnedChanged())},a=()=>{e(e=>e.onColDefChanged())};t.__addEventListener("leftChanged",n),t.__addEventListener("widthChanged",r),t.__addEventListener("firstRightPinnedChanged",i),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",n),t.__removeEventListener("widthChanged",r),t.__removeEventListener("firstRightPinnedChanged",i),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})}}onDomLayoutChanged(){const e=GR(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){var t;const n=[];for(const r of this.getAllRowCtrls()){const i=null==(t=r.getCellCtrl(e,!0))?void 0:t.eGui;i&&n.push(i)}return n}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:r,beans:i,printLayout:o}=this,a=Object.fromEntries(e.map(e=>[e.rowNode.id,e]));null==r||r.forEachPinnedRow(t,(s,l)=>{const c=e[l];c&&void 0===r.getPinnedRowById(c.rowNode.id,t)&&(c.destroyFirstPass(),c.destroySecondPass()),s.id in a&&n?(e[l]=a[s.id],delete a[s.id]):e[l]=new hB(s,i,!1,!1,o)});const s=("top"===t?null==r?void 0:r.getPinnedTopRowCount():null==r?void 0:r.getPinnedBottomRowCount())??0;e.length=s}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){var n,r;if(e.sticky)null==(n=this.stickyRowFeature)||n.refreshStickyNode(e);else{if(null==(r=this.cachedRowCtrls)?void 0:r.has(e))return void this.cachedRowCtrls.removeRow(e);{const t=t=>{const n=t[e.rowIndex];n&&n.rowNode===e&&(n.destroyFirstPass(),n.destroySecondPass(),t[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":t(this.topRowCtrls);break;case"bottom":t(this.bottomRowCtrls);break;default:t(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;(null==t?void 0:t.isEditing())&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"}));if(null!=e){for(const t of e??[])this.redrawRow(t,!0);this.dispatchDisplayedRowsChanged(!1)}else this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){var t;this.getLockOnRefresh();const n=null==(t=this.beans.focusSvc)?void 0:t.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const r=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&ZR(this.gos),o=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:a,gos:s}=this;if(a){a.checkStickyRows();const e=a.extraTopHeight+a.extraBottomHeight;e&&this.updateContainerHeights(e)}this.recycleRows(o,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(s.get("enableRowPinning")?r:void 0),this.dispatchDisplayedRowsChanged(),null!=n&&this.restoreFocusedCell(n),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var t;const n=e.newData||e.newPage,r=this.gos.get("suppressScrollOnNewData");n&&!r&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),null==(t=this.stickyRowFeature)||t.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout)return void t.setModelHeight(null);let n=this.pageBounds.getCurrentPageHeight();0===n&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(LR(252));this.refreshInProgress=!0,null==(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,null==(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);n?e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned?t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(iA(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"})):t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0}):t.focusHeaderPosition({headerPosition:{headerRowIndex:NF(this.beans)-1,column:e.column}})}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let r=e;for(null==r.rowPinned&&t&&n&&!t.isRowInPage(r.rowIndex)&&(r={rowPinned:null,rowIndex:n.getFirstRow()});r;){if(null==r.rowPinned&&n)if(r.rowIndex<n.getFirstRow()){if(r=hI(this.beans,{rowPinned:null,rowIndex:0}),!r)return null}else r.rowIndex>n.getLastRow()&&(r={rowPinned:null,rowIndex:n.getLastRow()});const t=this.getRowByPosition(r);if(null==t?void 0:t.isAlive())return{...t.getRowPosition(),column:e.column};r=hI(this.beans,r)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){const n=t[r].getAllCellCtrls(),i=n.length;for(let t=0;t<i;t++)e.push(n[t])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...(null==e?void 0:e.getCtrls("top"))??[],...(null==e?void 0:e.getCtrls("bottom"))??[],...(null==e?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:r}={}){const i={force:n,newData:!1,suppressFlash:r};for(const o of this.getCellCtrls(e,t))o.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){for(const t of this.getRowCtrls(e.rowNodes))t.refreshRow(e);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=DB(e),n=this.getAllRowCtrls();return e&&t?n.filter(e=>SB(e.rowNode,t)):n}getCellCtrls(e,t){let n;BP(t)&&(n={},t.forEach(e=>{const t=this.colModel.getCol(e);BP(t)&&(n[t.getId()]=!0)}));const r=[];for(const i of this.getRowCtrls(e))for(const e of i.getAllCellCtrls()){const t=e.column.getId();n&&!n[t]||r.push(e)}return r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var t;const n=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(n,e),null==(t=this.stickyRowFeature)||t.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex)){null==this.rowCtrlsByRowIndex[n].rowNode.id&&e.push(n)}this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){t[n.rowNode.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){for(const n of e){const e=this.rowCtrlsByRowIndex[n];e&&(e.destroyFirstPass(t),e.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]}}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:r}=e;let i;const o=this.stickyRowFeature;o&&(i=(null==t?void 0:t.getFocusCellToUseAfterRefresh())||void 0);const a=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(o){l=o.checkStickyRows();const e=o.extraTopHeight+o.extraBottomHeight;e&&this.updateContainerHeights(e)}const c=this.firstRenderedRow!==a||this.lastRenderedRow!==s;if((!r||l||c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!l),null!=i)){const e=null==t?void 0:t.getFocusCellToUseAfterRefresh();null!=i&&null==e&&(null==n||n.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const n={};for(const i of e)n[i]=!0;const r=Object.keys(this.rowCtrlsByRowIndex).filter(e=>!n[e]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){var t,n;const r=[];for(let l=this.firstRenderedRow;l<=this.lastRenderedRow;l++)r.push(l);const i=this.beans.pagination,o=null==(n=null==(t=this.beans.focusSvc)?void 0:t.getFocusedCell())?void 0:n.rowIndex;null!=o&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&(!i||i.isRowInPage(o))&&o<this.rowModel.getRowCount()&&r.push(o);const a=e=>{const t=e.rowNode.rowIndex;null!=t&&t!==o&&(t<this.firstRenderedRow||t>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(e)&&r.push(t)};for(const l of Object.values(this.rowCtrlsByRowIndex))a(l);if(e)for(const l of Object.values(e))a(l);r.sort((e,t)=>e-t);const s=[];for(let l=0;l<r.length;l++){const e=r[l],t=this.rowModel.getRow(e);t&&!t.sticky&&s.push(e)}return s}recycleRows(e,t=!1,n=!1){const r=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t);for(const i of r)this.createOrUpdateRowCtrl(i,e,t,n);if(e){const{animationFrameSvc:r}=this.beans;(null==r?void 0:r.active)&&n&&!this.printLayout?r.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];for(const t of this.getFullWidthRowCtrls()){const n=t.rowNode.rowIndex;e.push(n.toString())}this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=DB(e);return this.getAllRowCtrls().filter(e=>{if(!e.isFullWidth())return!1;const n=e.rowNode;return!(null!=t&&!SB(n,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,o=this.rowCtrlsByRowIndex[e];o||(i=this.rowModel.getRow(e),BP(i)&&BP(t)&&t[i.id]&&i.alreadyRendered&&(o=t[i.id],t[i.id]=null));if(!o){if(i||(i=this.rowModel.getRow(e)),!BP(i))return;o=this.createRowCon(i,n,r)}i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o}destroyRowCtrls(e,t){const n=[];if(e)for(const r of Object.values(e))if(r)if(this.cachedRowCtrls&&r.isCacheable())this.cachedRowCtrls.addRow(r);else if(r.destroyFirstPass(!t),t){const e=r.instanceId;this.zombieRowCtrls[e]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[e]})}else r.destroySecondPass();t&&(n.push(()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())}),window.setTimeout(()=>{for(const e of n)e()},400))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*KR(this.beans)}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;let r,i;if(e.updateOffset(),n.isRowsToRender())if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),i=t.getLastRow();else{const o=this.getRowBufferInPixels(),a=this.ctrlsSvc.getScrollFeature(),s=this.gos.get("suppressRowVirtualisation");let l,c,u=!1;do{const n=t.getPixelOffset(),{pageFirstPixel:r,pageLastPixel:i}=t.getCurrentPagePixelRange(),d=e.divStretchOffset,h=a.getVScrollPosition(),m=h.top,p=h.bottom;s?(l=r+d,c=i+d):(l=Math.max(m+n-o,r)+d,c=Math.min(p+n+o,i)+d),this.firstVisibleVPixel=Math.max(m+n,r)+d,this.lastVisibleVPixel=Math.min(p+n,i)+d,u=this.ensureAllRowsInRangeHaveHeightsCalculated(l,c)}while(u);let d=n.getRowIndexAtPixel(l),h=n.getRowIndexAtPixel(c);const m=t.getFirstRow(),p=t.getLastRow();d<m&&(d=m),h>p&&(h=p),r=d,i=h}else r=0,i=-1;const o=GR(this.gos,"normal"),a=this.gos.get("suppressMaxRenderedRowRestriction"),s=Math.max(this.getRowBuffer(),500);o&&!a&&i-r>s&&(i=r+s);const l=r!==this.firstRenderedRow,c=i!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=r,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:r,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,RW(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var n,r;const i=null==(n=this.pinnedRowModel)?void 0:n.ensureRowHeightsValid(),o=null==(r=this.stickyRowFeature)?void 0:r.ensureRowHeightsValid(),{pageBounds:a,rowModel:s}=this,l=s.ensureRowHeightsValid(e,t,a.getFirstRow(),a.getLastRow());return(l||o)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),!!(o||l||i)&&(this.updateContainerHeights(),!0)}doNotUnVirtualiseRow(e){var t;const n=!1,r=e.rowNode,i=this.focusSvc.isRowFocused(r.rowIndex,r.rowPinned),o=null==(t=this.editSvc)?void 0:t.isEditing(e),a=r.detail;if(!(i||o||a))return n;return!!this.isRowPresent(r)||n}isRowPresent(e){var t;return!!this.rowModel.isRowPresent(e)&&((null==(t=this.beans.pagination)?void 0:t.isRowInPage(e.rowIndex))??!0)}createRowCon(e,t,n){var r,i;const o=(null==(r=this.cachedRowCtrls)?void 0:r.getRow(e))??null;if(o)return o;const a=n&&!this.printLayout&&!!(null==(i=this.beans.animationFrameSvc)?void 0:i.active);return new hB(e,this.beans,t,a,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(e=>e.rowNode);return[...this.getStickyTopRowCtrls().map(e=>e.rowNode),...e,...this.getStickyBottomRowCtrls().map(e=>e.rowNode)]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(e=>e.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(e=>e.rowNode.rowIndex===n)||null))}return t}isRangeInRenderedViewport(e,t){if(null==e||null==t)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},class extends JW{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEditSvc=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEditSvc=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=_R(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=e=>this.callColumnCellValueChangedHandler(e);this.eventSvc.addListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",e=>this.isTreeData=e.currentValue)}getValueForDisplay(e,t,n=!1,r=!1,i="ui"){const{showRowGroupColValueSvc:o}=this.beans,a=!e&&t.group,s=null==e?void 0:e.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(o&&l&&(a||s)){const i=o.getGroupValue(t,e);if(null==i)return{value:null,valueFormatted:null};if(!n)return{value:i.value,valueFormatted:null};const a=o.formatAndPrefixGroupColValue(i,e,r);return{value:i.value,valueFormatted:a}}if(!e)return{value:t.key,valueFormatted:null};const c=t.leafGroup&&this.colModel.isPivotMode(),u=t.group&&t.expanded&&!t.footer&&!c,d=this.gos.get("groupSuppressBlankHeader")||!t.sibling,h=u&&!d,m=this.getValue(e,t,h,i);return{value:m,valueFormatted:n&&!(r&&!1===e.colDef.useValueFormatterForExport)?this.formatValue(e,t,m):null}}getValue(e,t,n=!1,r="ui"){var i;if(this.initialised||this.init(),!t)return;const o=e.getColDef(),a=o.field,s=e.getColId(),l=t.data;if(this.hasEditSvc&&"ui"===r){const n=this.editSvc;if(n.isEditing()){const r=n.getCellDataValue({rowNode:t,column:e},!0);if(void 0!==r)return r}}let c;const u=o.showRowGroup;if("string"==typeof u){if(((null==(i=this.beans.rowGroupColsSvc)?void 0:i.getColumnIndex(u))??-1)>t.level)return null}const d="string"!=typeof u||!t.group,h=t.groupData&&s in t.groupData,m=!n&&t.aggData&&void 0!==t.aggData[s],p=this.isSsrm&&n&&!!o.aggFunc,f=this.isSsrm&&t.footer&&t.field&&(!0===o.showRowGroup||o.showRowGroup===t.field);if(this.isTreeData&&m)c=t.aggData[s];else if(this.isTreeData&&o.valueGetter)c=this.executeValueGetter(o.valueGetter,l,e,t);else if(this.isTreeData&&a&&l)c=HI(l,a,e.isFieldContainsDots());else if(h)c=t.groupData[s];else if(m)c=t.aggData[s];else if(o.valueGetter&&!p){if(!d)return c;c=this.executeValueGetter(o.valueGetter,l,e,t)}else if(f)c=HI(l,t.field,e.isFieldContainsDots());else if(a&&l&&!p){if(!d)return c;c=HI(l,a,e.isFieldContainsDots())}if(this.cellExpressions&&"string"==typeof c&&0===c.indexOf("=")){const n=c.substring(1);c=this.executeValueGetter(n,l,e,t)}return c}parseValue(e,t,n,r){var i;const o=e.getColDef(),a=o.valueParser;if(BP(a)){const s=iA(this.gos,{node:t,data:null==t?void 0:t.data,oldValue:r,newValue:n,colDef:o,column:e});return"function"==typeof a?a(s):null==(i=this.expressionSvc)?void 0:i.evaluate(a,s)}return n}getDeleteValue(e,t){return BP(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,r,i=!0){const{expressionSvc:o}=this.beans;let a,s=null;const l=e.getColDef();if(r?a=r:i&&(a=l.valueFormatter),a){const r=t?t.data:null,i=iA(this.gos,{value:n,node:t,data:r,colDef:l,column:e});s="function"==typeof a?a(i):o?o.evaluate(a,i):null}else if(l.refData)return l.refData[n]||"";return null==s&&Array.isArray(n)&&(s=n.join(", ")),s}setValue(e,t,n,r){var i,o;const a=this.colModel.getColDefCol(t);if(!e||!a)return!1;HP(e.data)&&(e.data={});const{field:s,valueSetter:l}=a.getColDef();if(HP(s)&&HP(l))return VR(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(a,n))return VR(135),!1;const c=iA(this.gos,{node:e,data:e.data,oldValue:this.getValue(a,e,void 0,r),newValue:n,colDef:a.getColDef(),column:a});let u;if(c.newValue=n,u=BP(l)?"function"==typeof l?l(c):null==(i=this.expressionSvc)?void 0:i.evaluate(l,c):this.setValueUsingField(e.data,s,n,a.isFieldContainsDots()),void 0===u&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),null==(o=this.valueCache)||o.onDataChanged();const d=this.getValue(a,e);return this.dispatchCellValueChangedEvent(e,c,d,r),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,c,d,r),!0}dispatchCellValueChangedEvent(e,t,n,r){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:r})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"==typeof t&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(r){const r=t.split(".");let o=e;for(;r.length>0&&o;){const e=r.shift();0===r.length?(i=o[e]===n,i||(o[e]=n)):o=o[e]}}else i=e[t]===n,i||(e[t]=n);return!i}executeValueGetterWithValueCache(e,t,n,r){const i=n.getColId(),o=this.valueCache.getValue(r,i);if(void 0!==o)return o;const a=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,i,a),a}executeValueGetterWithoutValueCache(e,t,n,r){var i;const o=iA(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});let a;return a="function"==typeof e?e(o):null==(i=this.expressionSvc)?void 0:i.evaluate(e,o),a}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),r=e.getColDef().keyCreator;let i=n;if(r){i=r(iA(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data}))}return"string"==typeof i||null==i||(i=String(i),"[object Object]"===i&&VR(121)),i}},class extends JW{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(uT(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,null!=this.focusFallbackTimeout&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,null!=this.focusFallbackTimeout&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t?null:this.doesRowOrCellHaveBrowserFocus()?t:null}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader?null:this.isDomDataPresentInHierarchy(XP(this.beans),AF)?this.focusedHeader:null}doesRowOrCellHaveBrowserFocus(){const e=XP(this.beans);return!!this.isDomDataPresentInHierarchy(e,IV)||this.isDomDataPresentInHierarchy(e,BV)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(XR(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:r}=e,i={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return o&&(i.isFullWidthCell=o.isFullWidth()),i}clearFocusedCell(){if(null==this.focusedCell)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:o=!1,sourceEvent:a}=e,s=this.colModel.getCol(t);if(!s)return void(this.focusedCell=null);this.focusedCell={rowIndex:n,rowPinned:LP(r),column:s};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...l,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:o,sourceEvent:a}),this.previousCellFocusParams=l}isCellFocused(e){return null!=this.focusedCell&&function(e,t){const n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}(e,this.focusedCell)}isHeaderWrapperFocused(e){if(null==this.focusedHeader)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:i,headerRowIndex:o}=this.focusedHeader;return t===i&&n===o&&r==i.getPinned()}focusHeaderPosition(e){var t;if(this.setFocusRecovered(),xF(this.beans))return!1;const{direction:n,fromTab:r,allowUserOverride:i,event:o,fromCell:a,rowWithoutSpanValue:s,scroll:l=!0}=e;let{headerPosition:c}=e;if(a&&(null==(t=this.filterManager)?void 0:t.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(c);if(i){const e=this.focusedHeader,t=NF(this.beans);if(r){const r=this.gos.getCallback("tabToNextHeader");r&&(c=this.getHeaderPositionFromUserFunc({userFunc:r,direction:n,currentPosition:e,headerPosition:c,headerRowCount:t}))}else{const n=this.gos.getCallback("navigateToNextHeader");if(n&&o){c=n({key:o.key,previousHeaderPosition:e,nextHeaderPosition:c,headerRowCount:t,event:o})}}}return!!c&&this.focusProvidedHeaderPosition({headerPosition:c,direction:n,event:o,fromCell:a,rowWithoutSpanValue:s,scroll:l})}focusHeaderPositionFromUserFunc(e){if(xF(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:r,event:i}=e,o=this.focusedHeader,a=NF(this.beans),s=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:o,headerPosition:n,headerRowCount:a});return!!s&&this.focusProvidedHeaderPosition({headerPosition:s,direction:r,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:o}=e,a=t({backwards:"Before"===n,previousHeaderPosition:r,nextHeaderPosition:i,headerRowCount:o});return!0===a?r:!1===a?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:i,event:o,scroll:a=!0}=e,{column:s,headerRowIndex:l}=t,{filterManager:c,ctrlsSvc:u,headerNavigation:d}=this.beans;if(this.focusedHeader&&(h=e.headerPosition,m=this.focusedHeader,h.headerRowIndex===m.headerRowIndex&&h.column===m.column))return!1;var h,m;if(-1===l)return(null==c?void 0:c.isAdvFilterHeaderActive())?this.focusAdvancedFilter(t):this.focusGridView({column:s,event:o});a&&(null==d||d.scrollToColumn(s,n));const p=u.getHeaderRowContainerCtrl(s.getPinned()),f=(null==p?void 0:p.focusHeader(t.headerRowIndex,s,o))||!1;return d&&f&&(null!=i||r)&&(d.currentHeaderRowWithoutSpan=i??-1),f}focusFirstHeader(){var e;if((null==(e=this.overlays)?void 0:e.isExclusive())&&this.focusOverlay())return!0;const t=this.visibleCols.allCols[0];if(!t)return!1;const n=EL(this.beans,t,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){var t;if((null==(t=this.overlays)?void 0:t.isExclusive())&&this.focusOverlay(!0))return!0;const n=NF(this.beans)-1,r=vA(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:n,column:r},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(null==(t=this.filterManager)?void 0:t.isAdvFilterHeaderActive())?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return null!=this.focusedCell&&(this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===LP(t))}focusOverlay(e){var t,n;const r=(null==(t=this.overlays)?void 0:t.isVisible())&&(null==(n=this.overlays.eWrapper)?void 0:n.getGui());return!!r&&hT(r,e)}focusGridView(e){var t,n,r,i,o,a;const{backwards:s=!1,canFocusOverlay:l=!0,event:c}=e;if(null==(t=this.overlays)?void 0:t.isExclusive())return l&&this.focusOverlay(s);if(wF(this.beans))return s&&!xF(this.beans)?this.focusLastHeader():!(!l||!this.focusOverlay(s))||!s&&CF(this.beans,s);const u=s?function(e){let t,n=null;const{pinnedRowModel:r,pageBounds:i}=e,o=null==r?void 0:r.getPinnedBottomRowCount(),a=null==r?void 0:r.getPinnedTopRowCount();return o?(n="bottom",t=o-1):e.rowModel.getRowCount()?t=i.getLastRow():a&&(n="top",t=a-1),void 0===t?null:{rowIndex:t,rowPinned:n}}(this.beans):function(e){let t,n=0;const{pinnedRowModel:r,rowModel:i,pageBounds:o}=e;return(null==r?void 0:r.getPinnedTopRowCount())?t="top":i.getRowCount()?(t=null,n=o.getFirstRow()):(null==r?void 0:r.getPinnedBottomRowCount())&&(t="bottom"),void 0===t?null:{rowIndex:n,rowPinned:t}}(this.beans);if(u){const t=e.column??(null==(n=this.focusedHeader)?void 0:n.column),{rowIndex:l,rowPinned:d}=u,h=uI(this.beans,u);if(!t||!h||null==l)return!1;if(t.isSuppressNavigable(h)){const e=this.gos.get("enableRtl");let n;return n=c&&c.key!==jO?c.key:e?WO:AO,null==(r=this.beans.navigation)||r.navigateToNextCell(null,n,{rowIndex:l,column:t,rowPinned:d||null},!0),!0}if(null==(i=this.navigation)||i.ensureCellVisible({rowIndex:l,column:t,rowPinned:d}),s){const e=this.rowRenderer.getRowByPosition(u);if((null==e?void 0:e.isFullWidth())&&(null==(o=this.navigation)?void 0:o.tryToFocusFullWidthRow(u,s)))return!0}return this.setFocusedCell({rowIndex:l,column:t,rowPinned:LP(d),forceBrowserFocus:!0}),null==(a=this.beans.rangeSvc)||a.setRangeToCell({rowIndex:l,rowPinned:d,column:t}),!0}return!(!l||!this.focusOverlay(s))||!(!s||!this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=null==e?void 0:e.column,(null==(t=this.beans.advancedFilter)?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var n;const r=(t?void 0:this.advFilterFocusColumn)??(null==(n=this.visibleCols.allCols)?void 0:n[0]);return e?this.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:NF(this.beans)-1}}):this.focusGridView({column:r})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},class extends sV{constructor(){super(...arguments),this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1}initVariables(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(CL),this.getSizeEl(NL),this.getSizeEl(ML),this.getSizeEl(DL),this.getSizeEl(SL),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(SL)}getRowBorderWidth(){return this.getCSSVariablePixelValue(DL)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(CL)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(NL)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(yL)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(xL);return e-1+this.getCSSVariablePixelValue(wL)*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(ML)}refreshRowHeightVariable(){const{eRootDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(null==n||isNaN(n)||!isFinite(n))return null!==t&&e.style.setProperty("--ag-line-height",null),-1;const r=`${n}px`;return t!=r?(e.style.setProperty("--ag-line-height",r),n):""!=t?Number.parseFloat(t):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(null!=t)return t;const n=this.measureSizeEl(e);return"detached"===n||"no-styles"===n?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(null==t.offsetParent)return"detached";const n=t.offsetWidth;return n===jL?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=CV({tag:"div",cls:"ag-measurement-container"}),this.eRootDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=CV({tag:"div"});const{border:r,noWarn:i}=e;r?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${jL}px)`)):t.style.width=`var(${e.cssName}, ${jL}px)`,n.appendChild(t),this.sizeEls.set(e,t);let o=this.measureSizeEl(e);"no-styles"!==o||i||VR(9,{variable:e});const a=WW(this.beans,t,()=>{const t=this.measureSizeEl(e);"detached"!==t&&"no-styles"!==t&&(this.lastKnownValues.set(e,t),t!==o&&(o=t,this.fireStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>a()),t}fireStylesChangedEvent(e){"rowBorderWidthChanged"===e&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(DL);this.eRootDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}postProcessThemeChange(e,t){e&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&FR(t?106:239)}getAdditionalCss(){const e=new Map;return e.set("core",['.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value:not(.ag-allow-overflow),.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-data-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-data-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-data-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-body,.ag-floating-bottom,.ag-floating-top{background-color:var(--ag-data-background-color)}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-data-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-virtual-list-item{height:var(--ag-list-item-height);position:absolute;width:100%}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}']),function(e,t){for(const n of t.sort((e,t)=>e.moduleName.localeCompare(t.moduleName))){const t=n.css;t&&e.set(`module-${n.moduleName}`,t)}}(e,Array.from(new Set(bR))),e}getDefaultTheme(){return bL}themeError(e){FR(240,{theme:e})}},class extends JW{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.horizontalScrollShowing=!0===this.gos.get("alwaysShowHorizontalScroll"),this.verticalScrollShowing=!0===this.gos.get("alwaysShowVerticalScroll"),this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;(null==e?void 0:e.isActive())?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var e;const t=this.ctrlsSvc.get("center");if(!t||(null==(e=this.colAnimation)?void 0:e.isActive()))return;const n={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(n),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(null==this.scrollbarWidth){const e=this.gos.get("scrollbarWidth"),t="number"==typeof e&&e>=0?e:(null==MO&&QO(),MO);null!=t&&(this.scrollbarWidth=t,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},class extends JW{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{if(this.updateReady(),this.ready){for(const e of this.readyCallbacks)e(this.params);this.readyCallbacks.length=0}},(null==(t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=23===e.length&&e.every(e=>(null==e?void 0:e.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const e=this.readyCallbacks.indexOf(t);e>=0&&this.readyCallbacks.splice(e,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},class extends JW{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),pR(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t)return this.waitingForColumns?(this.waitingForColumns=!1,void this.setColumnsAndData(t)):void this.beans.colModel.setColumnDefs(t,EA(e.source))}},class extends JW{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){const r=null==t?void 0:t.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){var o;const a=e.headerValueGetter;if(a){const s=iA(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return"function"==typeof a?a(s):"string"==typeof a?(null==(o=this.beans.expressionSvc)?void 0:o.evaluate(a,s))??null:""}return null!=e.headerName?e.headerName:e.field?(s=e.field)&&null!=s?s.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(e=>e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")).join(" "):null:"";var s}},class extends JW{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:r}=this,i=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const n=r.bodyWidth;this.viewportLeft=n-t-e,this.viewportRight=n-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t]}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return!(!e.isAutoHeaderHeight()&&!function(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}(e))||this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200;return!(t<r&&n<r)&&!(t>i&&n>i)}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:n}=this,r=n.centerCols;return n.getColsForRow(e,r,t,e=>{const t=e.getLeft();return BP(t)&&t>this.viewportLeft})}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=e=>{const t=new Set,n={};for(const r of e){let e=r.getParent();const i=r.isSpanHeaderHeight();for(;e&&!t.has(e);){if(i&&e.isPadding()){e=e.getParent();continue}const r=e.getProvidedColumnGroup().getLevel();n[r]??(n[r]=[]),n[r].push(e),t.add(e),e=e.getParent()}}return n};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){this.extractViewportColumns();const e=this.getViewportColumns().map(e=>`${e.getId()}-${e.getPinned()||"normal"}`).join("#"),t=this.colsWithinViewportHash!==e;return t&&(this.colsWithinViewportHash=e,this.calculateHeaderRows()),t}},class extends JW{constructor(){super(...arguments),this.beanName="iconSvc"}createIconNoSpan(e,t){return GF(e,this.beans,null==t?void 0:t.column)}}],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:function(e){return e.context.getId()},destroy:function(e){e.gridDestroySvc.destroy()},isDestroyed:function(e){return e.gridDestroySvc.destroyCalled},getGridOption:function(e,t){return e.gos.get(t)},setGridOption:function(e,t,n){cI(e,{[t]:n})},updateGridOptions:cI,isModuleRegistered:function(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}},dependsOn:[qI,EI,RI,jB,UL,FI,KL,NB,kB,qL,pB,gB,vB,XL,ZI,XI,EB,BI,yB]};var WB=new WeakMap,RB=new WeakMap,AB=1,OB=class{create(e,t,n,r,i,o){const a=uR.applyGlobalGridOptions(t),s=a.gridId??String(AB++),l=this.getRegisteredModules(i,s,a.rowModelType),c=this.createBeansList(a.rowModelType,l,s),u=this.createProvidedBeans(e,a,i);if(!c)return;const d={providedBeanInstances:u,beanClasses:c,id:s,beanInitComparator:tI,beanDestroyComparator:nI,derivedBeans:[QF],destroyCallback:()=>{RB.delete(m),WB.delete(e),function(e){delete xR[e]}(s),null==o||o()}},h=new oV(d);this.registerModuleFeatures(h,l),n(h),h.getBean("syncSvc").start(),null==r||r(h);const m=h.getBean("gridApi");return WB.set(e,m),RB.set(m,e),m}getRegisteredModules(e,t,n){var r;return MR(PB,void 0,!0),null==(r=null==e?void 0:e.modules)||r.forEach(e=>MR(e,t)),function(e,t){const n=xR[e]??{};return[...Object.values(yR.all??{}),...Object.values(n.all??{}),...Object.values(yR[t]??{}),...Object.values(n[t]??{})]}(t,TB(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),r=e.getBean("apiFunctionSvc");for(const i of t){n.registerModule(i);const e=i.apiFunctions;if(e){const t=Object.keys(e);for(const n of t)null==r||r.addFunction(n,e[n])}}}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;HP(r)&&(r=new JF);const i={gridOptions:t,eGridDiv:e,eRootDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return(null==n?void 0:n.providedBeanInstances)&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){const r={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},i=TB(e),o=r[i];if(!o)return void IR(201,{rowModelType:i},`Unknown rowModelType ${i}.`);if(!wR)return void IR(272,void 0,"No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:\n                    \n    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';\n    \n    ModuleRegistry.registerModules([ AllCommunityModule ]);\n    ");if(!e){const e=Object.entries(r).filter(([e,t])=>DR(t,n,e));if(1==e.length){const[t,n]=e[0];if(t!==i){const e={moduleName:n,rowModelType:t};return void IR(275,e,function({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}(e))}}}if(!DR(o,n,i))return void IR(200,{reasonOrId:`rowModelType = '${i}'`,moduleName:o,gridScoped:SR(),gridId:n,rowModelType:i},`Missing module ${o}Module for rowModelType ${i}.`);const a=new Set;for(const s of t)for(const e of s.beans??[])a.add(e);return Array.from(a)}};function TB(e){return e??"clientSide"}var VB=class{wrap(e,t,n,r){const i=this.createWrapper(e,r);for(const o of t??[])this.createMethod(i,o,!0);for(const o of n??[])this.createMethod(i,o,!1);return i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&VR(49,{methodName:t}),null)}}};new Set(Object.keys({paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"}));var FB=u.createContext({}),IB=u.createContext("default"),LB=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const i=e.newAgStackInstance();let o,a,s=!1;return i.then(e=>{s?t.destroyBean(e):(o=e,a=o.getGui(),n.appendChild(a),BB(r,o))}),()=>{s=!0,o&&(null==a||a.remove(),t.destroyBean(o),r&&BB(r,void 0))}},BB=(e,t)=>{if(e)if(e instanceof Function){e(t)}else{e.current=t}},HB=(...e)=>e.filter(e=>null!=e&&""!==e).join(" "),_B=class e{constructor(...e){this.classesMap={};for(const t of e)this.classesMap[t]=!0}setClass(t,n){if(!!this.classesMap[t]==n)return this;const r=new e;return r.classesMap={...this.classesMap},r.classesMap[t]=n,r}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}},GB=e=>"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),zB=null==(n=u.version)?void 0:n.split(".")[0],$B="16"===zB||"17"===zB;var UB=!1;var KB=(e,t)=>{$B||!e||UB?t():d.flushSync(t)};function qB(e,t,n){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(n||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const r=[],i=[],o=new Map,a=new Map;for(let s=0;s<t.length;s++){const e=t[s];a.set(e.instanceId,e)}for(let s=0;s<e.length;s++){const t=e[s];o.set(t.instanceId,t),a.has(t.instanceId)&&r.push(t)}for(let s=0;s<t.length;s++){const e=t[s],n=e.instanceId;o.has(n)||i.push(e)}return r.length===e.length&&0===i.length?e:0===r.length&&i.length===t.length?t:0===r.length?i:0===i.length?r:[...r,...i]}var XB=r.forwardRef((e,t)=>{var n;const{registry:i,context:o}=r.useContext(FB),a=r.useRef(null),s=r.useRef(null),l=r.useRef(null),c=r.useRef(null),d=r.useRef(null),h=r.useRef(),[m,p]=r.useState(),[f,g]=r.useState(),[v,b]=r.useState(),[y,x]=r.useState(()=>new _B),[w,C]=r.useState(()=>new _B("ag-hidden")),[N,M]=r.useState(()=>new _B("ag-hidden")),[D,S]=r.useState(()=>new _B("ag-invisible"));r.useImperativeHandle(t,()=>({refresh:()=>!1})),r.useLayoutEffect(()=>LB(m,o,s.current),[m]);const j=r.useCallback(t=>{if(a.current=t,!t||o.isDestroyed())return void(h.current=o.destroyBean(h.current));const n={setInnerRenderer:(e,t)=>{p(e),b(t)},setChildCount:e=>g(e),toggleCss:(e,t)=>x(n=>n.setClass(e,t)),setContractedDisplayed:e=>M(t=>t.setClass("ag-hidden",!e)),setExpandedDisplayed:e=>C(t=>t.setClass("ag-hidden",!e)),setCheckboxVisible:e=>S(t=>t.setClass("ag-invisible",!e)),setCheckboxSpacing:e=>S(t=>t.setClass("ag-group-checkbox-spacing",e))},r=i.createDynamicBean("groupCellRendererCtrl",!0);r&&(h.current=o.createBean(r),h.current.init(n,t,l.current,c.current,d.current,XB,e))},[]),E=r.useMemo(()=>`ag-cell-wrapper ${y.toString()}`,[y]),k=r.useMemo(()=>`ag-group-expanded ${w.toString()}`,[w]),P=r.useMemo(()=>`ag-group-contracted ${N.toString()}`,[N]),W=r.useMemo(()=>`ag-group-checkbox ${D.toString()}`,[D]),R=null==m?void 0:m.componentFromFramework,A=R?m.componentClass:void 0,O=null==m&&null!=v,T=UP(v);return u.createElement("span",{className:E,ref:j,...e.colDef?{}:{role:null==(n=h.current)?void 0:n.getCellAriaRole()}},u.createElement("span",{className:k,ref:c}),u.createElement("span",{className:P,ref:d}),u.createElement("span",{className:W,ref:l}),u.createElement("span",{className:"ag-group-value",ref:s},O?T:R?u.createElement(A,{...m.params}):null),u.createElement("span",{className:"ag-group-child-count"},f))}),YB=XB,ZB=r.createContext({setMethods:()=>{}}),JB=r.memo(e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:i,setMethods:o}=e,[{key:a,...s},l]=r.useState(t);return r.useEffect(()=>{n(e=>l(e))},[]),u.createElement(ZB.Provider,{value:{setMethods:o}},u.createElement(i,{key:a,...s}))}),QB=0;function eH(){return"agPortalKey_"+ ++QB}var tH=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=eH(),this.portalKey=eH(),this.instanceCreated=this.isStatelessComponent()?tO.resolve(!1):new tO(e=>{this.resolveInstanceCreated=e})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n)return void setTimeout(()=>this.callMethod(e,t));const r=n[e];return r?r.apply(n,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new tO(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{var t;this.componentInstance=e,null==(t=this.resolveInstanceCreated)||t.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=i.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return r.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){if(this.suppressFallbackMethods)return!1;return!!this[`${e}Component`]}};function nH(e,t,n){for(const r of e){const e=t[r];e&&(n[r]=e)}}var rH=class extends tH{constructor(){super(...arguments),this.awaitUpdateCallback=new tO(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=JB}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new tO(e=>{setTimeout(()=>{e()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,nH(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new tO(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},iH=class extends rH{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},oH=class extends rH{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},aH=class extends rH{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},sH=class extends rH{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new tO(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var t;const n=this.providedMethods;n?null==(t=n.afterGuiAttached)||t.call(n,e):this.awaitSetMethodsCallback.then(()=>{var t,n;return null==(n=null==(t=this.providedMethods)?void 0:t.afterGuiAttached)?void 0:n.call(t,e)})}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t,n;!1===this.expectingNewMethods&&this.hasBeenActive&&(null==(t=this.providedMethods)?void 0:t.doesFilterPass)!==(null==e?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),null==(n=this.resolveFilterPassCallback)||n.call(this),this.resolveFilterPassCallback=void 0}updateModel(e){var t;null==(t=this.resolveFilterPassCallback)||t.call(this);const n=new tO(e=>{this.resolveFilterPassCallback=e});this.setModel(e).then(()=>{n.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},lH=class extends rH{constructor(){super(...arguments),this.awaitSetMethodsCallback=new tO(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var t;const n=this.providedMethods;n?null==(t=n.afterGuiAttached)||t.call(n,e):this.awaitSetMethodsCallback.then(()=>{var t,n;return null==(n=null==(t=this.providedMethods)?void 0:t.afterGuiAttached)?void 0:n.call(t,e)})}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function cH(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||tO.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var uH=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){nH(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),cH(this.floatingFilterParams,e)}},dH=class extends rH{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),cH(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},hH=class extends rH{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},mH=class extends rH{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},pH=class extends rH{refresh(e){this.sourceParams=e,this.refreshProps()}},fH=class extends rH{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},gH=class extends rH{refresh(e){this.sourceParams=e,this.refreshProps()}},vH=class extends rH{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},bH=class extends rH{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function yH(){VR(231)}var xH=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return KB(!0,()=>this.refresher()),void(e.rendered()&&t(e));window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},wH=r.memo(({ctrl:e})=>{const t=e.isAlive(),{context:n}=r.useContext(FB),[i,o]=r.useState(),[a,s]=r.useState(),l=r.useRef(),c=r.useRef(null),d=r.useRef(null),h=r.useRef(null),m=r.useRef(),p=r.useRef();t&&!p.current&&(p.current=new ZA(()=>c.current));const f=r.useCallback(t=>{if(c.current=t,!t||!e.isAlive()||n.isDestroyed())return void(l.current=n.destroyBean(l.current));l.current=n.createBean(new qA);const r=()=>{var t;const n=e.getSelectAllGui();n&&(null==(t=d.current)||t.insertAdjacentElement("afterend",n),l.current.addDestroyFunc(()=>n.remove()))},i={setWidth:e=>{c.current&&(c.current.style.width=e)},toggleCss:(e,t)=>p.current.toggleCss(e,t),setUserStyles:e=>s(e),setAriaSort:e=>{c.current&&(e?function(e,t){eW(e,"sort",t)}(c.current,e):tW(c.current,"sort"))},setUserCompDetails:e=>o(e),getUserCompInstance:()=>m.current||void 0,refreshSelectAllGui:r,removeSelectAllGui:()=>{var t;return null==(t=e.getSelectAllGui())?void 0:t.remove()}};e.setComp(i,t,d.current,h.current,l.current),r()},[]);r.useLayoutEffect(()=>LB(i,n,h.current,m),[i]),r.useEffect(()=>{e.setDragSource(c.current)},[i]);const g=r.useMemo(()=>!!((null==i?void 0:i.componentFromFramework)&&GB(i.componentClass)),[i]),v=null==i?void 0:i.componentFromFramework,b=null==i?void 0:i.componentClass;return u.createElement("div",{ref:f,style:a,className:"ag-header-cell",role:"columnheader"},u.createElement("div",{ref:d,className:"ag-header-cell-resize",role:"presentation"}),u.createElement("div",{ref:h,className:"ag-header-cell-comp-wrapper",role:"presentation"},v?g?u.createElement(b,{...i.params}):u.createElement(b,{...i.params,ref:m}):null))}),CH=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){nH(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},NH=r.memo(({ctrl:e})=>{const{context:t,gos:n}=r.useContext(FB),[i,o]=r.useState(),[a,s]=r.useState(()=>new _B("ag-header-cell","ag-floating-filter")),[l,c]=r.useState(()=>new _B),[d,h]=r.useState(()=>new _B("ag-floating-filter-button","ag-hidden")),[m,p]=r.useState("false"),[f,g]=r.useState(),[,v]=r.useState(1),b=r.useRef(),y=r.useRef(null),x=r.useRef(null),w=r.useRef(null),C=r.useRef(null),N=r.useRef(),M=r.useRef(),D=e=>{null!=e&&N.current&&N.current(e)},S=r.useCallback(n=>{if(y.current=n,!n||!e.isAlive()||t.isDestroyed())return void(b.current=t.destroyBean(b.current));b.current=t.createBean(new qA),M.current=new tO(e=>{N.current=e});const r={toggleCss:(e,t)=>s(n=>n.setClass(e,t)),setUserStyles:e=>o(e),addOrRemoveBodyCssClass:(e,t)=>c(n=>n.setClass(e,t)),setButtonWrapperDisplayed:e=>{h(t=>t.setClass("ag-hidden",!e)),p(e?"false":"true")},setWidth:e=>{y.current&&(y.current.style.width=e)},setCompDetails:e=>g(e),getFloatingFilterComp:()=>M.current?M.current:null,setMenuIcon:e=>{var t;return null==(t=C.current)?void 0:t.appendChild(e)}};e.setComp(r,n,C.current,x.current,b.current)},[]);r.useLayoutEffect(()=>LB(f,t,x.current,D),[f]);const j=r.useMemo(()=>a.toString(),[a]),E=r.useMemo(()=>l.toString(),[l]),k=r.useMemo(()=>d.toString(),[d]),P=r.useMemo(()=>!!(f&&f.componentFromFramework&&GB(f.componentClass)),[f]),W=r.useMemo(()=>n.get("reactiveCustomComponents"),[]),R=r.useMemo(()=>n.get("enableFilterHandlers"),[]),[A,O]=r.useState();r.useEffect(()=>{if(null==f?void 0:f.componentFromFramework)if(W){const e=new(R?CH:uH)(f.params,()=>v(e=>e+1));D(e),O(e)}else yH()},[f]);const T=null==A?void 0:A.getProps(),V=null==f?void 0:f.componentFromFramework,F=null==f?void 0:f.componentClass;return u.createElement("div",{ref:S,style:i,className:j,role:"gridcell"},u.createElement("div",{ref:x,className:E,role:"presentation"},V?W?T&&u.createElement(ZB.Provider,{value:{setMethods:e=>A.setMethods(e)}},u.createElement(F,{...T})):u.createElement(F,{...f.params,ref:P?()=>{}:D}):null),u.createElement("div",{ref:w,"aria-hidden":m,className:k,role:"presentation"},u.createElement("button",{ref:C,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))}),MH=r.memo(({ctrl:e})=>{const{context:t}=r.useContext(FB),[n,i]=r.useState(),[o,a]=r.useState(()=>new _B),[s,l]=r.useState(()=>new _B),[c,d]=r.useState("false"),[h,m]=r.useState(),[p,f]=r.useState(),g=r.useRef(),v=r.useRef(null),b=r.useRef(null),y=r.useRef(null),x=r.useRef(),w=r.useCallback(n=>{if(v.current=n,!n||!e.isAlive()||t.isDestroyed())return void(g.current=t.destroyBean(g.current));g.current=t.createBean(new qA);const r={setWidth:e=>{v.current&&(v.current.style.width=e)},toggleCss:(e,t)=>a(n=>n.setClass(e,t)),setUserStyles:e=>i(e),setHeaderWrapperHidden:e=>{const t=y.current;t&&(e?t.style.setProperty("display","none"):t.style.removeProperty("display"))},setHeaderWrapperMaxHeight:e=>{const t=y.current;t&&(null!=e?t.style.setProperty("max-height",`${e}px`):t.style.removeProperty("max-height"),t.classList.toggle("ag-header-cell-comp-wrapper-limited-height",null!=e))},setUserCompDetails:e=>f(e),setResizableDisplayed:e=>{l(t=>t.setClass("ag-hidden",!e)),d(e?"false":"true")},setAriaExpanded:e=>m(e),getUserCompInstance:()=>x.current||void 0};e.setComp(r,n,b.current,y.current,g.current)},[]);r.useLayoutEffect(()=>LB(p,t,y.current),[p]),r.useEffect(()=>{v.current&&e.setDragSource(v.current)},[p]);const C=r.useMemo(()=>!!((null==p?void 0:p.componentFromFramework)&&GB(p.componentClass)),[p]),N=r.useMemo(()=>"ag-header-group-cell "+o.toString(),[o]),M=r.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),D=null==p?void 0:p.componentFromFramework,S=null==p?void 0:p.componentClass;return u.createElement("div",{ref:w,style:n,className:N,role:"columnheader","aria-expanded":h},u.createElement("div",{ref:y,className:"ag-header-cell-comp-wrapper",role:"presentation"},D?C?u.createElement(S,{...p.params}):u.createElement(S,{...p.params,ref:x}):null),u.createElement("div",{ref:b,"aria-hidden":c,className:M}))}),DH=r.memo(({ctrl:e})=>{const{gos:t,context:n}=r.useContext(FB),{topOffset:i,rowHeight:o}=r.useMemo(()=>e.getTopAndHeight(),[]),a=r.useMemo(()=>t.get("tabIndex"),[]),[s,l]=r.useState(()=>e.getAriaRowIndex()),c=e.headerRowClass,[d,h]=r.useState(()=>o+"px"),[m,p]=r.useState(()=>i+"px"),f=r.useRef(null),[g,v]=r.useState(()=>e.getUpdatedHeaderCtrls()),b=r.useRef(),y=r.useRef(null),x=r.useCallback(t=>{if(y.current=t,!t||!e.isAlive()||n.isDestroyed())return void(b.current=n.destroyBean(b.current));b.current=n.createBean(new qA);const r={setHeight:e=>h(e),setTop:e=>p(e),setHeaderCtrls:(e,t,n)=>{const r=f.current,i=qB(r,e,t);i!==r&&(f.current=i,KB(n,()=>v(i)))},setWidth:e=>{y.current&&(y.current.style.width=e)},setRowIndex:e=>{l(e)}};e.setComp(r,b.current,!1)},[]),w=r.useMemo(()=>({height:d,top:m}),[d,m]),C=r.useCallback(t=>{switch(e.type){case"group":return u.createElement(MH,{ctrl:t,key:t.instanceId});case"filter":return u.createElement(NH,{ctrl:t,key:t.instanceId});default:return u.createElement(wH,{ctrl:t,key:t.instanceId})}},[]);return u.createElement("div",{ref:x,className:c,role:"row",style:w,tabIndex:a,"aria-rowindex":s},g.map(C))}),SH=r.memo(({pinned:e})=>{const[t,n]=r.useState(!0),[i,o]=r.useState([]),{context:a}=r.useContext(FB),s=r.useRef(null),l=r.useRef(null),c=r.useRef(),d="left"===e,h="right"===e,m=!d&&!h,p=r.useCallback(t=>{if(s.current=t,!t||a.isDestroyed())return void(c.current=a.destroyBean(c.current));c.current=a.createBean(new LF(e));const r={setDisplayed:n,setCtrls:e=>o(e),setCenterWidth:e=>{l.current&&(l.current.style.width=e)},setViewportScrollLeft:e=>{s.current&&(s.current.scrollLeft=e)},setPinnedContainerWidth:e=>{s.current&&(s.current.style.width=e,s.current.style.minWidth=e,s.current.style.maxWidth=e)}};c.current.setComp(r,s.current)},[]),f=t?"":"ag-hidden",g=()=>i.map(e=>u.createElement(DH,{ctrl:e,key:e.instanceId}));return d?u.createElement("div",{ref:p,className:"ag-pinned-left-header "+f,"aria-hidden":!t,role:"rowgroup"},g()):h?u.createElement("div",{ref:p,className:"ag-pinned-right-header "+f,"aria-hidden":!t,role:"rowgroup"},g()):m?u.createElement("div",{ref:p,className:"ag-header-viewport "+f,role:"rowgroup",tabIndex:-1},u.createElement("div",{ref:l,className:"ag-header-container",role:"presentation"},g())):null}),jH=r.memo(()=>{const[e,t]=r.useState(()=>new _B),[n,i]=r.useState(),{context:o}=r.useContext(FB),a=r.useRef(null),s=r.useRef(),l=r.useCallback(e=>{if(a.current=e,!e||o.isDestroyed())return void(s.current=o.destroyBean(s.current));s.current=o.createBean(new PF);const n={toggleCss:(e,n)=>t(t=>t.setClass(e,n)),setHeightAndMinHeight:e=>i(e)};s.current.setComp(n,e,e)},[]),c=r.useMemo(()=>"ag-header "+e.toString(),[e]),d=r.useMemo(()=>({height:n,minHeight:n}),[n]);return u.createElement("div",{ref:l,className:c,style:d,role:"presentation"},u.createElement(SH,{pinned:"left"}),u.createElement(SH,{pinned:null}),u.createElement(SH,{pinned:"right"}))}),EH=(e,t)=>{r.useEffect(()=>{const n=t.current;if(n){const t=n.parentElement;if(t){const r=document.createComment(e);return t.insertBefore(r,n),()=>{r.remove()}}}},[e])},kH=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new tO(e=>{this.resolveInstanceCreated=e}),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){nH(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,null==(t=this.resolveInstanceCreated)||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},PH=r.memo(e=>{const[t,n]=r.useState(),o=r.useContext(FB),{context:a,popupSvc:s,gos:l,editSvc:c}=o,{editDetails:u,cellCtrl:d,eParentCell:h}=e;return(e=>{const t=r.useRef(e),n=r.useRef(),i=r.useRef(!1),o=r.useRef(!1),[,a]=r.useState(0);i.current&&(o.current=!0),r.useEffect(()=>(i.current||(n.current=t.current(),i.current=!0),a(e=>e+1),()=>{var e;o.current&&(null==(e=n.current)||e.call(n))}),[])})(()=>{var t,r;const{compDetails:i}=u,o=l.get("stopEditingWhenCellsLoseFocus");let m,p;if(!a.isDestroyed()){p=a.createBean(c.createPopupEditorWrapper(i.params));const l=p.getGui();if(e.jsChildComp){const t=e.jsChildComp.getGui();t&&l.appendChild(t)}const{column:f,rowNode:g}=d,v={column:f,rowNode:g,type:"popupCellEditor",eventSource:h,ePopup:l,position:u.popupPosition,keepWithinBounds:!0},b=null==s?void 0:s.positionPopupByComponent.bind(s,v),y=null==s?void 0:s.addPopup({modal:o,eChild:l,closeOnEsc:!0,closedCallback:()=>{d.onPopupEditorClosed()},anchorToElement:h,positionCallback:b,ariaOwns:h});m=y?y.hideFunc:void 0,n(p),null==(r=null==(t=e.jsChildComp)?void 0:t.afterGuiAttached)||r.call(t)}return()=>{null==m||m(),a.destroyBean(p)}}),r.useLayoutEffect(()=>()=>{d.isCellFocused()&&(null==t?void 0:t.getGui().contains(XP(o)))&&h.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?i.createPortal(e.wrappedContent,t.getGui()):null}),WH=(e,t,n)=>e.compProxy?((e,t,n)=>{const{compProxy:r}=e;n(r);const i=r.getProps(),o=GB(t);return u.createElement(ZB.Provider,{value:{setMethods:e=>r.setMethods(e)}},o?u.createElement(t,{...i}):u.createElement(t,{...i,ref:e=>r.setRef(e)}))})(e,t,n):u.createElement(t,{...e.compDetails.params,ref:n}),RH=(e,t,n,i,o,a)=>{const{context:s}=r.useContext(FB),l=r.useCallback(()=>{const e=o.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.remove(),s.destroyBean(e),o.current=void 0},[]);r.useEffect(()=>{const r=null!=e,i=(null==e?void 0:e.compDetails)&&!e.compDetails.componentFromFramework;if(!(r&&i&&!(t&&null==n)))return void l();const s=e.compDetails;if(o.current){const t=o.current,n=!!(null!=t.refresh&&0==e.force)&&t.refresh(s.params);if(!0===n||void 0===n)return;l()}s.newAgStackInstance().then(e=>{if(!e)return;const r=e.getGui();if(!r)return;(t?n:a.current).appendChild(r),o.current=e})},[e,t,i]),r.useEffect(()=>l,[])},AH=({cellCtrl:e,parent:t})=>{var n;const i=r.useRef(),o=r.useMemo(()=>{const{loadingComp:t}=e.getDeferLoadingCellRenderer();return t?{value:void 0,compDetails:t,force:!1}:void 0},[e]);if(RH(o,!1,void 0,1,i,t),null==(n=null==o?void 0:o.compDetails)?void 0:n.componentFromFramework){const e=o.compDetails.componentClass;return u.createElement(e,{...o.compDetails.params})}return u.createElement(u.Fragment,null)},OH=r.memo(({cellCtrl:e,printLayout:t,editingCell:n})=>{const i=r.useContext(FB),{context:o}=i,{column:{colIdSanitised:a},instanceId:s}=e,l=r.useRef(),[c,d]=r.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[h,m]=r.useState(),[p,f]=r.useState(1),[g,v]=r.useState(),[b,y]=r.useState(!1),[x,w]=r.useState(!1),[C,N]=r.useState(!1),[M,D]=r.useState(),S=r.useMemo(()=>e.isForceWrapper(),[e]),j=r.useMemo(()=>e.getCellAriaRole(),[e]),E=r.useRef(null),k=r.useRef(null),P=r.useRef(null),W=r.useRef(),R=r.useRef(),A=r.useRef(),O=r.useRef([]),T=r.useRef(),V=r.useRef(),[F,I]=r.useState(0),L=r.useCallback(e=>{V.current=e,I(e=>e+1)},[]),B=null!=c&&(b||C||x)&&(null==h||!!h.popup),H=S||B,_=r.useMemo(()=>e.getCellValueClass(),[e]),G=r.useCallback(t=>{if(R.current=t,t){const n=t.isCancelBeforeStart&&t.isCancelBeforeStart();setTimeout(()=>{n?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(t))})}},[e]),z=r.useRef();z.current||(z.current=new ZA(()=>E.current)),RH(c,H,V.current,F,W,E);const $=r.useRef();r.useLayoutEffect(()=>{var e,t;const n=$.current,r=c;if($.current=c,null==n||null==n.compDetails||null==r||null==r.compDetails)return;null==(e=T.current)||e.refreshVisibility();const i=n.compDetails,o=r.compDetails;if(i.componentClass!=o.componentClass)return;if(null==(null==(t=P.current)?void 0:t.refresh))return;1!=P.current.refresh(o.params)&&f(e=>e+1)},[c]),r.useLayoutEffect(()=>{if(!(h&&!h.compDetails.componentFromFramework)||o.isDestroyed())return;const t=h.compDetails,n=!0===h.popup,r=t.newAgStackInstance();return r.then(e=>{var t;if(!e)return;const r=e.getGui();if(G(e),!n){const n=(S?A:E).current;null==n||n.appendChild(r),null==(t=e.afterGuiAttached)||t.call(e)}D(e)}),()=>{r.then(t=>{const n=t.getGui();e.disableEditorTooltipFeature(),o.destroyBean(t),G(void 0),D(void 0),null==n||n.remove()})}},[h]);const U=r.useCallback(t=>{if(A.current=t,!t||o.isDestroyed()||!e.isAlive()){const e=O.current;O.current=[];for(const t of e)t();return}let n;const r=e=>{e&&(t.insertAdjacentElement("afterbegin",e.getGui()),O.current.push(()=>{wW(e.getGui()),o.destroyBean(e),T.current===n&&(T.current=void 0)}))};b&&r(e.createSelectionCheckbox()),C&&r(e.createDndSource()),x&&(n=e.createRowDragComp(),T.current=n,n&&(r(n),n.refreshVisibility()))},[e,o,C,x,b]),K=r.useCallback(()=>{const r=!e.isCellSpanning()||k.current,i=E.current;if(!i||!r||!e||!e.isAlive()||o.isDestroyed())return void(l.current=o.destroyBean(l.current));l.current=o.createBean(new qA);const a={toggleCss:(e,t)=>z.current.toggleCss(e,t),setUserStyles:e=>v(e),getFocusableElement:()=>E.current,setIncludeSelection:e=>y(e),setIncludeRowDrag:e=>w(e),setIncludeDndSource:e=>N(e),getCellEditor:()=>R.current??null,getCellRenderer:()=>P.current??W.current,getParentOfValue:()=>V.current??A.current??E.current,setRenderDetails:(t,n,r)=>{var i;const o=()=>{d(e=>(null==e?void 0:e.compDetails)!==t||(null==e?void 0:e.value)!==n||(null==e?void 0:e.force)!==r?{value:n,compDetails:t,force:r}:e)};if((null==(i=null==t?void 0:t.params)?void 0:i.deferRender)&&!e.rowNode.group){const{loadingComp:t,onReady:n}=e.getDeferLoadingCellRenderer();if(t)return d({value:void 0,compDetails:t,force:!1}),void n.then(()=>{return e=o,void($B?e():u.startTransition(e));var e})}o()},setEditDetails:(t,n,r,i)=>{if(t){let e;t.componentFromFramework&&(i?e=new kH(t.params,()=>f(e=>e+1)):yH()),m({compDetails:t,popup:n,popupPosition:r,compProxy:e}),n||d(void 0)}else{e.hasBrowserFocus()&&a.getFocusableElement().focus({preventScroll:!0}),R.current=void 0,m(void 0)}},refreshEditStyles:(e,t)=>{if(!E.current)return;const{current:n}=z;n.toggleCss("ag-cell-value",!H),n.toggleCss("ag-cell-inline-editing",!!e&&!t),n.toggleCss("ag-cell-popup-editing",!!e&&!!t),n.toggleCss("ag-cell-not-inline-editing",!e||!!t)}},s=A.current||void 0;e.setComp(a,i,k.current??void 0,s,t,n,l.current)},[]),q=r.useCallback(e=>{E.current=e,K()},[]),X=r.useCallback(e=>{k.current=e,K()},[]),Y=r.useMemo(()=>{var e;return!!((null==(e=null==c?void 0:c.compDetails)?void 0:e.componentFromFramework)&&GB(c.compDetails.componentClass))},[c]);r.useLayoutEffect(()=>{if(!E.current)return;const{current:e}=z;e.toggleCss("ag-cell-value",!H),e.toggleCss("ag-cell-inline-editing",!!h&&!h.popup),e.toggleCss("ag-cell-popup-editing",!!h&&!!h.popup),e.toggleCss("ag-cell-not-inline-editing",!h||!!h.popup)});const Z=()=>{var t;const{compDetails:n,value:i}=c;if(!n)return(null==(t=null==i?void 0:i.toString)?void 0:t.call(i))??i;if(n.componentFromFramework){const t=n.componentClass;return u.createElement(r.Suspense,{fallback:u.createElement(AH,{cellCtrl:e,parent:E})},Y?u.createElement(t,{...n.params,key:p}):u.createElement(t,{...n.params,key:p,ref:P}))}},J=()=>{const t=()=>null==c?null:H?u.createElement("span",{role:"presentation",id:`cell-${s}`,className:_,ref:L},Z()):Z(),n=t=>((e,t,n,r,i)=>{const o=e.compDetails,a=o.componentClass,s=o.componentFromFramework&&!e.popup,l=o.componentFromFramework&&e.popup,c=!o.componentFromFramework&&e.popup;return s?WH(e,a,t):l?u.createElement(PH,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:WH(e,a,t)}):c&&i?u.createElement(PH,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}):null})(t,G,E.current,e,M);return null!=h?h.popup?u.createElement(u.Fragment,null,t(),n(h)):n(h):t()},Q=()=>u.createElement("div",{ref:q,style:g,role:j,"col-id":a},H?u.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:U},J()):J());return e.isCellSpanning()?u.createElement("div",{ref:X,className:"ag-spanned-cell-wrapper",role:"presentation"},Q()):Q()}),TH=r.memo(({rowCtrl:e,containerType:t})=>{const{context:n,gos:i,editSvc:o}=r.useContext(FB),a="default"===r.useContext(IB),s=r.useRef(),l=r.useRef(e.getDomOrder()),c=e.isFullWidth(),d=e.rowNode.displayed,[h,m]=r.useState(()=>d?e.rowNode.getRowIndexString():null),[p,f]=r.useState(()=>e.rowId),[g,v]=r.useState(()=>e.businessKey),[b,y]=r.useState(()=>e.rowStyles),x=r.useRef(null),[w,C]=r.useState(()=>null),[N,M]=r.useState(),[D,S]=r.useState(()=>d?e.getInitialRowTop(t):void 0),[j,E]=r.useState(()=>d?e.getInitialTransform(t):void 0),k=r.useRef(null),P=r.useRef(),W=r.useRef(),R=r.useRef(!1),[A,O]=r.useState(0);r.useEffect(()=>{var t;if(R.current||!N||A>10)return;const n=null==(t=k.current)?void 0:t.firstChild;n?(e.setupDetailRowAutoHeight(n),R.current=!0):O(e=>e+1)},[N,A]);const T=r.useRef();T.current||(T.current=new ZA(()=>k.current));const V=r.useRef(()=>{}),F=r.useCallback(e=>(V.current=e,()=>{V.current=()=>{}}),[]),I=(L=F,B=()=>x.current,H=[],u.useSyncExternalStore?u.useSyncExternalStore(L,B):H);var L,B,H;const _=a?I:w,G=r.useCallback(r=>{if(k.current=r,s.current=r?n.createBean(new qA):n.destroyBean(s.current),!r)return void e.unsetComp(t);if(!e.isAlive()||n.isDestroyed())return;const i={setTop:S,setTransform:E,toggleCss:(e,t)=>T.current.toggleCss(e,t),setDomOrder:e=>l.current=e,setRowIndex:m,setRowId:f,setRowBusinessKey:v,setUserStyles:y,setCellCtrls:(e,t)=>{const n=x.current,r=qB(n,e,l.current);r!==n&&(x.current=r,a?V.current():KB(t,()=>C(r)))},showFullWidth:e=>{W.current=e.params,M(e)},getFullWidthCellRenderer:()=>P.current,getFullWidthCellRendererParams:()=>W.current,refreshFullWidth:e=>{const t=e();return W.current=t,q.current?(M(e=>({...e,params:t})),!0):!(!P.current||!P.current.refresh)&&P.current.refresh(t)}};e.setComp(i,r,t,s.current)},[]);r.useLayoutEffect(()=>LB(N,n,k.current,P),[N]);const z=r.useMemo(()=>{const e={top:D,transform:j};return Object.assign(e,b),e},[D,j,b]),$=c&&(null==N?void 0:N.componentFromFramework),U=!c&&null!=_,K=r.useMemo(()=>!!((null==N?void 0:N.componentFromFramework)&&GB(N.componentClass)),[N]),q=r.useRef(!1);r.useEffect(()=>{q.current=K&&!!N&&!!i.get("reactiveCustomComponents")},[K,N]);return u.createElement("div",{ref:G,role:"row",style:z,"row-index":h,"row-id":p,"row-business-key":g},U?null==_?void 0:_.map(t=>u.createElement(OH,{cellCtrl:t,editingCell:(null==o?void 0:o.isEditing(t,{withOpenEditor:!0}))??!1,printLayout:e.printLayout,key:t.instanceId})):$?(()=>{const e=N.componentClass;return K?u.createElement(e,{...N.params}):u.createElement(e,{...N.params,ref:P})})():null)}),VH=r.memo(({name:e})=>{const{context:t,gos:n}=r.useContext(FB),i=r.useMemo(()=>nF(e),[e]),o=r.useRef(null),a=r.useRef(null),s=r.useRef(null),l=r.useRef([]),c=r.useRef([]),[d,h]=r.useState(()=>[]),m=!!n.get("enableCellSpan")&&!!i.getSpannedRowCtrls,p=r.useRef([]),f=r.useRef([]),[g,v]=r.useState(()=>[]),b=r.useRef(!1),y=r.useRef(),x=r.useMemo(()=>HB("ag-viewport",eF(e)),[e]),w=r.useMemo(()=>HB(tF(e)),[e]),C=r.useMemo(()=>HB("ag-spanning-container",function(e){return`ag-${nF(e).name}-spanned-cells-container`}(e)),[e]),N="center"===i.type||m;EH(" AG Row Container "+e+" ",N?o:a);const M=r.useCallback(()=>{const e=!N||null!=o.current,t=null!=a.current,n=!m||null!=s.current;return e&&t&&n},[]),D=r.useCallback(()=>null==o.current&&null==a.current&&null==s.current,[]),S=r.useCallback(()=>{if(D()&&(y.current=t.destroyBean(y.current)),!t.isDestroyed()&&M()){const n=e=>{const t=qB(c.current,l.current,b.current);t!==c.current&&(c.current=t,KB(e,()=>h(t)))},r=e=>{const t=qB(f.current,p.current,b.current);t!==f.current&&(f.current=t,KB(e,()=>v(t)))},i={setHorizontalScroll:e=>{o.current&&(o.current.scrollLeft=e)},setViewportHeight:e=>{o.current&&(o.current.style.height=e)},setRowCtrls:({rowCtrls:e,useFlushSync:t})=>{const r=!!t&&l.current.length>0&&e.length>0;l.current=e,n(r)},setSpannedRowCtrls:(e,t)=>{const n=!!t&&p.current.length>0&&e.length>0;p.current=e,r(n)},setDomOrder:e=>{b.current!=e&&(b.current=e,n(!1))},setContainerWidth:e=>{a.current&&(a.current.style.width=e)},setOffsetTop:e=>{a.current&&(a.current.style.transform=`translateY(${e})`)}};y.current=t.createBean(new dF(e)),y.current.setComp(i,a.current,s.current??void 0,o.current)}},[M,D]),j=r.useCallback(e=>{a.current=e,S()},[S]),E=r.useCallback(e=>{s.current=e,S()},[S]),k=r.useCallback(e=>{o.current=e,S()},[S]),P=()=>u.createElement("div",{className:w,ref:j,role:N?"presentation":"rowgroup"},d.map(e=>u.createElement(TH,{rowCtrl:e,containerType:i.type,key:e.instanceId})));if(!N)return P();return u.createElement("div",{className:x,ref:k,role:"rowgroup"},P(),m?u.createElement("div",{className:C,ref:E,role:"presentation"},g.map(e=>u.createElement(TH,{rowCtrl:e,containerType:i.type,key:e.instanceId}))):null)}),FH=r.memo(()=>{const e=r.useContext(FB),{context:t,overlays:n}=e,[i,o]=r.useState(""),[a,s]=r.useState(0),[l,c]=r.useState(0),[d,h]=r.useState("0px"),[m,p]=r.useState("0px"),[f,g]=r.useState("100%"),[v,b]=r.useState("0px"),[y,x]=r.useState("0px"),[w,C]=r.useState("100%"),[N,M]=r.useState(!0),[D,S]=r.useState(!0),[j,E]=r.useState(null),[k,P]=r.useState(""),[W,R]=r.useState(null),[A,O]=r.useState("ag-layout-normal"),T=r.useRef();T.current||(T.current=new ZA(()=>V.current));const V=r.useRef(null),F=r.useRef(null),I=r.useRef(null),L=r.useRef(null),B=r.useRef(null),H=r.useRef(null),_=r.useRef(null),G=r.useRef([]),z=r.useRef([]);EH(" AG Grid Body ",V),EH(" AG Pinned Top ",F),EH(" AG Sticky Top ",I),EH(" AG Middle ",H),EH(" AG Pinned Bottom ",_);const $=r.useCallback(r=>{if(V.current=r,!r||t.isDestroyed()){G.current=t.destroyBeans(G.current);for(const e of z.current)e();return void(z.current=[])}const i=(e,t)=>{e.appendChild(t),z.current.push(()=>t.remove())},a=(e,n,r)=>{i(e,document.createComment(r)),i(e,(e=>{const n=t.createBean(new e);return G.current.push(n),n})(n).getGui())};a(r,fF," AG Fake Horizontal Scroll ");const l=null==n?void 0:n.getOverlayWrapperCompClass();l&&a(r,l," AG Overlay Wrapper "),B.current&&a(B.current,vF," AG Fake Vertical Scroll ");const u={setRowAnimationCssOnBodyViewport:o,setColumnCount:e=>{V.current&&eW(V.current,"colcount",e)},setRowCount:e=>{V.current&&eW(V.current,"rowcount",e)},setTopHeight:s,setBottomHeight:c,setStickyTopHeight:h,setStickyTopTop:p,setStickyTopWidth:g,setTopInvisible:M,setBottomInvisible:S,setColumnMovingCss:(e,t)=>T.current.toggleCss(e,t),updateLayoutClasses:O,setAlwaysVerticalScrollClass:E,setPinnedTopBottomOverflowY:P,setCellSelectableCss:(e,t)=>R(t?e:null),setBodyViewportWidth:e=>{H.current&&(H.current.style.width=e)},registerBodyViewportResizeListener:t=>{if(H.current){const n=WW(e,H.current,t);z.current.push(()=>n())}},setStickyBottomHeight:b,setStickyBottomBottom:x,setStickyBottomWidth:C,setGridRootRole:e=>r.setAttribute("role",e)},d=t.createBean(new hF);G.current.push(d),d.setComp(u,r,H.current,F.current,_.current,I.current,L.current)},[]),U=r.useMemo(()=>HB("ag-root","ag-unselectable",A),[A]),K=r.useMemo(()=>HB("ag-body-viewport",i,A,j,W),[i,A,j,W]),q=r.useMemo(()=>HB("ag-body",A),[A]),X=r.useMemo(()=>HB("ag-floating-top",N?"ag-invisible":null,W),[W,N]),Y=r.useMemo(()=>HB("ag-sticky-top",W),[W]),Z=r.useMemo(()=>HB("ag-sticky-bottom","0px"===v?"ag-invisible":null,W),[W,v]),J=r.useMemo(()=>HB("ag-floating-bottom",D?"ag-invisible":null,W),[W,D]),Q=r.useMemo(()=>({height:a,minHeight:a,overflowY:k}),[a,k]),ee=r.useMemo(()=>({height:d,top:m,width:f}),[d,m,f]),te=r.useMemo(()=>({height:v,bottom:y,width:w}),[v,y,w]),ne=r.useMemo(()=>({height:l,minHeight:l,overflowY:k}),[l,k]),re=e=>u.createElement(VH,{name:e,key:`${e}-container`}),ie=({section:e,children:t,className:n,style:r})=>u.createElement("div",{ref:e,className:n,role:"presentation",style:r},t.map(re));return u.createElement("div",{ref:$,className:U},u.createElement(jH,null),ie({section:F,className:X,style:Q,children:["topLeft","topCenter","topRight","topFullWidth"]}),u.createElement("div",{className:q,ref:B,role:"presentation"},ie({section:H,className:K,children:["left","center","right","fullWidth"]})),ie({section:I,className:Y,style:ee,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),ie({section:L,className:Z,style:te,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),ie({section:_,className:J,style:ne,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))}),IH=r.forwardRef((e,t)=>{const{children:n,eFocusableElement:i,onTabKeyDown:o,gridCtrl:a,forceFocusOutWhenTabGuardsAreEmpty:s,isEmpty:l}=e,{context:c}=r.useContext(FB),d=r.useRef(null),h=r.useRef(null),m=r.useRef(),p=e=>{var t,n;const r=null==e?void 0:parseInt(e,10).toString();for(const i of[d,h])void 0===r?null==(t=i.current)||t.removeAttribute("tabindex"):null==(n=i.current)||n.setAttribute("tabindex",r)};r.useImperativeHandle(t,()=>({forceFocusOutOfContainer(e){var t;null==(t=m.current)||t.forceFocusOutOfContainer(e)}}));const f=r.useCallback(()=>{const e=d.current,t=h.current;if(!e&&!t||c.isDestroyed())m.current=c.destroyBean(m.current);else if(e&&t){const n={setTabIndex:p};m.current=c.createBean(new YF({comp:n,eTopGuard:e,eBottomGuard:t,eFocusableElement:i,onTabKeyDown:o,forceFocusOutWhenTabGuardsAreEmpty:s,focusInnerElement:e=>a.focusInnerElement(e),isEmpty:l}))}},[]),g=r.useCallback(e=>{d.current=e,f()},[f]),v=r.useCallback(e=>{h.current=e,f()},[f]),b=e=>{const t="top"===e?qF:XF;return u.createElement("div",{className:`${KF} ${t}`,role:"presentation",ref:"top"===e?g:v})};return u.createElement(u.Fragment,null,b("top"),n,b("bottom"))}),LH=r.memo(IH),BH=r.memo(({context:e})=>{const[t,n]=r.useState(""),[i,o]=r.useState(""),[a,s]=r.useState(null),[l,c]=r.useState(null),[d,h]=r.useState(!1),[m,p]=r.useState(),f=r.useRef(),g=r.useRef(null),v=r.useRef(),[b,y]=r.useState(null),x=r.useRef(()=>{}),w=r.useRef(),C=r.useRef([]),N=r.useCallback(()=>{},[]);EH(" AG Grid ",g);const M=r.useCallback(t=>{if(g.current=t,f.current=t?e.createBean(new rI):e.destroyBean(f.current),!t||e.isDestroyed())return;const r=f.current;x.current=r.focusInnerElement.bind(r);const i={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:e=>{var t,n;e||!(null==(t=w.current)?void 0:t.isDisplayed())?null==(n=v.current)||n.forceFocusOutOfContainer(e):w.current.forceFocusOutOfContainer(e)},updateLayoutClasses:o,getFocusableContainers:()=>{var e;const t=[],n=null==(e=g.current)?void 0:e.querySelector(".ag-root");n&&t.push({getGui:()=>n});for(const r of C.current)r.isDisplayed()&&t.push(r);return t},setCursor:s,setUserSelect:c};r.setComp(i,t,t),h(!0)},[]);r.useEffect(()=>{const t=f.current,n=g.current;if(!m||!t||!b||!n||e.isDestroyed())return;const r=[],{watermarkSelector:i,paginationSelector:o,sideBarSelector:a,statusBarSelector:s,gridHeaderDropZonesSelector:l}=t.getOptionalSelectors(),c=[];if(l){const t=e.createBean(new l.component),i=t.getGui();n.insertAdjacentElement("afterbegin",i),c.push(i),r.push(t)}if(a){const t=e.createBean(new a.component),n=t.getGui(),i=b.querySelector(".ag-tab-guard-bottom");i&&(i.insertAdjacentElement("beforebegin",n),c.push(n)),r.push(t),C.current.push(t)}const u=t=>{const i=e.createBean(new t),o=i.getGui();return n.insertAdjacentElement("beforeend",o),c.push(o),r.push(i),i};if(s&&u(s.component),o){const e=u(o.component);w.current=e,C.current.push(e)}return i&&u(i.component),()=>{e.destroyBeans(r);for(const e of c)e.remove()}},[m,b,e]);const D=r.useMemo(()=>HB("ag-root-wrapper",t,i),[t,i]),S=r.useMemo(()=>HB("ag-root-wrapper-body","ag-focus-managed",i),[i]),j=r.useMemo(()=>({userSelect:null!=l?l:"",WebkitUserSelect:null!=l?l:"",cursor:null!=a?a:""}),[l,a]),E=r.useCallback(e=>{v.current=e,p(null!==e)},[]),k=r.useCallback(()=>{var e;return!(null==(e=f.current)?void 0:e.isFocusable())},[]);return u.createElement("div",{ref:M,className:D,style:j,role:"presentation"},u.createElement("div",{className:S,ref:y,role:"presentation"},d&&b&&!e.isDestroyed()&&u.createElement(FB.Provider,{value:e.getBeans()},u.createElement(LH,{ref:E,eFocusableElement:b,onTabKeyDown:N,gridCtrl:f.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:k},u.createElement(FH,null)))))}),HH=class extends JW{postConstruct(){if(this.beans.colAutosize){const e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){const e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(e=>e.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(e=>!!e.eGui))}},_H={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},GH={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,..._H},zH=new Set(Object.keys(GH)),$H=new Set(Object.keys(_H)),UH=e=>{var t;const n=r.useRef(),i=r.useRef(null),o=r.useRef(null),a=r.useRef([]),s=r.useRef([]),l=r.useRef(e),c=r.useRef(),d=r.useRef(),h=r.useRef(!1),[m,p]=r.useState(void 0),[,f]=r.useState(0),g=r.useCallback(t=>{if(i.current=t,!t){for(const e of a.current)e();return void(a.current.length=0)}const r=e.modules||[];o.current||(o.current=new xH(()=>f(e=>e+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),a.current.push(()=>{var e;null==(e=o.current)||e.destroy(),o.current=null}));const l=function(e,t,n){"object"!=typeof e&&(e={});const r={...e};for(const i of n){const e=t[i];void 0!==e&&(r[i]=e)}return r}(e.gridOptions,e,Object.keys(e).filter(e=>!zH.has(e))),u=new XH(()=>{if(h.current){const e=()=>{var e;return(null==(e=c.current)?void 0:e.shouldQueueUpdates())?void 0:s.current.shift()};let t=e();for(;t;)t(),t=e()}});c.current=u;const m=new HH,g={providedBeanInstances:{frameworkCompWrapper:new KH(o.current,l),renderStatus:m},modules:r,frameworkOverrides:u,setThemeOnGridDiv:!0},v=new OB;l.gridId??(l.gridId=d.current),n.current=v.create(t,l,t=>{p(t),t.createBean(m),a.current.push(()=>{t.destroy()}),t.getBean("ctrlsSvc").whenReady({addDestroyFunc:e=>{a.current.push(e)}},()=>{var r;if(t.isDestroyed())return;const i=n.current;i&&(null==(r=e.passGridApi)||r.call(e,i))})},e=>{e.getBean("ctrlsSvc").whenReady({addDestroyFunc:e=>{a.current.push(e)}},()=>{for(const e of s.current)e();s.current.length=0,h.current=!0})},g),a.current.push(()=>{n.current=void 0}),n.current&&(d.current=n.current.getGridId())},[]),v=r.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),b=r.useCallback(e=>{var t;h.current&&!(null==(t=c.current)?void 0:t.shouldQueueUpdates())?e():s.current.push(e)},[]);r.useEffect(()=>{const t=function(e,t){const n={};for(const r of Object.keys(t)){if(zH.has(r)){$H.has(r)&&VR(274,{prop:r});continue}const i=t[r];e[r]!==i&&(n[r]=i)}return n}(l.current,e);l.current=e,b(()=>{n.current&&function(e,t){if(!e)return;const n={};let r=!1;for(const a of Object.keys(e))n[a]=e[a],r=!0;if(!r)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const o={type:"componentStateChanged",...n};t.dispatchEvent(o)}(t,n.current)})},[e]);const y=u.useSyncExternalStore&&"legacy"!==oA(e,"renderingMode")?"default":"legacy";return u.createElement("div",{style:v,className:e.className,ref:g},u.createElement(IB.Provider,{value:y},m&&!m.isDestroyed()?u.createElement(BH,{key:m.instanceId,context:m}):null,(null==(t=o.current)?void 0:t.getPortals())??null))};var KH=class extends VB{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(oA(n,"reactiveCustomComponents")){const r=(e=>{switch(e){case"filter":return oA(n,"enableFilterHandlers")?lH:sH;case"floatingFilterComponent":return oA(n,"enableFilterHandlers")?hH:dH;case"dateComponent":return oH;case"dragAndDropImageComponent":return aH;case"loadingOverlayComponent":return pH;case"noRowsOverlayComponent":return gH;case"statusPanel":return vH;case"toolPanel":return bH;case"menuItem":return fH;case"cellRenderer":return iH;case"innerHeaderComponent":return mH}})(t.name);if(r)return new r(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":yH()}const r=!t.cellRenderer&&"toolPanel"!==t.name;return new tH(e,this.parent,t,r)}},qH=r.forwardRef((e,t)=>{const n=r.useContext(FB),{registry:i,context:o,gos:a,rowModel:s}=n,[l,c]=r.useState(()=>new _B),[d,h]=r.useState(()=>new _B),[m,p]=r.useState(),[f,g]=r.useState(),v=r.useRef(),b=r.useRef(null),y=r.useRef(),x=r.useMemo(()=>function(e,t){const n=xR[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}(e.api.getGridId(),(null==m?void 0:m.rowModelType)??"clientSide"),[e]),w=r.useMemo(()=>l.toString()+" ag-details-row",[l]),C=r.useMemo(()=>d.toString()+" ag-details-grid",[d]);t&&r.useImperativeHandle(t,()=>({refresh(){var e;return(null==(e=v.current)?void 0:e.refresh())??!1}})),e.template&&VR(230);const N=r.useCallback(t=>{var r;if(b.current=t,!t||o.isDestroyed())return v.current=o.destroyBean(v.current),void(null==(r=y.current)||r.call(y));const l={toggleCss:(e,t)=>c(n=>n.setClass(e,t)),toggleDetailGridCss:(e,t)=>h(n=>n.setClass(e,t)),setDetailGrid:e=>p(e),setRowData:e=>g(e),getGui:()=>b.current},u=i.createDynamicBean("detailCellRendererCtrl",!0);if(u&&(o.createBean(u),u.init(l,e),v.current=u,a.get("detailRowAutoHeight"))){const r=()=>{if(null==b.current)return;const t=b.current.clientHeight;if(null!=t&&t>0){setTimeout(()=>{e.node.setRowHeight(t),(HR(a)||_R(a))&&s.onRowHeightChanged()},0)}};y.current=WW(n,t,r),r()}},[]),M=r.useCallback(e=>{var t;null==(t=v.current)||t.registerDetailWithMaster(e)},[]);return u.createElement("div",{className:w,ref:N},m&&u.createElement(UH,{className:C,...m,modules:x,rowData:f,passGridApi:M}))}),XH=class extends JF{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:YB,agGroupRowRenderer:YB,agDetailCellRenderer:qH},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(n=e,UB||setTimeout(()=>UB=!1,0),UB=!0,n()):e();var n}}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return"19"===zB}},YH=class extends r.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(const t of this.apiListeners)t(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return u.createElement(UH,{...this.props,passGridApi:this.setGridApi})}};const ZH=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(e||0)),JH=e=>{const t=Number(e);return Number.isFinite(t)?t:0},QH=({mode:e,existingCards:t,card:n,onClose:i,onSave:o})=>{const a="edit"===e,[s,l]=r.useState(()=>({name:(null==n?void 0:n.name)||"",last4:(null==n?void 0:n.last4)||"",dotation_limit:(null==n?void 0:n.dotation_limit)??"",cold_balance:(null==n?void 0:n.cold_balance)??0,real_balance:(null==n?void 0:n.real_balance)??0})),[c,u]=r.useState(!1),[d,h]=r.useState(null),m=r.useMemo(()=>{const e=s.name.trim().toLowerCase();return!!e&&t.some(t=>t.name.trim().toLowerCase()===e&&t.id!==(null==n?void 0:n.id))},[t,s.name,null==n?void 0:n.id]);return x.jsxDEV("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:x.jsxDEV("div",{className:"card w-full max-w-lg p-6 animate-scale-in",children:[x.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[x.jsxDEV("h2",{className:"text-lg font-semibold text-surface-900",children:a?"Edit Card":"Add Card"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:90,columnNumber:11},void 0),x.jsxDEV("button",{onClick:i,className:"icon-btn",type:"button",children:x.jsxDEV(Se,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:94,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:93,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:89,columnNumber:9},void 0),x.jsxDEV("form",{onSubmit:async e=>{e.preventDefault();const t=(()=>{if(!s.name.trim())return"Name is required";if(m)return"Name must be unique";if(!/^\d{4}$/.test(s.last4.trim()))return"Last 4 digits must be exactly 4 digits";if(JH(s.dotation_limit)<0)return"Dotation must be a positive number";if(!a){const e=JH(s.cold_balance),t=JH(s.real_balance);if(e<0||t<0)return"Balances must be positive numbers"}return null})();if(t)h(t);else{h(null),u(!0);try{a?await D.updateMarketingCard(n.id,{name:s.name.trim(),last4:s.last4.trim(),dotation_limit:JH(s.dotation_limit)}):await D.createMarketingCard({name:s.name.trim(),last4:s.last4.trim(),dotation_limit:JH(s.dotation_limit),cold_balance:JH(s.cold_balance),real_balance:JH(s.real_balance)}),o()}catch(r){h(r.message||"Failed to save card")}finally{u(!1)}}},className:"space-y-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Name"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:100,columnNumber:13},void 0),x.jsxDEV("input",{className:m?"input-error":"input",value:s.name,onChange:e=>l({...s,name:e.target.value}),placeholder:"e.g., Visa Main",autoFocus:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:101,columnNumber:13},void 0),m&&x.jsxDEV("p",{className:"text-xs text-red-600 mt-1",children:"Name already exists."},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:108,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:99,columnNumber:11},void 0),x.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Last 4 digits"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:113,columnNumber:15},void 0),x.jsxDEV("input",{className:"input",value:s.last4,onChange:e=>l({...s,last4:e.target.value}),placeholder:"1234",maxLength:4,inputMode:"numeric"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:114,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:112,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Dotation (limit)"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:124,columnNumber:15},void 0),x.jsxDEV("input",{className:"input",value:s.dotation_limit,onChange:e=>l({...s,dotation_limit:e.target.value}),placeholder:"0",inputMode:"decimal"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:125,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:123,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:111,columnNumber:11},void 0),!a&&x.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Cold balance"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:138,columnNumber:17},void 0),x.jsxDEV("input",{className:"input",value:s.cold_balance,onChange:e=>l({...s,cold_balance:e.target.value}),placeholder:"0",inputMode:"decimal"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:139,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:137,columnNumber:15},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Real balance"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:148,columnNumber:17},void 0),x.jsxDEV("input",{className:"input",value:s.real_balance,onChange:e=>l({...s,real_balance:e.target.value}),placeholder:"0",inputMode:"decimal"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:149,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:147,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:136,columnNumber:13},void 0),d&&x.jsxDEV("div",{className:"p-3 rounded-lg border border-red-200 bg-red-50 text-red-700 text-sm",children:d},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:161,columnNumber:13},void 0),x.jsxDEV("div",{className:"flex gap-3 pt-2",children:[x.jsxDEV("button",{type:"button",onClick:i,className:"flex-1 btn-secondary",disabled:c,children:"Cancel"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:167,columnNumber:13},void 0),x.jsxDEV("button",{type:"submit",className:"flex-1 btn-primary",disabled:c,children:c?"Saving...":a?"Update":"Create"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:170,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:166,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:98,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:88,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:87,columnNumber:5},void 0)},e_=({mode:e,cards:t,account:n,onClose:i,onSave:o})=>{const a="edit"===e,[s,l]=r.useState(()=>({name:(null==n?void 0:n.name)||"",linked_card_ids:(null==n?void 0:n.linked_card_ids)||[]})),[c,u]=r.useState(!1),[d,h]=r.useState(null);return x.jsxDEV("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:x.jsxDEV("div",{className:"card w-full max-w-lg p-6 animate-scale-in",children:[x.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[x.jsxDEV("h2",{className:"text-lg font-semibold text-surface-900",children:a?"Edit Ad Account":"Add Ad Account"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:237,columnNumber:11},void 0),x.jsxDEV("button",{onClick:i,className:"icon-btn",type:"button",children:x.jsxDEV(Se,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:241,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:240,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:236,columnNumber:9},void 0),x.jsxDEV("form",{onSubmit:async e=>{e.preventDefault();const t=s.name.trim()?null:"Name is required";if(t)h(t);else{u(!0),h(null);try{a?await D.updateMarketingAdAccount(n.id,{name:s.name.trim(),linked_card_ids:s.linked_card_ids}):await D.createMarketingAdAccount({name:s.name.trim(),linked_card_ids:s.linked_card_ids}),o()}catch(r){h(r.message||"Failed to save ad account")}finally{u(!1)}}},className:"space-y-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Name"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:247,columnNumber:13},void 0),x.jsxDEV("input",{className:"input",value:s.name,onChange:e=>l({...s,name:e.target.value}),placeholder:"e.g., Facebook - US",autoFocus:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:248,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:246,columnNumber:11},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Linked cards"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:258,columnNumber:13},void 0),x.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.map(e=>x.jsxDEV("button",{type:"button",onClick:()=>(e=>{const t=s.linked_card_ids.includes(e);l({...s,linked_card_ids:t?s.linked_card_ids.filter(t=>t!==e):[...s.linked_card_ids,e]})})(e.id),className:"flex items-center justify-between px-3 py-2 rounded-lg border transition-colors "+(s.linked_card_ids.includes(e.id)?"bg-primary-50 border-primary-200 text-primary-900":"bg-white border-surface-200 text-surface-700 hover:bg-surface-50"),children:[x.jsxDEV("span",{className:"text-sm font-medium truncate",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:271,columnNumber:19},void 0),x.jsxDEV("span",{className:"text-xs text-surface-500",children:e.last4?`•••• ${e.last4}`:""},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:272,columnNumber:19},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:261,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:259,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:257,columnNumber:11},void 0),d&&x.jsxDEV("div",{className:"p-3 rounded-lg border border-red-200 bg-red-50 text-red-700 text-sm",children:d},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:279,columnNumber:13},void 0),x.jsxDEV("div",{className:"flex gap-3 pt-2",children:[x.jsxDEV("button",{type:"button",onClick:i,className:"flex-1 btn-secondary",disabled:c,children:"Cancel"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:285,columnNumber:13},void 0),x.jsxDEV("button",{type:"submit",className:"flex-1 btn-primary",disabled:c,children:c?"Saving...":a?"Update":"Create"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:288,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:284,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:245,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:235,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:234,columnNumber:5},void 0)},t_=({cards:e,adAccounts:t,cardId:n,onClose:i,onSave:o})=>{const[a,s]=r.useState(!1),[l,c]=r.useState(null),[u,d]=r.useState("revenue_cold_to_real"),[h,m]=r.useState(()=>({amount:"",source_card_id:"",ad_account_id:"",note:""})),p=JH(h.amount),f=e.filter(e=>e.id!==n);return x.jsxDEV("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:x.jsxDEV("div",{className:"card w-full max-w-lg p-6 animate-scale-in",children:[x.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[x.jsxDEV("h2",{className:"text-lg font-semibold text-surface-900",children:"New Transaction"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:368,columnNumber:11},void 0),x.jsxDEV("button",{onClick:i,className:"icon-btn",type:"button",children:x.jsxDEV(Se,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:370,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:369,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:367,columnNumber:9},void 0),x.jsxDEV("form",{onSubmit:async e=>{e.preventDefault();const t=(()=>{if(p<=0)return"Amount must be greater than 0";if("revenue_from_card_cold"===u){const e=Number(h.source_card_id);if(!e)return"Source card is required";if(e===n)return"Source card must be different"}if("expense_spend_ad"===u&&!Number(h.ad_account_id))return"Ad account is required";return null})();if(t)c(t);else{c(null),s(!0);try{"revenue_cold_to_real"===u?await D.createMarketingRevenueColdToReal({card_id:n,amount:p,note:h.note.trim()||null}):"revenue_from_card_cold"===u?await D.createMarketingRevenueFromOtherCardCold({source_card_id:Number(h.source_card_id),target_card_id:n,amount:p,note:h.note.trim()||null}):"expense_spend_ad"===u?await D.createMarketingExpenseSpend({card_id:n,ad_account_id:Number(h.ad_account_id),amount:p,note:h.note.trim()||null}):"expense_real_to_cold"===u&&await D.createMarketingExpenseRealToCold({card_id:n,amount:p,note:h.note.trim()||null}),o()}catch(r){c(r.message||"Failed to create transaction")}finally{s(!1)}}},className:"space-y-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Type"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:376,columnNumber:13},void 0),x.jsxDEV("select",{className:"input",value:u,onChange:e=>d(e.target.value),children:[x.jsxDEV("option",{value:"revenue_cold_to_real",children:"Revenue: Cold → Real (same card)"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:378,columnNumber:15},void 0),x.jsxDEV("option",{value:"revenue_from_card_cold",children:"Revenue: Other card cold → This card real"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:379,columnNumber:15},void 0),x.jsxDEV("option",{value:"expense_spend_ad",children:"Expense: Spend on ad account"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:380,columnNumber:15},void 0),x.jsxDEV("option",{value:"expense_real_to_cold",children:"Expense: Real → Cold (refund)"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:381,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:377,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:375,columnNumber:11},void 0),"revenue_from_card_cold"===u&&x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Source card"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:387,columnNumber:15},void 0),x.jsxDEV("select",{className:"input",value:h.source_card_id,onChange:e=>m({...h,source_card_id:e.target.value}),children:[x.jsxDEV("option",{value:"",children:"Select..."},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:393,columnNumber:17},void 0),f.map(e=>x.jsxDEV("option",{value:e.id,children:[e.name," ",e.last4?`•••• ${e.last4}`:""]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:395,columnNumber:19},void 0))]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:388,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:386,columnNumber:13},void 0),"expense_spend_ad"===u&&x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Ad account"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:405,columnNumber:15},void 0),x.jsxDEV("select",{className:"input",value:h.ad_account_id,onChange:e=>m({...h,ad_account_id:e.target.value}),children:[x.jsxDEV("option",{value:"",children:"Select..."},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:411,columnNumber:17},void 0),t.map(e=>x.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:413,columnNumber:19},void 0))]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:406,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:404,columnNumber:13},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Amount"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:422,columnNumber:13},void 0),x.jsxDEV("input",{className:"input",value:h.amount,onChange:e=>m({...h,amount:e.target.value}),placeholder:"0",inputMode:"decimal",autoFocus:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:423,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:421,columnNumber:11},void 0),x.jsxDEV("div",{children:[x.jsxDEV("label",{className:"label",children:"Note"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:434,columnNumber:13},void 0),x.jsxDEV("input",{className:"input",value:h.note,onChange:e=>m({...h,note:e.target.value}),placeholder:"Optional"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:435,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:433,columnNumber:11},void 0),l&&x.jsxDEV("div",{className:"p-3 rounded-lg border border-red-200 bg-red-50 text-red-700 text-sm",children:l},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:444,columnNumber:13},void 0),x.jsxDEV("div",{className:"flex gap-3 pt-2",children:[x.jsxDEV("button",{type:"button",onClick:i,className:"flex-1 btn-secondary",disabled:a,children:"Cancel"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:450,columnNumber:13},void 0),x.jsxDEV("button",{type:"submit",className:"flex-1 btn-primary",disabled:a,children:a?"Creating...":"Create"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:453,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:449,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:374,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:366,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:365,columnNumber:5},void 0)},n_=()=>{const{toasts:e,success:t,error:n,removeToast:i}=TP(),[o,a]=r.useState(!0),[s,l]=r.useState(null),[c,u]=r.useState({key:"name",dir:"asc"}),[d,h]=r.useState(null),[m,p]=r.useState({}),[f,g]=r.useState(!1),[v,b]=r.useState(!1),[y,w]=r.useState(null),[C,N]=r.useState(!1),[M,S]=r.useState(null),[j,E]=r.useState(!1),[k,P]=r.useState(null),W=async()=>{a(!0);try{const e=await D.getMarketingOverview();l(e)}catch(e){n(e.message||"Failed to load marketing overview")}finally{a(!1)}};r.useEffect(()=>{W()},[]);const R=(null==s?void 0:s.cards)||[],A=(null==s?void 0:s.ad_accounts)||[],O=null==s?void 0:s.summary,T=r.useMemo(()=>{const e=[...R],t="asc"===c.dir?1:-1;return e.sort((e,n)=>{const r=null==e?void 0:e[c.key],i=null==n?void 0:n[c.key];return"number"==typeof r&&"number"==typeof i?(r-i)*t:String(r??"").localeCompare(String(i??""))*t}),e},[R,c]),V=async e=>{g(!0);try{const t=await D.getMarketingCardTransactions(e);p(n=>({...n,[e]:t.transactions}))}catch(t){n(t.message||"Failed to load transactions")}finally{g(!1)}},F=r.useMemo(()=>[{headerName:"Date",field:"created_at",valueFormatter:e=>new Date(e.value).toLocaleString(),minWidth:170},{headerName:"Type",field:"type",minWidth:110},{headerName:"Kind",field:"kind",minWidth:170},{headerName:"Amount",field:"amount",valueFormatter:e=>ZH(e.value),minWidth:130},{headerName:"Ad Account",field:"ad_account_name",minWidth:180},{headerName:"Source Card",field:"source_card_name",minWidth:180},{headerName:"Note",field:"note",flex:1,minWidth:220},{headerName:"",field:"id",minWidth:90,cellRenderer:e=>x.jsxDEV("button",{className:"btn-danger btn-sm",onClick:()=>(async e=>{if(confirm("Delete this transaction? This will reverse its balance effects."))try{await D.deleteMarketingTransaction(e.id),t("Transaction deleted"),await W(),d&&await V(d)}catch(r){n(r.message||"Failed to delete transaction")}})(e.data),type:"button",children:x.jsxDEV(xe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:615,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:610,columnNumber:11},void 0)}],[d]);return o?x.jsxDEV("div",{className:"flex items-center justify-center py-20",children:x.jsxDEV("div",{className:"w-8 h-8 border-2 border-primary-200 border-t-primary-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:626,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:625,columnNumber:7},void 0):x.jsxDEV(x.Fragment,{children:[x.jsxDEV(FP,{toasts:e,removeToast:i},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:633,columnNumber:7},void 0),x.jsxDEV("div",{className:"max-w-7xl mx-auto animate-fade-in",children:[x.jsxDEV("div",{className:"flex items-start justify-between gap-4 mb-6",children:[x.jsxDEV("div",{children:[x.jsxDEV("h1",{className:"text-xl font-bold text-surface-900",children:"Marketing Management"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:637,columnNumber:13},void 0),x.jsxDEV("p",{className:"text-surface-500 text-sm",children:"Cards, dotation, balances, and ad account spend"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:638,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:636,columnNumber:11},void 0),x.jsxDEV("button",{className:"btn-secondary",onClick:W,type:"button",children:[x.jsxDEV(pe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:641,columnNumber:13},void 0),"Refresh"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:640,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:635,columnNumber:9},void 0),O&&x.jsxDEV("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[x.jsxDEV("div",{className:"card p-4",children:[x.jsxDEV("p",{className:"text-xs text-surface-500 mb-1",children:"Total Cold"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:649,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-lg font-semibold text-surface-900",children:ZH(O.total_cold_balance)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:650,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:648,columnNumber:13},void 0),x.jsxDEV("div",{className:"card p-4",children:[x.jsxDEV("p",{className:"text-xs text-surface-500 mb-1",children:"Total Real"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:653,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-lg font-semibold text-surface-900",children:ZH(O.total_real_balance)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:654,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:652,columnNumber:13},void 0),x.jsxDEV("div",{className:"card p-4",children:[x.jsxDEV("p",{className:"text-xs text-surface-500 mb-1",children:"Total Balance"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:657,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-lg font-semibold text-surface-900",children:ZH(O.total_balance)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:658,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:656,columnNumber:13},void 0),x.jsxDEV("div",{className:"card p-4",children:[x.jsxDEV("p",{className:"text-xs text-surface-500 mb-1",children:"Total Dotation"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:661,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-lg font-semibold text-surface-900",children:ZH(O.total_dotation_limit)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:662,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:660,columnNumber:13},void 0),x.jsxDEV("div",{className:"card p-4",children:[x.jsxDEV("p",{className:"text-xs text-surface-500 mb-1",children:"Dotation Left"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:665,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-lg font-semibold text-surface-900",children:ZH(O.total_dotation_left)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:666,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:664,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:647,columnNumber:11},void 0),x.jsxDEV("div",{className:"card p-5 mb-8",children:[x.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("h2",{className:"font-semibold text-surface-900",children:"Credit Cards"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:674,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-sm text-surface-500",children:"Click a card to view its transactions"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:675,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:673,columnNumber:13},void 0),x.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[x.jsxDEV("div",{className:"flex gap-2",children:[x.jsxDEV("select",{className:"input !py-2.5",value:c.key,onChange:e=>u({...c,key:e.target.value}),children:[x.jsxDEV("option",{value:"name",children:"Sort: Name"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:684,columnNumber:19},void 0),x.jsxDEV("option",{value:"dotation_limit",children:"Sort: Dotation"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:685,columnNumber:19},void 0),x.jsxDEV("option",{value:"dotation_left",children:"Sort: Dotation left"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:686,columnNumber:19},void 0),x.jsxDEV("option",{value:"total_balance",children:"Sort: Total balance"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:687,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:679,columnNumber:17},void 0),x.jsxDEV("select",{className:"input !py-2.5",value:c.dir,onChange:e=>u({...c,dir:e.target.value}),children:[x.jsxDEV("option",{value:"asc",children:"Asc"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:694,columnNumber:19},void 0),x.jsxDEV("option",{value:"desc",children:"Desc"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:695,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:689,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:678,columnNumber:15},void 0),x.jsxDEV("button",{className:"btn-primary",onClick:()=>{w(null),b(!0)},type:"button",children:[x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:699,columnNumber:17},void 0),"Add Card"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:698,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:677,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:672,columnNumber:11},void 0),x.jsxDEV("div",{className:"space-y-3",children:0===T.length?x.jsxDEV("div",{className:"text-sm text-surface-500 py-8 text-center bg-surface-50 rounded-lg border border-surface-100",children:"No cards yet."},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:707,columnNumber:15},void 0):T.map(e=>{const r=d===e.id,i=m[e.id]||[];return x.jsxDEV("div",{className:"border border-surface-200 rounded-xl overflow-hidden",children:[x.jsxDEV("button",{type:"button",onClick:()=>(async e=>{d!==e?(h(e),m[e]||await V(e)):h(null)})(e.id),className:"w-full text-left bg-white hover:bg-surface-50 transition-colors",children:x.jsxDEV("div",{className:"p-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[x.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[x.jsxDEV("div",{children:[x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("h3",{className:"font-semibold text-surface-900",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:725,columnNumber:31},void 0),e.last4&&x.jsxDEV("span",{className:"badge badge-default",children:["•••• ",e.last4]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:726,columnNumber:43},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:724,columnNumber:29},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500 mt-1",children:["Dotation left: ",ZH(e.dotation_left)," / ",ZH(e.dotation_limit)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:728,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:723,columnNumber:27},void 0),x.jsxDEV("div",{className:"lg:hidden",children:r?x.jsxDEV($,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:732,columnNumber:66},void 0):x.jsxDEV(_,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:732,columnNumber:102},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:732,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:722,columnNumber:25},void 0),x.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 lg:gap-6",children:[x.jsxDEV("div",{children:[x.jsxDEV("p",{className:"text-[11px] text-surface-500",children:"Cold"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:737,columnNumber:29},void 0),x.jsxDEV("p",{className:"text-sm font-medium text-surface-900",children:ZH(e.cold_balance)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:738,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:736,columnNumber:27},void 0),x.jsxDEV("div",{children:[x.jsxDEV("p",{className:"text-[11px] text-surface-500",children:"Real"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:741,columnNumber:29},void 0),x.jsxDEV("p",{className:"text-sm font-medium text-surface-900",children:ZH(e.real_balance)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:740,columnNumber:27},void 0),x.jsxDEV("div",{children:[x.jsxDEV("p",{className:"text-[11px] text-surface-500",children:"Total"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:745,columnNumber:29},void 0),x.jsxDEV("p",{className:"text-sm font-medium text-surface-900",children:ZH(e.total_balance)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:746,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:744,columnNumber:27},void 0),x.jsxDEV("div",{className:"flex items-center justify-end gap-2",children:[x.jsxDEV("button",{type:"button",className:"btn-secondary btn-sm",onClick:t=>{t.stopPropagation(),w(e),b(!0)},children:[x.jsxDEV(he,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:757,columnNumber:31},void 0),"Edit"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:749,columnNumber:29},void 0),x.jsxDEV("button",{type:"button",className:"btn-danger btn-sm",onClick:r=>{r.stopPropagation(),(async e=>{if(confirm(`Delete card "${e.name}"? This will also delete its transactions.`))try{await D.deleteMarketingCard(e.id),t("Card deleted"),await W(),h(t=>t===e.id?null:t)}catch(r){n(r.message||"Failed to delete card")}})(e)},children:[x.jsxDEV(xe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:768,columnNumber:31},void 0),"Delete"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:760,columnNumber:29},void 0),x.jsxDEV("div",{className:"hidden lg:block ml-2",children:r?x.jsxDEV($,{className:"w-5 h-5 text-surface-500"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:772,columnNumber:43},void 0):x.jsxDEV(_,{className:"w-5 h-5 text-surface-500"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:772,columnNumber:96},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:771,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:748,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:735,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:721,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:716,columnNumber:21},void 0),r&&x.jsxDEV("div",{className:"bg-surface-50 border-t border-surface-200 p-4",children:[x.jsxDEV("div",{className:"flex items-center justify-between gap-3 mb-3",children:[x.jsxDEV("div",{children:[x.jsxDEV("h4",{className:"font-semibold text-surface-900",children:"Transactions"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:783,columnNumber:29},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500",children:"Revenue/expense history for this card"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:784,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:782,columnNumber:27},void 0),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("button",{className:"btn-secondary btn-sm",type:"button",onClick:()=>V(e.id),disabled:f,children:[x.jsxDEV(pe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:793,columnNumber:31},void 0),"Reload"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:787,columnNumber:29},void 0),x.jsxDEV("button",{className:"btn-primary btn-sm",type:"button",onClick:()=>{return t=e.id,P(t),void E(!0);var t},children:[x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:801,columnNumber:31},void 0),"New"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:796,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:786,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:781,columnNumber:25},void 0),x.jsxDEV("div",{className:"ag-theme-quartz",style:{height:320,width:"100%"},children:x.jsxDEV(YH,{rowData:i,columnDefs:F,defaultColDef:{sortable:!0,filter:!0,resizable:!0},animateRows:!0,pagination:!0,paginationPageSize:25},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:808,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:807,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:780,columnNumber:23},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:715,columnNumber:19},void 0)})},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:705,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:671,columnNumber:9},void 0),x.jsxDEV("div",{className:"card p-5",children:[x.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("h2",{className:"font-semibold text-surface-900",children:"Ad Accounts"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:829,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-sm text-surface-500",children:"Transactions can reference ad accounts"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:830,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:828,columnNumber:13},void 0),x.jsxDEV("button",{className:"btn-primary",onClick:()=>{S(null),N(!0)},type:"button",children:[x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:833,columnNumber:15},void 0),"Add Ad Account"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:832,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:827,columnNumber:11},void 0),0===A.length?x.jsxDEV("div",{className:"text-sm text-surface-500 py-8 text-center bg-surface-50 rounded-lg border border-surface-100",children:"No ad accounts yet."},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:839,columnNumber:13},void 0):x.jsxDEV("div",{className:"overflow-x-auto",children:x.jsxDEV("table",{className:"min-w-full",children:[x.jsxDEV("thead",{children:x.jsxDEV("tr",{className:"text-xs text-surface-500 border-b border-surface-200",children:[x.jsxDEV("th",{className:"text-left py-2 pr-4 font-medium",children:"Name"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:847,columnNumber:21},void 0),x.jsxDEV("th",{className:"text-left py-2 pr-4 font-medium",children:"Linked Cards"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:848,columnNumber:21},void 0),x.jsxDEV("th",{className:"text-right py-2 font-medium",children:"Actions"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:849,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:846,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:845,columnNumber:17},void 0),x.jsxDEV("tbody",{children:A.map(e=>x.jsxDEV("tr",{className:"border-b border-surface-100",children:[x.jsxDEV("td",{className:"py-3 pr-4 text-sm font-medium text-surface-900",children:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:855,columnNumber:23},void 0),x.jsxDEV("td",{className:"py-3 pr-4",children:x.jsxDEV("div",{className:"flex flex-wrap gap-2",children:0===(e.linked_cards||[]).length?x.jsxDEV("span",{className:"text-sm text-surface-400",children:"None"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:859,columnNumber:29},void 0):e.linked_cards.map(e=>x.jsxDEV("span",{className:"badge badge-default",children:e.name},e.id,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:862,columnNumber:31},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:857,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:856,columnNumber:23},void 0),x.jsxDEV("td",{className:"py-3 text-right",children:x.jsxDEV("div",{className:"flex justify-end gap-2",children:[x.jsxDEV("button",{className:"btn-secondary btn-sm",type:"button",onClick:()=>(S(e),void N(!0)),children:[x.jsxDEV(he,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:872,columnNumber:29},void 0),"Edit"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:871,columnNumber:27},void 0),x.jsxDEV("button",{className:"btn-danger btn-sm",type:"button",onClick:()=>(async e=>{if(confirm(`Delete ad account "${e.name}"?`))try{await D.deleteMarketingAdAccount(e.id),t("Ad account deleted"),await W()}catch(r){n(r.message||"Failed to delete ad account")}})(e),children:[x.jsxDEV(xe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:876,columnNumber:29},void 0),"Delete"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:875,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:870,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:869,columnNumber:23},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:854,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:852,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:844,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:843,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:826,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:634,columnNumber:7},void 0),v&&x.jsxDEV(QH,{mode:y?"edit":"create",existingCards:R,card:y,onClose:()=>b(!1),onSave:async()=>{b(!1),t("Saved"),await W()}},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:891,columnNumber:9},void 0),C&&x.jsxDEV(e_,{mode:M?"edit":"create",cards:R,account:M,onClose:()=>N(!1),onSave:async()=>{N(!1),t("Saved"),await W()}},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:905,columnNumber:9},void 0),j&&k&&x.jsxDEV(t_,{cards:R,adAccounts:A,cardId:k,onClose:()=>{E(!1),P(null)},onSave:async()=>{E(!1),P(null),t("Transaction created"),await W(),d&&await V(d)}},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:919,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/pages/MarketingManagement.jsx",lineNumber:632,columnNumber:5},void 0)},r_={mention:"text-primary-600",assignment:"text-emerald-600",unassignment:"text-amber-600",status_change:"text-blue-600",comment_added:"text-purple-600",task_deleted:"text-red-600",project_invitation:"text-primary-600",role_change:"text-amber-600",default:"text-surface-400"},i_="bg-primary-500",o_="bg-primary-50/30",a_="bg-white",s_="bg-primary-50/50",l_="ring-2 ring-primary-500",c_="text-surface-600",u_="text-surface-900 font-medium",d_="text-surface-400",h_="bg-primary-100 text-primary-700",m_="text-surface-600 hover:bg-surface-100",p_="text-surface-900",f_="text-surface-400",g_="text-surface-500",v_="text-red-600 hover:text-red-700",b_="hover:bg-red-50 hover:text-red-600",y_="text-primary-600",x_="hover:bg-primary-100 hover:text-primary-700",w_="border-surface-300 text-primary-600 focus:ring-primary-500",C_=e=>{const t="w-4 h-4",n=(e=>r_[e]||r_.default)(e);switch(e){case"mention":return x.jsxDEV(T,{className:`${t} ${n}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:30,columnNumber:14},void 0);case"assignment":return x.jsxDEV(Ne,{className:`${t} ${n}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:32,columnNumber:14},void 0);case"unassignment":return x.jsxDEV(Ce,{className:`${t} ${n}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:34,columnNumber:14},void 0);case"status_change":return x.jsxDEV(B,{className:`${t} ${n}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:36,columnNumber:14},void 0);case"comment_added":return x.jsxDEV(se,{className:`${t} ${n}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:38,columnNumber:14},void 0);case"task_deleted":return x.jsxDEV(xe,{className:`${t} ${n}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:40,columnNumber:14},void 0);case"project_invitation":return x.jsxDEV(ee,{className:`${t} ${n}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:42,columnNumber:14},void 0);case"role_change":return x.jsxDEV(ve,{className:`${t} ${n}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:44,columnNumber:14},void 0);default:return x.jsxDEV(V,{className:`${t} ${n}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:46,columnNumber:14},void 0)}},N_=e=>{const{type:t,payload:n,actor_name:r}=e,i=r||"Someone";switch(t){case"mention":return`${i} mentioned you in ${"comment"===(null==n?void 0:n.context)?"a comment":"a task"}`;case"assignment":return`${i} assigned you to "${null==n?void 0:n.task_title}"`;case"unassignment":return`${i} removed you from "${null==n?void 0:n.task_title}"`;case"status_change":return`"${null==n?void 0:n.task_title}" status changed to ${null==n?void 0:n.new_status}`;case"comment_added":return`${i} commented on "${null==n?void 0:n.task_title}"`;case"task_deleted":return`"${null==n?void 0:n.task_title}" was deleted`;case"project_invitation":return`${i} invited you to "${null==n?void 0:n.project_name}"`;case"role_change":return`Your role in "${null==n?void 0:n.project_name}" changed to ${null==n?void 0:n.new_role}`;default:return"New notification"}},M_=e=>{if(!e)return"Just now";const t=new Date;let n;if(n=e instanceof Date?e:new Date(e),isNaN(n.getTime()))return"Just now";const r=t-n;if(r<0)return"Just now";const i=Math.floor(r/1e3),o=Math.floor(r/6e4),a=Math.floor(r/36e5),s=Math.floor(r/864e5);return i<10?"Just now":i<60?`${i}s ago`:o<60?`${o}m ago`:a<24?`${a}h ago`:`${s}d ago`},D_=({onClose:e})=>{const{notifications:t,markAsRead:n,markAllAsRead:i,removeNotification:a}=We(),s=o(),{toasts:l,success:c,error:u,removeToast:d}=TP(),[h,m]=r.useState(null),[p,f]=r.useState(null),[g,v]=r.useState("all"),[b,y]=r.useState(new Set),[w,C]=r.useState(!1),N=r.useMemo(()=>"unread"===g?t.filter(e=>!e.read):t,[t,g]),M=r.useMemo(()=>t.filter(e=>!e.read).length,[t]),S=e=>{y(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})};return x.jsxDEV(x.Fragment,{children:[x.jsxDEV(FP,{toasts:l,removeToast:d},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:242,columnNumber:7},void 0),x.jsxDEV("div",{className:"absolute right-0 mt-2 w-96 dropdown animate-scale-in z-[100] overflow-hidden",onClick:e=>{e.stopPropagation()},onMouseDown:e=>{e.stopPropagation()},children:[x.jsxDEV("div",{className:"px-4 py-3 border-b border-surface-100",children:[x.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[x.jsxDEV("h3",{className:`font-semibold ${p_}`,children:"Notifications"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:255,columnNumber:11},void 0),x.jsxDEV("div",{className:"flex items-center gap-1",children:w?x.jsxDEV(x.Fragment,{children:[x.jsxDEV("button",{onClick:async()=>{if(0===b.size)return;const e=Array.from(b);try{for(const t of e)await n(t);c(`Marked ${e.length} notification(s) as read`),y(new Set),C(!1)}catch(t){u("Failed to mark notifications as read")}},disabled:0===b.size,className:"icon-btn",title:"Mark selected as read",children:x.jsxDEV(B,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:265,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:259,columnNumber:17},void 0),x.jsxDEV("button",{onClick:async()=>{if(0===b.size)return;if(!confirm(`Delete ${b.size} notification(s)?`))return;const e=Array.from(b);let t=0;try{for(const r of e)try{await D.deleteNotification(r),a(r),t++}catch(n){console.error("Failed to delete notification:",n)}t>0&&c(`Deleted ${t} notification(s)`),y(new Set),C(!1)}catch(n){u("Failed to delete some notifications")}},disabled:0===b.size,className:`icon-btn ${v_}`,title:"Delete selected",children:x.jsxDEV(xe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:273,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:267,columnNumber:17},void 0),x.jsxDEV("button",{onClick:()=>{C(!1),y(new Set)},className:"icon-btn",title:"Cancel selection",children:x.jsxDEV(Se,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:283,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:275,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:258,columnNumber:15},void 0):x.jsxDEV(x.Fragment,{children:[x.jsxDEV("button",{onClick:()=>C(!0),className:"icon-btn",title:"Select multiple",children:x.jsxDEV(U,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:293,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:288,columnNumber:17},void 0),x.jsxDEV("button",{onClick:i,disabled:0===M,className:"icon-btn",title:"Mark all as read",children:x.jsxDEV(I,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:301,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:295,columnNumber:17},void 0),x.jsxDEV("button",{onClick:e,className:"icon-btn",children:x.jsxDEV(Se,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:304,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:303,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:287,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:256,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:254,columnNumber:9},void 0),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("button",{onClick:()=>v("all"),className:`px-3 py-1 text-xs font-medium rounded-lg transition-colors ${"all"===g?h_:m_}`,children:["All (",t.length,")"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:313,columnNumber:11},void 0),x.jsxDEV("button",{onClick:()=>v("unread"),className:`px-3 py-1 text-xs font-medium rounded-lg transition-colors ${"unread"===g?h_:m_}`,children:["Unread (",M,")"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:323,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:312,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:253,columnNumber:7},void 0),x.jsxDEV("div",{className:"max-h-96 overflow-y-auto",children:0===N.length?x.jsxDEV("div",{className:"px-4 py-12 text-center",children:[x.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-surface-100 flex items-center justify-center mx-auto mb-3",children:x.jsxDEV(V,{className:`w-6 h-6 ${f_}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:341,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:340,columnNumber:13},void 0),x.jsxDEV("p",{className:`${g_} text-sm`,children:"unread"===g?"No unread notifications":"No notifications yet"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:343,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:339,columnNumber:11},void 0):N.map(t=>{const r=b.has(t.id);return x.jsxDEV("div",{className:`flex items-start gap-3 px-4 py-3 hover:bg-surface-50 transition-all border-b border-surface-50 ${t.read?a_:o_} ${r?`${l_} ${s_}`:""} ${w?"cursor-default":"cursor-pointer"}`,onClick:()=>{w?S(t.id):(async t=>{var r;t.read||await n(t.id),(null==(r=t.payload)?void 0:r.project_id)&&(s(`/project/${t.payload.project_id}`),e())})(t)},children:[w&&x.jsxDEV("div",{className:"flex-shrink-0 mt-1",children:x.jsxDEV("input",{type:"checkbox",checked:r,onChange:()=>S(t.id),onClick:e=>e.stopPropagation(),className:`w-4 h-4 rounded ${w_}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:369,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:368,columnNumber:19},void 0),!w&&!t.read&&x.jsxDEV("div",{className:`w-2 h-2 rounded-full ${i_} flex-shrink-0 mt-2`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:381,columnNumber:19},void 0),x.jsxDEV("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-surface-100 flex items-center justify-center",children:C_(t.type)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:385,columnNumber:17},void 0),x.jsxDEV("div",{className:"flex-1 min-w-0",children:[x.jsxDEV("p",{className:`text-sm leading-snug ${t.read?c_:u_}`,children:N_(t)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:391,columnNumber:19},void 0),x.jsxDEV("p",{className:`text-xs ${d_} mt-1`,children:M_(t.created_at)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:394,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:390,columnNumber:17},void 0),!w&&x.jsxDEV("div",{className:"flex items-center gap-1 flex-shrink-0",children:[t.read?x.jsxDEV("button",{onClick:e=>{e.stopPropagation(),(async e=>{e.stopPropagation(),console.log("Mark as unread not yet implemented in backend")})(e,t.id)},className:"p-1.5 rounded hover:bg-surface-200 transition-colors opacity-60 hover:opacity-100",title:"Mark as unread",children:x.jsxDEV(U,{className:"w-3.5 h-3.5 text-surface-500"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:411,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:403,columnNumber:23},void 0):x.jsxDEV("button",{onClick:e=>(async(e,t)=>{e.stopPropagation(),f(t);try{await n(t),c("Marked as read")}catch(r){u("Failed to mark as read")}finally{f(null)}})(e,t.id),disabled:p===t.id,className:`p-1.5 rounded ${x_} transition-colors disabled:opacity-50`,title:"Mark as read",children:p===t.id?x.jsxDEV("div",{className:"w-3.5 h-3.5 border-2 border-surface-300 border-t-primary-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:421,columnNumber:27},void 0):x.jsxDEV(B,{className:`w-3.5 h-3.5 ${y_}`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:423,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:414,columnNumber:23},void 0),x.jsxDEV("button",{onClick:e=>(async(e,t)=>{if(e.stopPropagation(),confirm("Delete this notification?")){m(t);try{await D.deleteNotification(t),a(t),c("Notification deleted")}catch(n){console.error("Failed to delete notification:",n),u("Failed to delete notification")}finally{m(null)}}})(e,t.id),disabled:h===t.id,className:`p-1.5 rounded ${b_} transition-colors disabled:opacity-50`,title:"Delete notification",children:h===t.id?x.jsxDEV("div",{className:"w-3.5 h-3.5 border-2 border-surface-300 border-t-red-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:434,columnNumber:25},void 0):x.jsxDEV(xe,{className:"w-3.5 h-3.5 text-surface-500"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:436,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:427,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:401,columnNumber:19},void 0)]},t.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:351,columnNumber:15},void 0)})},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:337,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:243,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/NotificationsDropdown.jsx",lineNumber:241,columnNumber:5},void 0)},S_=({onClose:e})=>{const[t,n]=r.useState([]),[i,o]=r.useState(!0),[a,s]=r.useState(""),[l,c]=r.useState(!1);r.useEffect(()=>{u()},[]);const u=async()=>{try{const e=await D.getTodos();n(e.todos)}catch(e){console.error("Failed to load todos:",e)}finally{o(!1)}},d=t.filter(e=>e.completed).length,h=t.length>0?d/t.length*100:0;return x.jsxDEV(x.Fragment,{children:[x.jsxDEV("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 animate-fade-in",onClick:e},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:72,columnNumber:7},void 0),x.jsxDEV("div",{className:"fixed right-0 top-0 h-full w-80 bg-white border-l border-surface-200 z-50 animate-slide-up shadow-elevated flex flex-col",children:[x.jsxDEV("div",{className:"flex items-center justify-between px-5 py-4 border-b border-surface-200",children:[x.jsxDEV("div",{children:[x.jsxDEV("h2",{className:"font-semibold text-surface-900",children:"My To-Do List"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:82,columnNumber:13},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500 mt-0.5",children:[d," of ",t.length," completed"]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:83,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:81,columnNumber:11},void 0),x.jsxDEV("button",{onClick:e,className:"icon-btn",children:x.jsxDEV(Se,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:88,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:87,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:80,columnNumber:9},void 0),t.length>0&&x.jsxDEV("div",{className:"px-5 py-3 border-b border-surface-100",children:x.jsxDEV("div",{className:"h-1.5 bg-surface-100 rounded-full overflow-hidden",children:x.jsxDEV("div",{className:"h-full bg-primary-600 rounded-full transition-all duration-500 ease-smooth",style:{width:`${h}%`}},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:96,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:95,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:94,columnNumber:11},void 0),x.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),a.trim()){c(!0);try{const e=await D.createTodo(a);n([...t,e]),s("")}catch(r){console.error("Failed to add todo:",r)}finally{c(!1)}}},className:"px-5 py-4 border-b border-surface-100",children:x.jsxDEV("div",{className:"flex gap-2",children:[x.jsxDEV("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"Add a new todo...",className:"input text-sm py-2",disabled:l},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:107,columnNumber:13},void 0),x.jsxDEV("button",{type:"submit",disabled:l||!a.trim(),className:"btn-primary btn-sm px-3",children:x.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:120,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:106,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:105,columnNumber:9},void 0),x.jsxDEV("div",{className:"flex-1 overflow-y-auto p-3",children:i?x.jsxDEV("div",{className:"flex items-center justify-center py-8",children:x.jsxDEV("div",{className:"w-6 h-6 border-2 border-primary-200 border-t-primary-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:129,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:128,columnNumber:13},void 0):0===t.length?x.jsxDEV("div",{className:"text-center py-12 px-4",children:[x.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-surface-100 flex items-center justify-center mx-auto mb-3",children:x.jsxDEV(L,{className:"w-6 h-6 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:134,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:133,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-surface-600 text-sm font-medium",children:"No todos yet"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:136,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-xs text-surface-400 mt-1",children:"Add your first todo above"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:137,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:132,columnNumber:13},void 0):x.jsxDEV("div",{className:"space-y-1",children:t.map((e,r)=>x.jsxDEV("div",{className:"group flex items-center gap-3 p-3 rounded-lg transition-all duration-150 "+(e.completed?"bg-surface-50":"hover:bg-surface-50"),style:{animationDelay:30*r+"ms"},children:[x.jsxDEV("button",{onClick:()=>(async e=>{try{const r=await D.toggleTodo(e);n(t.map(t=>t.id===e?{...t,completed:r.completed}:t))}catch(r){console.error("Failed to toggle todo:",r)}})(e.id),className:"flex-shrink-0 transition-transform active:scale-90",children:e.completed?x.jsxDEV(L,{className:"w-5 h-5 text-primary-600"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:156,columnNumber:23},void 0):x.jsxDEV(U,{className:"w-5 h-5 text-surface-300 hover:text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:158,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:151,columnNumber:19},void 0),x.jsxDEV("span",{className:"flex-1 text-sm transition-all "+(e.completed?"line-through text-surface-400":"text-surface-700"),children:e.title},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:162,columnNumber:19},void 0),x.jsxDEV("button",{onClick:()=>(async e=>{try{await D.deleteTodo(e),n(t.filter(t=>t.id!==e))}catch(r){console.error("Failed to delete todo:",r)}})(e.id),className:"flex-shrink-0 p-1 text-surface-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all",children:x.jsxDEV(xe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:176,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:172,columnNumber:19},void 0)]},e.id,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:142,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:140,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:126,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:78,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/PersonalTodoSidebar.jsx",lineNumber:70,columnNumber:5},void 0)},j_=()=>{const{user:e,logout:t,isAdmin:n}=j(),{unreadCount:i}=We(),s=h(),l=o(),[c,u]=r.useState(!1),[d,p]=r.useState(!1),[f,g]=r.useState(!1),v=r.useRef(null),b=r.useRef(null);r.useEffect(()=>{const e=e=>{if(c&&v.current&&!v.current.contains(e.target)){e.target.closest('button[title="Notifications"]')||u(!1)}if(f&&b.current&&!b.current.contains(e.target)){const t=e.target.closest("button");t&&t.contains(b.current)||g(!1)}};if(c||f)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[c,f]);const y=[{path:"/",icon:ne,label:"Dashboard"}];return n&&(y.push({path:"/admin",icon:ve,label:"Admin Panel"}),y.push({path:"/marketing",icon:ae,label:"Marketing Management"})),x.jsxDEV("div",{className:"min-h-screen bg-surface-50 flex",children:[x.jsxDEV("aside",{className:"w-64 bg-white border-r border-surface-200 flex-shrink-0 flex flex-col h-screen sticky top-0",children:x.jsxDEV("div",{className:"flex flex-col h-full",children:[x.jsxDEV("div",{className:"h-16 px-6 flex items-center border-b border-surface-200",children:x.jsxDEV(a,{to:"/",className:"flex items-center gap-3",children:[x.jsxDEV("div",{className:"w-9 h-9 rounded-lg bg-primary-800 flex items-center justify-center",children:x.jsxDEV(Q,{className:"w-5 h-5 text-white"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:81,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:80,columnNumber:15},void 0),x.jsxDEV("span",{className:"text-xl font-bold text-surface-900",children:"Meetat"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:83,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:79,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:78,columnNumber:11},void 0),x.jsxDEV("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:y.map(e=>{const t=e.icon,n=s.pathname===e.path;return x.jsxDEV(a,{to:e.path,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-150 "+(n?"bg-primary-50 text-primary-800 font-medium":"text-surface-600 hover:bg-surface-50 hover:text-surface-900"),children:[x.jsxDEV(t,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:103,columnNumber:19},void 0),x.jsxDEV("span",{children:e.label},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:104,columnNumber:19},void 0)]},e.path,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:94,columnNumber:17},void 0)})},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:88,columnNumber:11},void 0),x.jsxDEV("div",{className:"p-4 border-t border-surface-200",children:x.jsxDEV("div",{className:"flex items-center gap-3 px-3 py-2",children:[x.jsxDEV(Oe,{user:e,size:"md"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:113,columnNumber:15},void 0),x.jsxDEV("div",{className:"flex-1 min-w-0",children:[x.jsxDEV("p",{className:"font-medium text-surface-900 truncate text-sm",children:null==e?void 0:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:115,columnNumber:17},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500 truncate",children:null==e?void 0:e.email},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:116,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:114,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:112,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:111,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:76,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:75,columnNumber:7},void 0),x.jsxDEV("div",{className:"flex-1 flex flex-col min-w-0",children:[x.jsxDEV("header",{className:"h-16 bg-white border-b border-surface-200 flex items-center justify-between px-4 lg:px-6 sticky top-0 z-30",children:[x.jsxDEV("div",{className:"flex-1"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:127,columnNumber:11},void 0),x.jsxDEV("div",{className:"flex items-center gap-1",children:[x.jsxDEV("button",{className:"icon-btn relative",onClick:()=>p(!d),title:"My To-Do List",children:x.jsxDEV(H,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:137,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:132,columnNumber:13},void 0),x.jsxDEV("div",{className:"relative",ref:v,children:[x.jsxDEV("button",{className:"icon-btn relative",onClick:e=>{e.stopPropagation(),u(!c)},title:"Notifications",children:[x.jsxDEV(V,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:150,columnNumber:17},void 0),i>0&&x.jsxDEV("span",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-medium",children:i>9?"9+":i},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:152,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:142,columnNumber:15},void 0),c&&x.jsxDEV(D_,{onClose:()=>u(!1)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:159,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:141,columnNumber:13},void 0),x.jsxDEV("div",{className:"relative ml-2",ref:b,children:[x.jsxDEV("button",{className:"flex items-center gap-2 py-1.5 px-2 rounded-lg hover:bg-surface-50 transition-colors",onClick:()=>g(!f),children:[x.jsxDEV(Oe,{user:e,size:"sm"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:169,columnNumber:17},void 0),x.jsxDEV(_,{className:"w-4 h-4 text-surface-400"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:170,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:165,columnNumber:15},void 0),f&&x.jsxDEV("div",{className:"absolute right-0 mt-2 w-48 dropdown animate-scale-in z-50",children:[x.jsxDEV("div",{className:"px-4 py-3 border-b border-surface-100",children:[x.jsxDEV("p",{className:"font-medium text-surface-900 text-sm",children:null==e?void 0:e.name},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:176,columnNumber:21},void 0),x.jsxDEV("p",{className:"text-xs text-surface-500 capitalize",children:null==e?void 0:e.role},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:177,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:175,columnNumber:19},void 0),x.jsxDEV("button",{onClick:()=>{t(),l("/login")},className:"dropdown-item w-full",children:[x.jsxDEV(ie,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:183,columnNumber:21},void 0),x.jsxDEV("span",{children:"Sign out"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:184,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:179,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:174,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:164,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:130,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:126,columnNumber:9},void 0),x.jsxDEV("main",{className:"flex-1 overflow-auto p-4 lg:p-6",children:x.jsxDEV(m,{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:194,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:193,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:124,columnNumber:7},void 0),d&&x.jsxDEV(S_,{onClose:()=>p(!1)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:200,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/Layout.jsx",lineNumber:73,columnNumber:5},void 0)},E_=({size:e="medium",className:t=""})=>x.jsxDEV("div",{className:`flex items-center justify-center ${t}`,children:x.jsxDEV("div",{className:`${{small:"w-5 h-5 border-2",medium:"w-8 h-8 border-3",large:"w-12 h-12 border-4"}[e]} border-primary-500/30 border-t-primary-500 rounded-full animate-spin`},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/LoadingSpinner.jsx",lineNumber:12,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/components/LoadingSpinner.jsx",lineNumber:11,columnNumber:5},void 0),k_=({children:e,adminOnly:t=!1})=>{const{user:n,loading:r,isAdmin:i}=j();return r?x.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:x.jsxDEV(E_,{size:"large"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:25,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:24,columnNumber:7},void 0):n?t&&!i?x.jsxDEV(g,{to:"/",replace:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:35,columnNumber:12},void 0):e:x.jsxDEV(g,{to:"/login",replace:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:31,columnNumber:12},void 0)},P_=({children:e})=>{const{user:t,loading:n}=j();return n?x.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:x.jsxDEV(E_,{size:"large"},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:48,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:47,columnNumber:7},void 0):t?x.jsxDEV(g,{to:"/",replace:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:54,columnNumber:12},void 0):e};function W_(){return x.jsxDEV(p,{children:[x.jsxDEV(f,{path:"/login",element:x.jsxDEV(P_,{children:x.jsxDEV(je,{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:66,columnNumber:11},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:65,columnNumber:9},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:64,columnNumber:7},this),x.jsxDEV(f,{path:"/register",element:x.jsxDEV(P_,{children:x.jsxDEV(Ee,{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:71,columnNumber:11},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:70,columnNumber:9},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:69,columnNumber:7},this),x.jsxDEV(f,{path:"/",element:x.jsxDEV(k_,{children:x.jsxDEV(j_,{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:78,columnNumber:11},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:77,columnNumber:9},this),children:[x.jsxDEV(f,{index:!0,element:x.jsxDEV(ke,{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:81,columnNumber:31},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:81,columnNumber:9},this),x.jsxDEV(f,{path:"project/:projectId",element:x.jsxDEV(ze,{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:82,columnNumber:51},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:82,columnNumber:9},this),x.jsxDEV(f,{path:"project/:projectId/ads",element:x.jsxDEV(WP,{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:83,columnNumber:55},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:83,columnNumber:9},this),x.jsxDEV(f,{path:"admin",element:x.jsxDEV(k_,{adminOnly:!0,children:x.jsxDEV(AP,{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:86,columnNumber:13},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:84,columnNumber:9},this),x.jsxDEV(f,{path:"marketing",element:x.jsxDEV(k_,{adminOnly:!0,children:x.jsxDEV(n_,{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:91,columnNumber:13},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:90,columnNumber:11},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:89,columnNumber:9},this)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:76,columnNumber:7},this),x.jsxDEV(f,{path:"*",element:x.jsxDEV(g,{to:"/",replace:!0},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:97,columnNumber:32},this)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:97,columnNumber:7},this)]},void 0,!0,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/App.jsx",lineNumber:62,columnNumber:5},this)}w.createRoot(document.getElementById("root")).render(x.jsxDEV(u.StrictMode,{children:x.jsxDEV(v,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:x.jsxDEV(E,{children:x.jsxDEV(Re,{children:x.jsxDEV(W_,{},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/main.jsx",lineNumber:19,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/main.jsx",lineNumber:18,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/main.jsx",lineNumber:17,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/main.jsx",lineNumber:11,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/W/Wcreativity/Meetat/meetat4/Meetat/frontend/src/main.jsx",lineNumber:10,columnNumber:3},void 0));
